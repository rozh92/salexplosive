var iH=Object.defineProperty;var sH=(t,e,n)=>e in t?iH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C0=(t,e,n)=>sH(t,typeof e!="symbol"?e+"":e,n);function aH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N0={exports:{}},Xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP;function oH(){if(HP)return Xh;HP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Xh.Fragment=e,Xh.jsx=n,Xh.jsxs=n,Xh}var KP;function lH(){return KP||(KP=1,N0.exports=oH()),N0.exports}var f=lH(),P0={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function cH(){if(WP)return at;WP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),_=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=_&&K[_]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function I(K,Q,H){this.props=K,this.context=Q,this.refs=A,this.updater=H||S}I.prototype.isReactComponent={},I.prototype.setState=function(K,Q){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,Q,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function j(){}j.prototype=I.prototype;function M(K,Q,H){this.props=K,this.context=Q,this.refs=A,this.updater=H||S}var B=M.prototype=new j;B.constructor=M,E(B,I.prototype),B.isPureReactComponent=!0;var V=Array.isArray;function N(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function D(K,Q,H){var ge=H.ref;return{$$typeof:t,type:K,key:Q,ref:ge!==void 0?ge:null,props:H}}function z(K,Q){return D(K.type,Q,K.props)}function $(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function U(K){var Q={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(H){return Q[H]})}var q=/\/+/g;function te(K,Q){return typeof K=="object"&&K!==null&&K.key!=null?U(""+K.key):Q.toString(36)}function ee(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(N,N):(K.status="pending",K.then(function(Q){K.status==="pending"&&(K.status="fulfilled",K.value=Q)},function(Q){K.status==="pending"&&(K.status="rejected",K.reason=Q)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Y(K,Q,H,ge,Ee){var se=typeof K;(se==="undefined"||se==="boolean")&&(K=null);var re=!1;if(K===null)re=!0;else switch(se){case"bigint":case"string":case"number":re=!0;break;case"object":switch(K.$$typeof){case t:case e:re=!0;break;case h:return re=K._init,Y(re(K._payload),Q,H,ge,Ee)}}if(re)return Ee=Ee(K),re=ge===""?"."+te(K,0):ge,V(Ee)?(H="",re!=null&&(H=re.replace(q,"$&/")+"/"),Y(Ee,Q,H,"",function(Re){return Re})):Ee!=null&&($(Ee)&&(Ee=z(Ee,H+(Ee.key==null||K&&K.key===Ee.key?"":(""+Ee.key).replace(q,"$&/")+"/")+re)),Q.push(Ee)),1;re=0;var $e=ge===""?".":ge+":";if(V(K))for(var ae=0;ae<K.length;ae++)ge=K[ae],se=$e+te(ge,ae),re+=Y(ge,Q,H,se,Ee);else if(ae=v(K),typeof ae=="function")for(K=ae.call(K),ae=0;!(ge=K.next()).done;)ge=ge.value,se=$e+te(ge,ae++),re+=Y(ge,Q,H,se,Ee);else if(se==="object"){if(typeof K.then=="function")return Y(ee(K),Q,H,ge,Ee);throw Q=String(K),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return re}function X(K,Q,H){if(K==null)return K;var ge=[],Ee=0;return Y(K,ge,"","",function(se){return Q.call(H,se,Ee++)}),ge}function fe(K){if(K._status===-1){var Q=K._result;Q=Q(),Q.then(function(H){(K._status===0||K._status===-1)&&(K._status=1,K._result=H)},function(H){(K._status===0||K._status===-1)&&(K._status=2,K._result=H)}),K._status===-1&&(K._status=0,K._result=Q)}if(K._status===1)return K._result.default;throw K._result}var be=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},F={map:X,forEach:function(K,Q,H){X(K,function(){Q.apply(this,arguments)},H)},count:function(K){var Q=0;return X(K,function(){Q++}),Q},toArray:function(K){return X(K,function(Q){return Q})||[]},only:function(K){if(!$(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return at.Activity=p,at.Children=F,at.Component=I,at.Fragment=n,at.Profiler=i,at.PureComponent=M,at.StrictMode=r,at.Suspense=u,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,at.__COMPILER_RUNTIME={__proto__:null,c:function(K){return P.H.useMemoCache(K)}},at.cache=function(K){return function(){return K.apply(null,arguments)}},at.cacheSignal=function(){return null},at.cloneElement=function(K,Q,H){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var ge=E({},K.props),Ee=K.key;if(Q!=null)for(se in Q.key!==void 0&&(Ee=""+Q.key),Q)!O.call(Q,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&Q.ref===void 0||(ge[se]=Q[se]);var se=arguments.length-2;if(se===1)ge.children=H;else if(1<se){for(var re=Array(se),$e=0;$e<se;$e++)re[$e]=arguments[$e+2];ge.children=re}return D(K.type,Ee,ge)},at.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},at.createElement=function(K,Q,H){var ge,Ee={},se=null;if(Q!=null)for(ge in Q.key!==void 0&&(se=""+Q.key),Q)O.call(Q,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ee[ge]=Q[ge]);var re=arguments.length-2;if(re===1)Ee.children=H;else if(1<re){for(var $e=Array(re),ae=0;ae<re;ae++)$e[ae]=arguments[ae+2];Ee.children=$e}if(K&&K.defaultProps)for(ge in re=K.defaultProps,re)Ee[ge]===void 0&&(Ee[ge]=re[ge]);return D(K,se,Ee)},at.createRef=function(){return{current:null}},at.forwardRef=function(K){return{$$typeof:l,render:K}},at.isValidElement=$,at.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:fe}},at.memo=function(K,Q){return{$$typeof:d,type:K,compare:Q===void 0?null:Q}},at.startTransition=function(K){var Q=P.T,H={};P.T=H;try{var ge=K(),Ee=P.S;Ee!==null&&Ee(H,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(N,be)}catch(se){be(se)}finally{Q!==null&&H.types!==null&&(Q.types=H.types),P.T=Q}},at.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},at.use=function(K){return P.H.use(K)},at.useActionState=function(K,Q,H){return P.H.useActionState(K,Q,H)},at.useCallback=function(K,Q){return P.H.useCallback(K,Q)},at.useContext=function(K){return P.H.useContext(K)},at.useDebugValue=function(){},at.useDeferredValue=function(K,Q){return P.H.useDeferredValue(K,Q)},at.useEffect=function(K,Q){return P.H.useEffect(K,Q)},at.useEffectEvent=function(K){return P.H.useEffectEvent(K)},at.useId=function(){return P.H.useId()},at.useImperativeHandle=function(K,Q,H){return P.H.useImperativeHandle(K,Q,H)},at.useInsertionEffect=function(K,Q){return P.H.useInsertionEffect(K,Q)},at.useLayoutEffect=function(K,Q){return P.H.useLayoutEffect(K,Q)},at.useMemo=function(K,Q){return P.H.useMemo(K,Q)},at.useOptimistic=function(K,Q){return P.H.useOptimistic(K,Q)},at.useReducer=function(K,Q,H){return P.H.useReducer(K,Q,H)},at.useRef=function(K){return P.H.useRef(K)},at.useState=function(K){return P.H.useState(K)},at.useSyncExternalStore=function(K,Q,H){return P.H.useSyncExternalStore(K,Q,H)},at.useTransition=function(){return P.H.useTransition()},at.version="19.2.0",at}var YP;function Cf(){return YP||(YP=1,P0.exports=cH()),P0.exports}var k=Cf();const PV=Is(k),uH=aH({__proto__:null,default:PV},[k]);var R0={exports:{}},Qh={},M0={exports:{}},D0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP;function dH(){return JP||(JP=1,(function(t){function e(Y,X){var fe=Y.length;Y.push(X);e:for(;0<fe;){var be=fe-1>>>1,F=Y[be];if(0<i(F,X))Y[be]=X,Y[fe]=F,fe=be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var X=Y[0],fe=Y.pop();if(fe!==X){Y[0]=fe;e:for(var be=0,F=Y.length,K=F>>>1;be<K;){var Q=2*(be+1)-1,H=Y[Q],ge=Q+1,Ee=Y[ge];if(0>i(H,fe))ge<F&&0>i(Ee,H)?(Y[be]=Ee,Y[ge]=fe,be=ge):(Y[be]=H,Y[Q]=fe,be=Q);else if(ge<F&&0>i(Ee,fe))Y[be]=Ee,Y[ge]=fe,be=ge;else break e}}return X}function i(Y,X){var fe=Y.sortIndex-X.sortIndex;return fe!==0?fe:Y.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,p=null,_=3,v=!1,S=!1,E=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function B(Y){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=Y)r(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function V(Y){if(E=!1,B(Y),!S)if(n(u)!==null)S=!0,N||(N=!0,U());else{var X=n(d);X!==null&&ee(V,X.startTime-Y)}}var N=!1,P=-1,O=5,D=-1;function z(){return A?!0:!(t.unstable_now()-D<O)}function $(){if(A=!1,N){var Y=t.unstable_now();D=Y;var X=!0;try{e:{S=!1,E&&(E=!1,j(P),P=-1),v=!0;var fe=_;try{t:{for(B(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&z());){var be=p.callback;if(typeof be=="function"){p.callback=null,_=p.priorityLevel;var F=be(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof F=="function"){p.callback=F,B(Y),X=!0;break t}p===n(u)&&r(u),B(Y)}else r(u);p=n(u)}if(p!==null)X=!0;else{var K=n(d);K!==null&&ee(V,K.startTime-Y),X=!1}}break e}finally{p=null,_=fe,v=!1}X=void 0}}finally{X?U():N=!1}}}var U;if(typeof M=="function")U=function(){M($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=$,U=function(){te.postMessage(null)}}else U=function(){I($,0)};function ee(Y,X){P=I(function(){Y(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var fe=_;_=X;try{return Y()}finally{_=fe}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=_;_=Y;try{return X()}finally{_=fe}},t.unstable_scheduleCallback=function(Y,X,fe){var be=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?be+fe:be):fe=be,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=fe+F,Y={id:h++,callback:X,priorityLevel:Y,startTime:fe,expirationTime:F,sortIndex:-1},fe>be?(Y.sortIndex=fe,e(d,Y),n(u)===null&&Y===n(d)&&(E?(j(P),P=-1):E=!0,ee(V,fe-be))):(Y.sortIndex=F,e(u,Y),S||v||(S=!0,N||(N=!0,U()))),Y},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Y){var X=_;return function(){var fe=_;_=X;try{return Y.apply(this,arguments)}finally{_=fe}}}})(D0)),D0}var XP;function fH(){return XP||(XP=1,M0.exports=dH()),M0.exports}var j0={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function hH(){if(QP)return Vr;QP=1;var t=Cf();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},Vr.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},Vr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Vr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Vr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:_,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:_,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Vr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Vr.requestFormReset=function(u){r.d.r(u)},Vr.unstable_batchedUpdates=function(u,d){return u(d)},Vr.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},Vr.useFormStatus=function(){return a.H.useHostTransitionStatus()},Vr.version="19.2.0",Vr}var ZP;function RV(){if(ZP)return j0.exports;ZP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),j0.exports=hH(),j0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function mH(){if(eR)return Qh;eR=1;var t=fH(),e=Cf(),n=RV();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var m=o,g=c;;){var w=m.return;if(w===null)break;var T=w.alternate;if(T===null){if(g=w.return,g!==null){m=g;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===m)return u(w),o;if(T===g)return u(w),c;T=T.sibling}throw Error(r(188))}if(m.return!==g.return)m=w,g=T;else{for(var R=!1,G=w.child;G;){if(G===m){R=!0,m=w,g=T;break}if(G===g){R=!0,g=w,m=T;break}G=G.sibling}if(!R){for(G=T.child;G;){if(G===m){R=!0,m=T,g=w;break}if(G===g){R=!0,g=T,m=w;break}G=G.sibling}if(!R)throw Error(r(189))}}if(m.alternate!==g)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function te(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case N:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case M:return o.displayName||"Context";case j:return(o._context.displayName||"Context")+".Consumer";case B:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:te(o.type)||"Memo";case O:c=o._payload,o=o._init;try{return te(o(c))}catch{}}return null}var ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},be=[],F=-1;function K(o){return{current:o}}function Q(o){0>F||(o.current=be[F],be[F]=null,F--)}function H(o,c){F++,be[F]=o.current,o.current=c}var ge=K(null),Ee=K(null),se=K(null),re=K(null);function $e(o,c){switch(H(se,c),H(Ee,o),H(ge,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?pP(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=pP(c),o=gP(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Q(ge),H(ge,o)}function ae(){Q(ge),Q(Ee),Q(se)}function Re(o){o.memoizedState!==null&&H(re,o);var c=ge.current,m=gP(c,o.type);c!==m&&(H(Ee,o),H(ge,m))}function Me(o){Ee.current===o&&(Q(ge),Q(Ee)),re.current===o&&(Q(re),Kh._currentValue=fe)}var le,nt;function Ge(o){if(le===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);le=c&&c[1]||"",nt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+o+nt}var mt=!1;function pt(o,c){if(!o||mt)return"";mt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var de=me}Reflect.construct(o,[],we)}else{try{we.call()}catch(me){de=me}o.call(we.prototype)}}else{try{throw Error()}catch(me){de=me}(we=o())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),R=T[0],G=T[1];if(R&&G){var J=R.split(`
`),ue=G.split(`
`);for(w=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;w<ue.length&&!ue[w].includes("DetermineComponentFrameRoot");)w++;if(g===J.length||w===ue.length)for(g=J.length-1,w=ue.length-1;1<=g&&0<=w&&J[g]!==ue[w];)w--;for(;1<=g&&0<=w;g--,w--)if(J[g]!==ue[w]){if(g!==1||w!==1)do if(g--,w--,0>w||J[g]!==ue[w]){var ye=`
`+J[g].replace(" at new "," at ");return o.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",o.displayName)),ye}while(1<=g&&0<=w);break}}}finally{mt=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Ge(m):""}function Pt(o,c){switch(o.tag){case 26:case 27:case 5:return Ge(o.type);case 16:return Ge("Lazy");case 13:return o.child!==c&&c!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return pt(o.type,!1);case 11:return pt(o.type.render,!1);case 1:return pt(o.type,!0);case 31:return Ge("Activity");default:return""}}function vt(o){try{var c="",m=null;do c+=Pt(o,m),m=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Fe=Object.prototype.hasOwnProperty,Ae=t.unstable_scheduleCallback,ot=t.unstable_cancelCallback,Er=t.unstable_shouldYield,Lr=t.unstable_requestPaint,vn=t.unstable_now,ea=t.unstable_getCurrentPriorityLevel,ve=t.unstable_ImmediatePriority,Ne=t.unstable_UserBlockingPriority,Qe=t.unstable_NormalPriority,gt=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,Ar=t.log,Pi=t.unstable_setDisableYieldValue,Nn=null,bn=null;function ir(o){if(typeof Ar=="function"&&Pi(o),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Nn,o)}catch{}}var Tt=Math.clz32?Math.clz32:Zf,es=Math.log,kr=Math.LN2;function Zf(o){return o>>>=0,o===0?32:31-(es(o)/kr|0)|0}var Ns=256,Fo=262144,Ln=4194304;function ts(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ke(o,c,m){var g=o.pendingLanes;if(g===0)return 0;var w=0,T=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var G=g&134217727;return G!==0?(g=G&~T,g!==0?w=ts(g):(R&=G,R!==0?w=ts(R):m||(m=G&~o,m!==0&&(w=ts(m))))):(G=g&~T,G!==0?w=ts(G):R!==0?w=ts(R):m||(m=g&~o,m!==0&&(w=ts(m)))),w===0?0:c!==0&&c!==w&&(c&T)===0&&(T=w&-w,m=c&-c,T>=m||T===32&&(m&4194048)!==0)?c:w}function Te(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function et(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function je(){var o=Ln;return Ln<<=1,(Ln&62914560)===0&&(Ln=4194304),o}function ut(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Rt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Et(o,c,m,g,w,T){var R=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var G=o.entanglements,J=o.expirationTimes,ue=o.hiddenUpdates;for(m=R&~m;0<m;){var ye=31-Tt(m),we=1<<ye;G[ye]=0,J[ye]=-1;var de=ue[ye];if(de!==null)for(ue[ye]=null,ye=0;ye<de.length;ye++){var me=de[ye];me!==null&&(me.lane&=-536870913)}m&=~we}g!==0&&rn(o,g,0),T!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=T&~(R&~c))}function rn(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Tt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|m&261930}function sn(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var g=31-Tt(m),w=1<<g;w&c|o[g]&c&&(o[g]|=c),m&=~w}}function $n(o,c){var m=c&-c;return m=(m&42)!==0?1:sr(m),(m&(o.suspendedLanes|c))!==0?0:m}function sr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ar(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function $r(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:VP(o.type))}function hn(o,c){var m=X.p;try{return X.p=o,c()}finally{X.p=m}}var xn=Math.random().toString(36).slice(2),dt="__reactFiber$"+xn,_t="__reactProps$"+xn,Xr="__reactContainer$"+xn,Ps="__reactEvents$"+xn,Mu="__reactListeners$"+xn,bg="__reactHandles$"+xn,xg="__reactResources$"+xn,ta="__reactMarker$"+xn;function Du(o){delete o[dt],delete o[_t],delete o[Ps],delete o[Mu],delete o[bg]}function na(o){var c=o[dt];if(c)return c;for(var m=o.parentNode;m;){if(c=m[Xr]||m[dt]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=SP(o);o!==null;){if(m=o[dt])return m;o=SP(o)}return c}o=m,m=o.parentNode}return null}function ns(o){if(o=o[dt]||o[Xr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Ri(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function ra(o){var c=o[xg];return c||(c=o[xg]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Hn(o){o[ta]=!0}var eh=new Set,th={};function ia(o,c){sa(o,c),sa(o+"Capture",c)}function sa(o,c){for(th[o]=c,o=0;o<c.length;o++)eh.add(c[o])}var nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rh={},ih={};function wg(o){return Fe.call(ih,o)?!0:Fe.call(rh,o)?!1:nh.test(o)?ih[o]=!0:(rh[o]=!0,!1)}function ju(o,c,m){if(wg(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Mi(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function Kn(o,c,m,g){if(g===null)o.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+g)}}function gr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function qo(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function sh(o,c,m){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,T=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(R){m=""+R,T.call(this,R)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ft(o){if(!o._valueTracker){var c=qo(o)?"checked":"value";o._valueTracker=sh(o,c,""+o[c])}}function uc(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),g="";return o&&(g=qo(o)?o.checked?"true":"false":o.value),o=g,o!==m?(c.setValue(o),!0):!1}function aa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var dc=/[\n"\\]/g;function ci(o){return o.replace(dc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ou(o,c,m,g,w,T,R,G){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),c!=null?R==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+gr(c)):o.value!==""+gr(c)&&(o.value=""+gr(c)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),c!=null?ah(o,R,gr(c)):m!=null?ah(o,R,gr(m)):g!=null&&o.removeAttribute("value"),w==null&&T!=null&&(o.defaultChecked=!!T),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.name=""+gr(G):o.removeAttribute("name")}function Sg(o,c,m,g,w,T,R,G){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){Ft(o);return}m=m!=null?""+gr(m):"",c=c!=null?""+gr(c):m,G||c===o.value||(o.value=c),o.defaultValue=c}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=G?o.checked:!!g,o.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),Ft(o)}function ah(o,c,m){c==="number"&&aa(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Go(o,c,m,g){if(o=o.options,c){c={};for(var w=0;w<m.length;w++)c["$"+m[w]]=!0;for(m=0;m<o.length;m++)w=c.hasOwnProperty("$"+o[m].value),o[m].selected!==w&&(o[m].selected=w),w&&g&&(o[m].defaultSelected=!0)}else{for(m=""+gr(m),c=null,w=0;w<o.length;w++){if(o[w].value===m){o[w].selected=!0,g&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function Tg(o,c,m){if(c!=null&&(c=""+gr(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+gr(m):""}function Ho(o,c,m,g){if(c==null){if(g!=null){if(m!=null)throw Error(r(92));if(ee(g)){if(1<g.length)throw Error(r(93));g=g[0]}m=g}m==null&&(m=""),c=m}m=gr(c),o.defaultValue=m,g=o.textContent,g===m&&g!==""&&g!==null&&(o.value=g),Ft(o)}function ui(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oh(o,c,m){var g=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,m):typeof m!="number"||m===0||Eg.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function lh(o,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,m!=null){for(var g in m)!m.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var w in c)g=c[w],c.hasOwnProperty(w)&&m[w]!==g&&oh(o,w,g)}else for(var T in c)c.hasOwnProperty(T)&&oh(o,T,c[T])}function Lu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(o){return Ko.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Rs(){}var ch=null;function rs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wo=null,oa=null;function fc(o){var c=ns(o);if(c&&(o=c.stateNode)){var m=o[_t]||null;e:switch(o=c.stateNode,c.type){case"input":if(Ou(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ci(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var g=m[c];if(g!==o&&g.form===o.form){var w=g[_t]||null;if(!w)throw Error(r(90));Ou(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<m.length;c++)g=m[c],g.form===o.form&&uc(g)}break e;case"textarea":Tg(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Go(o,!!m.multiple,c,!1)}}}var Vu=!1;function Yo(o,c,m){if(Vu)return o(c,m);Vu=!0;try{var g=o(c);return g}finally{if(Vu=!1,(Wo!==null||oa!==null)&&(v_(),Wo&&(c=Wo,o=oa,oa=Wo=null,fc(c),o)))for(c=0;c<o.length;c++)fc(o[c])}}function Ms(o,c){var m=o.stateNode;if(m===null)return null;var g=m[_t]||null;if(g===null)return null;m=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=!1;if(is)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){hc=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{hc=!1}var la=null,uh=null,mc=null;function dh(){if(mc)return mc;var o,c=uh,m=c.length,g,w="value"in la?la.value:la.textContent,T=w.length;for(o=0;o<m&&c[o]===w[o];o++);var R=m-o;for(g=1;g<=R&&c[m-g]===w[T-g];g++);return mc=w.slice(o,1<g?1-g:void 0)}function pc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ua(){return!0}function Ds(){return!1}function Ir(o){function c(m,g,w,T,R){this._reactName=m,this._targetInst=w,this.type=g,this.nativeEvent=T,this.target=R,this.currentTarget=null;for(var G in o)o.hasOwnProperty(G)&&(m=o[G],this[G]=m?m(T):T[G]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ua:Ds,this.isPropagationStopped=Ds,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),c}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Ir(za),Jo=p({},za,{view:0,detail:0}),fh=Ir(Jo),Xo,Uu,ua,zu=p({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ua&&(ua&&o.type==="mousemove"?(Xo=o.screenX-ua.screenX,Uu=o.screenY-ua.screenY):Uu=Xo=0,ua=o),Xo)},movementY:function(o){return"movementY"in o?o.movementY:Uu}}),hh=Ir(zu),gc=p({},zu,{dataTransfer:0}),kg=Ir(gc),Ig=p({},Jo,{relatedTarget:0}),_c=Ir(Ig),mh=p({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Cg=Ir(mh),Bu=p({},za,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ng=Ir(Bu),Pg=p({},za,{data:0}),da=Ir(Pg),Rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Dg[o])?!!c[o]:!1}function Qo(){return jg}var Qr=p({},Jo,{key:function(o){if(o.key){var c=Rg[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=pc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Mg[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(o){return o.type==="keypress"?pc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?pc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Og=Ir(Qr),Lg=p({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=Ir(Lg),x=p({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),C=Ir(x),L=p({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=Ir(L),oe=p({},zu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),he=Ir(oe),De=p({},za,{newState:0,oldState:0}),lt=Ir(De),Vn=[9,13,27,32],Vt=is&&"CompositionEvent"in window,wn=null;is&&"documentMode"in document&&(wn=document.documentMode);var ss=is&&"TextEvent"in window&&!wn,fa=is&&(!Vt||wn&&8<wn&&11>=wn),js=" ",Os=!1;function yc(o,c){switch(o){case"keyup":return Vn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var qu=!1;function I9(o,c){switch(o){case"compositionend":return Fu(c);case"keypress":return c.which!==32?null:(Os=!0,js);case"textInput":return o=c.data,o===js&&Os?null:o;default:return null}}function C9(o,c){if(qu)return o==="compositionend"||!Vt&&yc(o,c)?(o=dh(),mc=uh=la=null,qu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return fa&&c.locale!=="ko"?null:c.data;default:return null}}var N9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AC(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!N9[o.type]:c==="textarea"}function kC(o,c,m,g){Wo?oa?oa.push(g):oa=[g]:Wo=g,c=A_(c,"onChange"),0<c.length&&(m=new ca("onChange","change",null,m,g),o.push({event:m,listeners:c}))}var ph=null,gh=null;function P9(o){cP(o,0)}function $g(o){var c=Ri(o);if(uc(c))return o}function IC(o,c){if(o==="change")return c}var CC=!1;if(is){var Ox;if(is){var Lx="oninput"in document;if(!Lx){var NC=document.createElement("div");NC.setAttribute("oninput","return;"),Lx=typeof NC.oninput=="function"}Ox=Lx}else Ox=!1;CC=Ox&&(!document.documentMode||9<document.documentMode)}function PC(){ph&&(ph.detachEvent("onpropertychange",RC),gh=ph=null)}function RC(o){if(o.propertyName==="value"&&$g(gh)){var c=[];kC(c,gh,o,rs(o)),Yo(P9,c)}}function R9(o,c,m){o==="focusin"?(PC(),ph=c,gh=m,ph.attachEvent("onpropertychange",RC)):o==="focusout"&&PC()}function M9(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return $g(gh)}function D9(o,c){if(o==="click")return $g(c)}function j9(o,c){if(o==="input"||o==="change")return $g(c)}function O9(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Di=typeof Object.is=="function"?Object.is:O9;function _h(o,c){if(Di(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),g=Object.keys(c);if(m.length!==g.length)return!1;for(g=0;g<m.length;g++){var w=m[g];if(!Fe.call(c,w)||!Di(o[w],c[w]))return!1}return!0}function MC(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function DC(o,c){var m=MC(o);o=0;for(var g;m;){if(m.nodeType===3){if(g=o+m.textContent.length,o<=c&&g>=c)return{node:m,offset:c-o};o=g}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=MC(m)}}function jC(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?jC(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function OC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=aa(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=aa(o.document)}return c}function $x(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var L9=is&&"documentMode"in document&&11>=document.documentMode,Gu=null,Vx=null,yh=null,Ux=!1;function LC(o,c,m){var g=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ux||Gu==null||Gu!==aa(g)||(g=Gu,"selectionStart"in g&&$x(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),yh&&_h(yh,g)||(yh=g,g=A_(Vx,"onSelect"),0<g.length&&(c=new ca("onSelect","select",null,c,m),o.push({event:c,listeners:g}),c.target=Gu)))}function vc(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Hu={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionrun:vc("Transition","TransitionRun"),transitionstart:vc("Transition","TransitionStart"),transitioncancel:vc("Transition","TransitionCancel"),transitionend:vc("Transition","TransitionEnd")},zx={},$C={};is&&($C=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function bc(o){if(zx[o])return zx[o];if(!Hu[o])return o;var c=Hu[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in $C)return zx[o]=c[m];return o}var VC=bc("animationend"),UC=bc("animationiteration"),zC=bc("animationstart"),$9=bc("transitionrun"),V9=bc("transitionstart"),U9=bc("transitioncancel"),BC=bc("transitionend"),FC=new Map,Bx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bx.push("scrollEnd");function Ls(o,c){FC.set(o,c),ia(c,[o])}var Vg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},as=[],Ku=0,Fx=0;function Ug(){for(var o=Ku,c=Fx=Ku=0;c<o;){var m=as[c];as[c++]=null;var g=as[c];as[c++]=null;var w=as[c];as[c++]=null;var T=as[c];if(as[c++]=null,g!==null&&w!==null){var R=g.pending;R===null?w.next=w:(w.next=R.next,R.next=w),g.pending=w}T!==0&&qC(m,w,T)}}function zg(o,c,m,g){as[Ku++]=o,as[Ku++]=c,as[Ku++]=m,as[Ku++]=g,Fx|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function qx(o,c,m,g){return zg(o,c,m,g),Bg(o)}function xc(o,c){return zg(o,null,null,c),Bg(o)}function qC(o,c,m){o.lanes|=m;var g=o.alternate;g!==null&&(g.lanes|=m);for(var w=!1,T=o.return;T!==null;)T.childLanes|=m,g=T.alternate,g!==null&&(g.childLanes|=m),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(w=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,w&&c!==null&&(w=31-Tt(m),o=T.hiddenUpdates,g=o[w],g===null?o[w]=[c]:g.push(c),c.lane=m|536870912),T):null}function Bg(o){if(50<Uh)throw Uh=0,Zw=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Wu={};function z9(o,c,m,g){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(o,c,m,g){return new z9(o,c,m,g)}function Gx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fa(o,c){var m=o.alternate;return m===null?(m=ji(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function GC(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Fg(o,c,m,g,w,T){var R=0;if(g=o,typeof o=="function")Gx(o)&&(R=1);else if(typeof o=="string")R=H8(o,m,ge.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=ji(31,m,c,w),o.elementType=D,o.lanes=T,o;case E:return wc(m.children,w,T,c);case A:R=8,w|=24;break;case I:return o=ji(12,m,c,w|2),o.elementType=I,o.lanes=T,o;case V:return o=ji(13,m,c,w),o.elementType=V,o.lanes=T,o;case N:return o=ji(19,m,c,w),o.elementType=N,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:R=10;break e;case j:R=9;break e;case B:R=11;break e;case P:R=14;break e;case O:R=16,g=null;break e}R=29,m=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=ji(R,m,c,w),c.elementType=o,c.type=g,c.lanes=T,c}function wc(o,c,m,g){return o=ji(7,o,g,c),o.lanes=m,o}function Hx(o,c,m){return o=ji(6,o,null,c),o.lanes=m,o}function HC(o){var c=ji(18,null,null,0);return c.stateNode=o,c}function Kx(o,c,m){return c=ji(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var KC=new WeakMap;function os(o,c){if(typeof o=="object"&&o!==null){var m=KC.get(o);return m!==void 0?m:(c={value:o,source:c,stack:vt(c)},KC.set(o,c),c)}return{value:o,source:c,stack:vt(c)}}var Yu=[],Ju=0,qg=null,vh=0,ls=[],cs=0,Zo=null,ha=1,ma="";function qa(o,c){Yu[Ju++]=vh,Yu[Ju++]=qg,qg=o,vh=c}function WC(o,c,m){ls[cs++]=ha,ls[cs++]=ma,ls[cs++]=Zo,Zo=o;var g=ha;o=ma;var w=32-Tt(g)-1;g&=~(1<<w),m+=1;var T=32-Tt(c)+w;if(30<T){var R=w-w%5;T=(g&(1<<R)-1).toString(32),g>>=R,w-=R,ha=1<<32-Tt(c)+w|m<<w|g,ma=T+o}else ha=1<<T|m<<w|g,ma=o}function Wx(o){o.return!==null&&(qa(o,1),WC(o,1,0))}function Yx(o){for(;o===qg;)qg=Yu[--Ju],Yu[Ju]=null,vh=Yu[--Ju],Yu[Ju]=null;for(;o===Zo;)Zo=ls[--cs],ls[cs]=null,ma=ls[--cs],ls[cs]=null,ha=ls[--cs],ls[cs]=null}function YC(o,c){ls[cs++]=ha,ls[cs++]=ma,ls[cs++]=Zo,ha=c.id,ma=c.overflow,Zo=o}var Cr=null,mn=null,Nt=!1,el=null,us=!1,Jx=Error(r(519));function tl(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bh(os(c,o)),Jx}function JC(o){var c=o.stateNode,m=o.type,g=o.memoizedProps;switch(c[dt]=o,c[_t]=g,m){case"dialog":wt("cancel",c),wt("close",c);break;case"iframe":case"object":case"embed":wt("load",c);break;case"video":case"audio":for(m=0;m<Bh.length;m++)wt(Bh[m],c);break;case"source":wt("error",c);break;case"img":case"image":case"link":wt("error",c),wt("load",c);break;case"details":wt("toggle",c);break;case"input":wt("invalid",c),Sg(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":wt("invalid",c);break;case"textarea":wt("invalid",c),Ho(c,g.value,g.defaultValue,g.children)}m=g.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||g.suppressHydrationWarning===!0||hP(c.textContent,m)?(g.popover!=null&&(wt("beforetoggle",c),wt("toggle",c)),g.onScroll!=null&&wt("scroll",c),g.onScrollEnd!=null&&wt("scrollend",c),g.onClick!=null&&(c.onclick=Rs),c=!0):c=!1,c||tl(o,!0)}function XC(o){for(Cr=o.return;Cr;)switch(Cr.tag){case 5:case 31:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Cr=Cr.return}}function Xu(o){if(o!==Cr)return!1;if(!Nt)return XC(o),Nt=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||m0(o.type,o.memoizedProps)),m=!m),m&&mn&&tl(o),XC(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mn=wP(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));mn=wP(o)}else c===27?(c=mn,pl(o.type)?(o=v0,v0=null,mn=o):mn=c):mn=Cr?fs(o.stateNode.nextSibling):null;return!0}function Sc(){mn=Cr=null,Nt=!1}function Xx(){var o=el;return o!==null&&(mi===null?mi=o:mi.push.apply(mi,o),el=null),o}function bh(o){el===null?el=[o]:el.push(o)}var Qx=K(null),Tc=null,Ga=null;function nl(o,c,m){H(Qx,c._currentValue),c._currentValue=m}function Ha(o){o._currentValue=Qx.current,Q(Qx)}function Zx(o,c,m){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===m)break;o=o.return}}function ew(o,c,m,g){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var T=w.dependencies;if(T!==null){var R=w.child;T=T.firstContext;e:for(;T!==null;){var G=T;T=w;for(var J=0;J<c.length;J++)if(G.context===c[J]){T.lanes|=m,G=T.alternate,G!==null&&(G.lanes|=m),Zx(T.return,m,o),g||(R=null);break e}T=G.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(r(341));R.lanes|=m,T=R.alternate,T!==null&&(T.lanes|=m),Zx(R,m,o),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===o){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function Qu(o,c,m,g){o=null;for(var w=c,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var G=w.type;Di(w.pendingProps.value,R.value)||(o!==null?o.push(G):o=[G])}}else if(w===re.current){if(R=w.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Kh):o=[Kh])}w=w.return}o!==null&&ew(c,o,m,g),c.flags|=262144}function Gg(o){for(o=o.firstContext;o!==null;){if(!Di(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ec(o){Tc=o,Ga=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Nr(o){return QC(Tc,o)}function Hg(o,c){return Tc===null&&Ec(o),QC(o,c)}function QC(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ga===null){if(o===null)throw Error(r(308));Ga=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ga=Ga.next=c;return m}var B9=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},F9=t.unstable_scheduleCallback,q9=t.unstable_NormalPriority,Wn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tw(){return{controller:new B9,data:new Map,refCount:0}}function xh(o){o.refCount--,o.refCount===0&&F9(q9,function(){o.controller.abort()})}var wh=null,nw=0,Zu=0,ed=null;function G9(o,c){if(wh===null){var m=wh=[];nw=0,Zu=s0(),ed={status:"pending",value:void 0,then:function(g){m.push(g)}}}return nw++,c.then(ZC,ZC),c}function ZC(){if(--nw===0&&wh!==null){ed!==null&&(ed.status="fulfilled");var o=wh;wh=null,Zu=0,ed=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function H9(o,c){var m=[],g={status:"pending",value:null,reason:null,then:function(w){m.push(w)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var w=0;w<m.length;w++)(0,m[w])(c)},function(w){for(g.status="rejected",g.reason=w,w=0;w<m.length;w++)(0,m[w])(void 0)}),g}var eN=Y.S;Y.S=function(o,c){L2=vn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&G9(o,c),eN!==null&&eN(o,c)};var Ac=K(null);function rw(){var o=Ac.current;return o!==null?o:an.pooledCache}function Kg(o,c){c===null?H(Ac,Ac.current):H(Ac,c.pool)}function tN(){var o=rw();return o===null?null:{parent:Wn._currentValue,pool:o}}var td=Error(r(460)),iw=Error(r(474)),Wg=Error(r(542)),Yg={then:function(){}};function nN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rN(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(Rs,Rs),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,sN(o),o;default:if(typeof c.status=="string")c.then(Rs,Rs);else{if(o=an,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=g}},function(g){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,sN(o),o}throw Ic=c,td}}function kc(o){try{var c=o._init;return c(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ic=m,td):m}}var Ic=null;function iN(){if(Ic===null)throw Error(r(459));var o=Ic;return Ic=null,o}function sN(o){if(o===td||o===Wg)throw Error(r(483))}var nd=null,Sh=0;function Jg(o){var c=Sh;return Sh+=1,nd===null&&(nd=[]),rN(nd,o,c)}function Th(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Xg(o,c){throw c.$$typeof===_?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function aN(o){function c(ne,Z){if(o){var ce=ne.deletions;ce===null?(ne.deletions=[Z],ne.flags|=16):ce.push(Z)}}function m(ne,Z){if(!o)return null;for(;Z!==null;)c(ne,Z),Z=Z.sibling;return null}function g(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function w(ne,Z){return ne=Fa(ne,Z),ne.index=0,ne.sibling=null,ne}function T(ne,Z,ce){return ne.index=ce,o?(ce=ne.alternate,ce!==null?(ce=ce.index,ce<Z?(ne.flags|=67108866,Z):ce):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function R(ne){return o&&ne.alternate===null&&(ne.flags|=67108866),ne}function G(ne,Z,ce,xe){return Z===null||Z.tag!==6?(Z=Hx(ce,ne.mode,xe),Z.return=ne,Z):(Z=w(Z,ce),Z.return=ne,Z)}function J(ne,Z,ce,xe){var Ye=ce.type;return Ye===E?ye(ne,Z,ce.props.children,xe,ce.key):Z!==null&&(Z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===O&&kc(Ye)===Z.type)?(Z=w(Z,ce.props),Th(Z,ce),Z.return=ne,Z):(Z=Fg(ce.type,ce.key,ce.props,null,ne.mode,xe),Th(Z,ce),Z.return=ne,Z)}function ue(ne,Z,ce,xe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=Kx(ce,ne.mode,xe),Z.return=ne,Z):(Z=w(Z,ce.children||[]),Z.return=ne,Z)}function ye(ne,Z,ce,xe,Ye){return Z===null||Z.tag!==7?(Z=wc(ce,ne.mode,xe,Ye),Z.return=ne,Z):(Z=w(Z,ce),Z.return=ne,Z)}function we(ne,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Hx(""+Z,ne.mode,ce),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return ce=Fg(Z.type,Z.key,Z.props,null,ne.mode,ce),Th(ce,Z),ce.return=ne,ce;case S:return Z=Kx(Z,ne.mode,ce),Z.return=ne,Z;case O:return Z=kc(Z),we(ne,Z,ce)}if(ee(Z)||U(Z))return Z=wc(Z,ne.mode,ce,null),Z.return=ne,Z;if(typeof Z.then=="function")return we(ne,Jg(Z),ce);if(Z.$$typeof===M)return we(ne,Hg(ne,Z),ce);Xg(ne,Z)}return null}function de(ne,Z,ce,xe){var Ye=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ye!==null?null:G(ne,Z,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return ce.key===Ye?J(ne,Z,ce,xe):null;case S:return ce.key===Ye?ue(ne,Z,ce,xe):null;case O:return ce=kc(ce),de(ne,Z,ce,xe)}if(ee(ce)||U(ce))return Ye!==null?null:ye(ne,Z,ce,xe,null);if(typeof ce.then=="function")return de(ne,Z,Jg(ce),xe);if(ce.$$typeof===M)return de(ne,Z,Hg(ne,ce),xe);Xg(ne,ce)}return null}function me(ne,Z,ce,xe,Ye){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ne=ne.get(ce)||null,G(Z,ne,""+xe,Ye);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case v:return ne=ne.get(xe.key===null?ce:xe.key)||null,J(Z,ne,xe,Ye);case S:return ne=ne.get(xe.key===null?ce:xe.key)||null,ue(Z,ne,xe,Ye);case O:return xe=kc(xe),me(ne,Z,ce,xe,Ye)}if(ee(xe)||U(xe))return ne=ne.get(ce)||null,ye(Z,ne,xe,Ye,null);if(typeof xe.then=="function")return me(ne,Z,ce,Jg(xe),Ye);if(xe.$$typeof===M)return me(ne,Z,ce,Hg(Z,xe),Ye);Xg(Z,xe)}return null}function ze(ne,Z,ce,xe){for(var Ye=null,jt=null,qe=Z,ft=Z=0,kt=null;qe!==null&&ft<ce.length;ft++){qe.index>ft?(kt=qe,qe=null):kt=qe.sibling;var Ot=de(ne,qe,ce[ft],xe);if(Ot===null){qe===null&&(qe=kt);break}o&&qe&&Ot.alternate===null&&c(ne,qe),Z=T(Ot,Z,ft),jt===null?Ye=Ot:jt.sibling=Ot,jt=Ot,qe=kt}if(ft===ce.length)return m(ne,qe),Nt&&qa(ne,ft),Ye;if(qe===null){for(;ft<ce.length;ft++)qe=we(ne,ce[ft],xe),qe!==null&&(Z=T(qe,Z,ft),jt===null?Ye=qe:jt.sibling=qe,jt=qe);return Nt&&qa(ne,ft),Ye}for(qe=g(qe);ft<ce.length;ft++)kt=me(qe,ne,ft,ce[ft],xe),kt!==null&&(o&&kt.alternate!==null&&qe.delete(kt.key===null?ft:kt.key),Z=T(kt,Z,ft),jt===null?Ye=kt:jt.sibling=kt,jt=kt);return o&&qe.forEach(function(bl){return c(ne,bl)}),Nt&&qa(ne,ft),Ye}function Ze(ne,Z,ce,xe){if(ce==null)throw Error(r(151));for(var Ye=null,jt=null,qe=Z,ft=Z=0,kt=null,Ot=ce.next();qe!==null&&!Ot.done;ft++,Ot=ce.next()){qe.index>ft?(kt=qe,qe=null):kt=qe.sibling;var bl=de(ne,qe,Ot.value,xe);if(bl===null){qe===null&&(qe=kt);break}o&&qe&&bl.alternate===null&&c(ne,qe),Z=T(bl,Z,ft),jt===null?Ye=bl:jt.sibling=bl,jt=bl,qe=kt}if(Ot.done)return m(ne,qe),Nt&&qa(ne,ft),Ye;if(qe===null){for(;!Ot.done;ft++,Ot=ce.next())Ot=we(ne,Ot.value,xe),Ot!==null&&(Z=T(Ot,Z,ft),jt===null?Ye=Ot:jt.sibling=Ot,jt=Ot);return Nt&&qa(ne,ft),Ye}for(qe=g(qe);!Ot.done;ft++,Ot=ce.next())Ot=me(qe,ne,ft,Ot.value,xe),Ot!==null&&(o&&Ot.alternate!==null&&qe.delete(Ot.key===null?ft:Ot.key),Z=T(Ot,Z,ft),jt===null?Ye=Ot:jt.sibling=Ot,jt=Ot);return o&&qe.forEach(function(rH){return c(ne,rH)}),Nt&&qa(ne,ft),Ye}function tn(ne,Z,ce,xe){if(typeof ce=="object"&&ce!==null&&ce.type===E&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:e:{for(var Ye=ce.key;Z!==null;){if(Z.key===Ye){if(Ye=ce.type,Ye===E){if(Z.tag===7){m(ne,Z.sibling),xe=w(Z,ce.props.children),xe.return=ne,ne=xe;break e}}else if(Z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===O&&kc(Ye)===Z.type){m(ne,Z.sibling),xe=w(Z,ce.props),Th(xe,ce),xe.return=ne,ne=xe;break e}m(ne,Z);break}else c(ne,Z);Z=Z.sibling}ce.type===E?(xe=wc(ce.props.children,ne.mode,xe,ce.key),xe.return=ne,ne=xe):(xe=Fg(ce.type,ce.key,ce.props,null,ne.mode,xe),Th(xe,ce),xe.return=ne,ne=xe)}return R(ne);case S:e:{for(Ye=ce.key;Z!==null;){if(Z.key===Ye)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){m(ne,Z.sibling),xe=w(Z,ce.children||[]),xe.return=ne,ne=xe;break e}else{m(ne,Z);break}else c(ne,Z);Z=Z.sibling}xe=Kx(ce,ne.mode,xe),xe.return=ne,ne=xe}return R(ne);case O:return ce=kc(ce),tn(ne,Z,ce,xe)}if(ee(ce))return ze(ne,Z,ce,xe);if(U(ce)){if(Ye=U(ce),typeof Ye!="function")throw Error(r(150));return ce=Ye.call(ce),Ze(ne,Z,ce,xe)}if(typeof ce.then=="function")return tn(ne,Z,Jg(ce),xe);if(ce.$$typeof===M)return tn(ne,Z,Hg(ne,ce),xe);Xg(ne,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Z!==null&&Z.tag===6?(m(ne,Z.sibling),xe=w(Z,ce),xe.return=ne,ne=xe):(m(ne,Z),xe=Hx(ce,ne.mode,xe),xe.return=ne,ne=xe),R(ne)):m(ne,Z)}return function(ne,Z,ce,xe){try{Sh=0;var Ye=tn(ne,Z,ce,xe);return nd=null,Ye}catch(qe){if(qe===td||qe===Wg)throw qe;var jt=ji(29,qe,null,ne.mode);return jt.lanes=xe,jt.return=ne,jt}finally{}}}var Cc=aN(!0),oN=aN(!1),rl=!1;function sw(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aw(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function il(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function sl(o,c,m){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Ut&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,c=Bg(o),qC(o,null,m),c}return zg(o,g,c,m),Bg(o)}function Eh(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,m|=g,c.lanes=m,sn(o,m)}}function ow(o,c){var m=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,m===g)){var w=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var R={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?w=T=R:T=T.next=R,m=m.next}while(m!==null);T===null?w=T=c:T=T.next=c}else w=T=c;m={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var lw=!1;function Ah(){if(lw){var o=ed;if(o!==null)throw o}}function kh(o,c,m,g){lw=!1;var w=o.updateQueue;rl=!1;var T=w.firstBaseUpdate,R=w.lastBaseUpdate,G=w.shared.pending;if(G!==null){w.shared.pending=null;var J=G,ue=J.next;J.next=null,R===null?T=ue:R.next=ue,R=J;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,G=ye.lastBaseUpdate,G!==R&&(G===null?ye.firstBaseUpdate=ue:G.next=ue,ye.lastBaseUpdate=J))}if(T!==null){var we=w.baseState;R=0,ye=ue=J=null,G=T;do{var de=G.lane&-536870913,me=de!==G.lane;if(me?(At&de)===de:(g&de)===de){de!==0&&de===Zu&&(lw=!0),ye!==null&&(ye=ye.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=o,Ze=G;de=c;var tn=m;switch(Ze.tag){case 1:if(ze=Ze.payload,typeof ze=="function"){we=ze.call(tn,we,de);break e}we=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ze.payload,de=typeof ze=="function"?ze.call(tn,we,de):ze,de==null)break e;we=p({},we,de);break e;case 2:rl=!0}}de=G.callback,de!==null&&(o.flags|=64,me&&(o.flags|=8192),me=w.callbacks,me===null?w.callbacks=[de]:me.push(de))}else me={lane:de,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ye===null?(ue=ye=me,J=we):ye=ye.next=me,R|=de;if(G=G.next,G===null){if(G=w.shared.pending,G===null)break;me=G,G=me.next,me.next=null,w.lastBaseUpdate=me,w.shared.pending=null}}while(!0);ye===null&&(J=we),w.baseState=J,w.firstBaseUpdate=ue,w.lastBaseUpdate=ye,T===null&&(w.shared.lanes=0),ul|=R,o.lanes=R,o.memoizedState=we}}function lN(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function cN(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)lN(m[o],c)}var rd=K(null),Qg=K(0);function uN(o,c){o=to,H(Qg,o),H(rd,c),to=o|c.baseLanes}function cw(){H(Qg,to),H(rd,rd.current)}function uw(){to=Qg.current,Q(rd),Q(Qg)}var Oi=K(null),ds=null;function al(o){var c=o.alternate;H(Un,Un.current&1),H(Oi,o),ds===null&&(c===null||rd.current!==null||c.memoizedState!==null)&&(ds=o)}function dw(o){H(Un,Un.current),H(Oi,o),ds===null&&(ds=o)}function dN(o){o.tag===22?(H(Un,Un.current),H(Oi,o),ds===null&&(ds=o)):ol()}function ol(){H(Un,Un.current),H(Oi,Oi.current)}function Li(o){Q(Oi),ds===o&&(ds=null),Q(Un)}var Un=K(0);function Zg(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||_0(m)||y0(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ka=0,ct=null,Zt=null,Yn=null,e_=!1,id=!1,Nc=!1,t_=0,Ih=0,sd=null,K9=0;function Pn(){throw Error(r(321))}function fw(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Di(o[m],c[m]))return!1;return!0}function hw(o,c,m,g,w,T){return Ka=T,ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=o===null||o.memoizedState===null?WN:Iw,Nc=!1,T=m(g,w),Nc=!1,id&&(T=hN(c,m,g,w)),fN(o),T}function fN(o){Y.H=Ph;var c=Zt!==null&&Zt.next!==null;if(Ka=0,Yn=Zt=ct=null,e_=!1,Ih=0,sd=null,c)throw Error(r(300));o===null||Jn||(o=o.dependencies,o!==null&&Gg(o)&&(Jn=!0))}function hN(o,c,m,g){ct=o;var w=0;do{if(id&&(sd=null),Ih=0,id=!1,25<=w)throw Error(r(301));if(w+=1,Yn=Zt=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Y.H=YN,T=c(m,g)}while(id);return T}function W9(){var o=Y.H,c=o.useState()[0];return c=typeof c.then=="function"?Ch(c):c,o=o.useState()[0],(Zt!==null?Zt.memoizedState:null)!==o&&(ct.flags|=1024),c}function mw(){var o=t_!==0;return t_=0,o}function pw(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function gw(o){if(e_){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}e_=!1}Ka=0,Yn=Zt=ct=null,id=!1,Ih=t_=0,sd=null}function Zr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?ct.memoizedState=Yn=o:Yn=Yn.next=o,Yn}function zn(){if(Zt===null){var o=ct.alternate;o=o!==null?o.memoizedState:null}else o=Zt.next;var c=Yn===null?ct.memoizedState:Yn.next;if(c!==null)Yn=c,Zt=o;else{if(o===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Zt=o,o={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Yn===null?ct.memoizedState=Yn=o:Yn=Yn.next=o}return Yn}function n_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ch(o){var c=Ih;return Ih+=1,sd===null&&(sd=[]),o=rN(sd,o,c),c=ct,(Yn===null?c.memoizedState:Yn.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?WN:Iw),o}function r_(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ch(o);if(o.$$typeof===M)return Nr(o)}throw Error(r(438,String(o)))}function _w(o){var c=null,m=ct.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var g=ct.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=n_(),ct.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),g=0;g<o;g++)m[g]=z;return c.index++,m}function Wa(o,c){return typeof c=="function"?c(o):c}function i_(o){var c=zn();return yw(c,Zt,o)}function yw(o,c,m){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=m;var w=o.baseQueue,T=g.pending;if(T!==null){if(w!==null){var R=w.next;w.next=T.next,T.next=R}c.baseQueue=w=T,g.pending=null}if(T=o.baseState,w===null)o.memoizedState=T;else{c=w.next;var G=R=null,J=null,ue=c,ye=!1;do{var we=ue.lane&-536870913;if(we!==ue.lane?(At&we)===we:(Ka&we)===we){var de=ue.revertLane;if(de===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),we===Zu&&(ye=!0);else if((Ka&de)===de){ue=ue.next,de===Zu&&(ye=!0);continue}else we={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(G=J=we,R=T):J=J.next=we,ct.lanes|=de,ul|=de;we=ue.action,Nc&&m(T,we),T=ue.hasEagerState?ue.eagerState:m(T,we)}else de={lane:we,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(G=J=de,R=T):J=J.next=de,ct.lanes|=we,ul|=we;ue=ue.next}while(ue!==null&&ue!==c);if(J===null?R=T:J.next=G,!Di(T,o.memoizedState)&&(Jn=!0,ye&&(m=ed,m!==null)))throw m;o.memoizedState=T,o.baseState=R,o.baseQueue=J,g.lastRenderedState=T}return w===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function vw(o){var c=zn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var g=m.dispatch,w=m.pending,T=c.memoizedState;if(w!==null){m.pending=null;var R=w=w.next;do T=o(T,R.action),R=R.next;while(R!==w);Di(T,c.memoizedState)||(Jn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),m.lastRenderedState=T}return[T,g]}function mN(o,c,m){var g=ct,w=zn(),T=Nt;if(T){if(m===void 0)throw Error(r(407));m=m()}else m=c();var R=!Di((Zt||w).memoizedState,m);if(R&&(w.memoizedState=m,Jn=!0),w=w.queue,ww(_N.bind(null,g,w,o),[o]),w.getSnapshot!==c||R||Yn!==null&&Yn.memoizedState.tag&1){if(g.flags|=2048,ad(9,{destroy:void 0},gN.bind(null,g,w,m,c),null),an===null)throw Error(r(349));T||(Ka&127)!==0||pN(g,c,m)}return m}function pN(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=ct.updateQueue,c===null?(c=n_(),ct.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function gN(o,c,m,g){c.value=m,c.getSnapshot=g,yN(c)&&vN(o)}function _N(o,c,m){return m(function(){yN(c)&&vN(o)})}function yN(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Di(o,m)}catch{return!0}}function vN(o){var c=xc(o,2);c!==null&&pi(c,o,2)}function bw(o){var c=Zr();if(typeof o=="function"){var m=o;if(o=m(),Nc){ir(!0);try{m()}finally{ir(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:o},c}function bN(o,c,m,g){return o.baseState=m,yw(o,Zt,typeof g=="function"?g:Wa)}function Y9(o,c,m,g,w){if(o_(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){T.listeners.push(R)}};Y.T!==null?m(!0):T.isTransition=!1,g(T),m=c.pending,m===null?(T.next=c.pending=T,xN(c,T)):(T.next=m.next,c.pending=m.next=T)}}function xN(o,c){var m=c.action,g=c.payload,w=o.state;if(c.isTransition){var T=Y.T,R={};Y.T=R;try{var G=m(w,g),J=Y.S;J!==null&&J(R,G),wN(o,c,G)}catch(ue){xw(o,c,ue)}finally{T!==null&&R.types!==null&&(T.types=R.types),Y.T=T}}else try{T=m(w,g),wN(o,c,T)}catch(ue){xw(o,c,ue)}}function wN(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(g){SN(o,c,g)},function(g){return xw(o,c,g)}):SN(o,c,m)}function SN(o,c,m){c.status="fulfilled",c.value=m,TN(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,xN(o,m)))}function xw(o,c,m){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=m,TN(c),c=c.next;while(c!==g)}o.action=null}function TN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function EN(o,c){return c}function AN(o,c){if(Nt){var m=an.formState;if(m!==null){e:{var g=ct;if(Nt){if(mn){t:{for(var w=mn,T=us;w.nodeType!==8;){if(!T){w=null;break t}if(w=fs(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){mn=fs(w.nextSibling),g=w.data==="F!";break e}}tl(g)}g=!1}g&&(c=m[0])}}return m=Zr(),m.memoizedState=m.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EN,lastRenderedState:c},m.queue=g,m=GN.bind(null,ct,g),g.dispatch=m,g=bw(!1),T=kw.bind(null,ct,!1,g.queue),g=Zr(),w={state:c,dispatch:null,action:o,pending:null},g.queue=w,m=Y9.bind(null,ct,w,T,m),w.dispatch=m,g.memoizedState=o,[c,m,!1]}function kN(o){var c=zn();return IN(c,Zt,o)}function IN(o,c,m){if(c=yw(o,c,EN)[0],o=i_(Wa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Ch(c)}catch(R){throw R===td?Wg:R}else g=c;c=zn();var w=c.queue,T=w.dispatch;return m!==c.memoizedState&&(ct.flags|=2048,ad(9,{destroy:void 0},J9.bind(null,w,m),null)),[g,T,o]}function J9(o,c){o.action=c}function CN(o){var c=zn(),m=Zt;if(m!==null)return IN(c,m,o);zn(),c=c.memoizedState,m=zn();var g=m.queue.dispatch;return m.memoizedState=o,[c,g,!1]}function ad(o,c,m,g){return o={tag:o,create:m,deps:g,inst:c,next:null},c=ct.updateQueue,c===null&&(c=n_(),ct.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(g=m.next,m.next=o,o.next=g,c.lastEffect=o),o}function NN(){return zn().memoizedState}function s_(o,c,m,g){var w=Zr();ct.flags|=o,w.memoizedState=ad(1|c,{destroy:void 0},m,g===void 0?null:g)}function a_(o,c,m,g){var w=zn();g=g===void 0?null:g;var T=w.memoizedState.inst;Zt!==null&&g!==null&&fw(g,Zt.memoizedState.deps)?w.memoizedState=ad(c,T,m,g):(ct.flags|=o,w.memoizedState=ad(1|c,T,m,g))}function PN(o,c){s_(8390656,8,o,c)}function ww(o,c){a_(2048,8,o,c)}function X9(o){ct.flags|=4;var c=ct.updateQueue;if(c===null)c=n_(),ct.updateQueue=c,c.events=[o];else{var m=c.events;m===null?c.events=[o]:m.push(o)}}function RN(o){var c=zn().memoizedState;return X9({ref:c,nextImpl:o}),function(){if((Ut&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function MN(o,c){return a_(4,2,o,c)}function DN(o,c){return a_(4,4,o,c)}function jN(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ON(o,c,m){m=m!=null?m.concat([o]):null,a_(4,4,jN.bind(null,c,o),m)}function Sw(){}function LN(o,c){var m=zn();c=c===void 0?null:c;var g=m.memoizedState;return c!==null&&fw(c,g[1])?g[0]:(m.memoizedState=[o,c],o)}function $N(o,c){var m=zn();c=c===void 0?null:c;var g=m.memoizedState;if(c!==null&&fw(c,g[1]))return g[0];if(g=o(),Nc){ir(!0);try{o()}finally{ir(!1)}}return m.memoizedState=[g,c],g}function Tw(o,c,m){return m===void 0||(Ka&1073741824)!==0&&(At&261930)===0?o.memoizedState=c:(o.memoizedState=m,o=V2(),ct.lanes|=o,ul|=o,m)}function VN(o,c,m,g){return Di(m,c)?m:rd.current!==null?(o=Tw(o,m,g),Di(o,c)||(Jn=!0),o):(Ka&42)===0||(Ka&1073741824)!==0&&(At&261930)===0?(Jn=!0,o.memoizedState=m):(o=V2(),ct.lanes|=o,ul|=o,c)}function UN(o,c,m,g,w){var T=X.p;X.p=T!==0&&8>T?T:8;var R=Y.T,G={};Y.T=G,kw(o,!1,c,m);try{var J=w(),ue=Y.S;if(ue!==null&&ue(G,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ye=H9(J,g);Nh(o,c,ye,Ui(o))}else Nh(o,c,g,Ui(o))}catch(we){Nh(o,c,{then:function(){},status:"rejected",reason:we},Ui())}finally{X.p=T,R!==null&&G.types!==null&&(R.types=G.types),Y.T=R}}function Q9(){}function Ew(o,c,m,g){if(o.tag!==5)throw Error(r(476));var w=zN(o).queue;UN(o,w,c,fe,m===null?Q9:function(){return BN(o),m(g)})}function zN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:fe},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function BN(o){var c=zN(o);c.next===null&&(c=o.alternate.memoizedState),Nh(o,c.next.queue,{},Ui())}function Aw(){return Nr(Kh)}function FN(){return zn().memoizedState}function qN(){return zn().memoizedState}function Z9(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ui();o=il(m);var g=sl(c,o,m);g!==null&&(pi(g,c,m),Eh(g,c,m)),c={cache:tw()},o.payload=c;return}c=c.return}}function e8(o,c,m){var g=Ui();m={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},o_(o)?HN(c,m):(m=qx(o,c,m,g),m!==null&&(pi(m,o,g),KN(m,c,g)))}function GN(o,c,m){var g=Ui();Nh(o,c,m,g)}function Nh(o,c,m,g){var w={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(o_(o))HN(c,w);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var R=c.lastRenderedState,G=T(R,m);if(w.hasEagerState=!0,w.eagerState=G,Di(G,R))return zg(o,c,w,0),an===null&&Ug(),!1}catch{}finally{}if(m=qx(o,c,w,g),m!==null)return pi(m,o,g),KN(m,c,g),!0}return!1}function kw(o,c,m,g){if(g={lane:2,revertLane:s0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},o_(o)){if(c)throw Error(r(479))}else c=qx(o,m,g,2),c!==null&&pi(c,o,2)}function o_(o){var c=o.alternate;return o===ct||c!==null&&c===ct}function HN(o,c){id=e_=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function KN(o,c,m){if((m&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,m|=g,c.lanes=m,sn(o,m)}}var Ph={readContext:Nr,use:r_,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};Ph.useEffectEvent=Pn;var WN={readContext:Nr,use:r_,useCallback:function(o,c){return Zr().memoizedState=[o,c===void 0?null:c],o},useContext:Nr,useEffect:PN,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,s_(4194308,4,jN.bind(null,c,o),m)},useLayoutEffect:function(o,c){return s_(4194308,4,o,c)},useInsertionEffect:function(o,c){s_(4,2,o,c)},useMemo:function(o,c){var m=Zr();c=c===void 0?null:c;var g=o();if(Nc){ir(!0);try{o()}finally{ir(!1)}}return m.memoizedState=[g,c],g},useReducer:function(o,c,m){var g=Zr();if(m!==void 0){var w=m(c);if(Nc){ir(!0);try{m(c)}finally{ir(!1)}}}else w=c;return g.memoizedState=g.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},g.queue=o,o=o.dispatch=e8.bind(null,ct,o),[g.memoizedState,o]},useRef:function(o){var c=Zr();return o={current:o},c.memoizedState=o},useState:function(o){o=bw(o);var c=o.queue,m=GN.bind(null,ct,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:Sw,useDeferredValue:function(o,c){var m=Zr();return Tw(m,o,c)},useTransition:function(){var o=bw(!1);return o=UN.bind(null,ct,o.queue,!0,!1),Zr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var g=ct,w=Zr();if(Nt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),an===null)throw Error(r(349));(At&127)!==0||pN(g,c,m)}w.memoizedState=m;var T={value:m,getSnapshot:c};return w.queue=T,PN(_N.bind(null,g,T,o),[o]),g.flags|=2048,ad(9,{destroy:void 0},gN.bind(null,g,T,m,c),null),m},useId:function(){var o=Zr(),c=an.identifierPrefix;if(Nt){var m=ma,g=ha;m=(g&~(1<<32-Tt(g)-1)).toString(32)+m,c="_"+c+"R_"+m,m=t_++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=K9++,c="_"+c+"r_"+m.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Aw,useFormState:AN,useActionState:AN,useOptimistic:function(o){var c=Zr();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=kw.bind(null,ct,!0,m),m.dispatch=c,[o,c]},useMemoCache:_w,useCacheRefresh:function(){return Zr().memoizedState=Z9.bind(null,ct)},useEffectEvent:function(o){var c=Zr(),m={impl:o};return c.memoizedState=m,function(){if((Ut&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Iw={readContext:Nr,use:r_,useCallback:LN,useContext:Nr,useEffect:ww,useImperativeHandle:ON,useInsertionEffect:MN,useLayoutEffect:DN,useMemo:$N,useReducer:i_,useRef:NN,useState:function(){return i_(Wa)},useDebugValue:Sw,useDeferredValue:function(o,c){var m=zn();return VN(m,Zt.memoizedState,o,c)},useTransition:function(){var o=i_(Wa)[0],c=zn().memoizedState;return[typeof o=="boolean"?o:Ch(o),c]},useSyncExternalStore:mN,useId:FN,useHostTransitionStatus:Aw,useFormState:kN,useActionState:kN,useOptimistic:function(o,c){var m=zn();return bN(m,Zt,o,c)},useMemoCache:_w,useCacheRefresh:qN};Iw.useEffectEvent=RN;var YN={readContext:Nr,use:r_,useCallback:LN,useContext:Nr,useEffect:ww,useImperativeHandle:ON,useInsertionEffect:MN,useLayoutEffect:DN,useMemo:$N,useReducer:vw,useRef:NN,useState:function(){return vw(Wa)},useDebugValue:Sw,useDeferredValue:function(o,c){var m=zn();return Zt===null?Tw(m,o,c):VN(m,Zt.memoizedState,o,c)},useTransition:function(){var o=vw(Wa)[0],c=zn().memoizedState;return[typeof o=="boolean"?o:Ch(o),c]},useSyncExternalStore:mN,useId:FN,useHostTransitionStatus:Aw,useFormState:CN,useActionState:CN,useOptimistic:function(o,c){var m=zn();return Zt!==null?bN(m,Zt,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:_w,useCacheRefresh:qN};YN.useEffectEvent=RN;function Cw(o,c,m,g){c=o.memoizedState,m=m(g,c),m=m==null?c:p({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Nw={enqueueSetState:function(o,c,m){o=o._reactInternals;var g=Ui(),w=il(g);w.payload=c,m!=null&&(w.callback=m),c=sl(o,w,g),c!==null&&(pi(c,o,g),Eh(c,o,g))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var g=Ui(),w=il(g);w.tag=1,w.payload=c,m!=null&&(w.callback=m),c=sl(o,w,g),c!==null&&(pi(c,o,g),Eh(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Ui(),g=il(m);g.tag=2,c!=null&&(g.callback=c),c=sl(o,g,m),c!==null&&(pi(c,o,m),Eh(c,o,m))}};function JN(o,c,m,g,w,T,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,R):c.prototype&&c.prototype.isPureReactComponent?!_h(m,g)||!_h(w,T):!0}function XN(o,c,m,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,g),c.state!==o&&Nw.enqueueReplaceState(c,c.state,null)}function Pc(o,c){var m=c;if("ref"in c){m={};for(var g in c)g!=="ref"&&(m[g]=c[g])}if(o=o.defaultProps){m===c&&(m=p({},m));for(var w in o)m[w]===void 0&&(m[w]=o[w])}return m}function QN(o){Vg(o)}function ZN(o){console.error(o)}function e2(o){Vg(o)}function l_(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function t2(o,c,m){try{var g=o.onCaughtError;g(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Pw(o,c,m){return m=il(m),m.tag=3,m.payload={element:null},m.callback=function(){l_(o,c)},m}function n2(o){return o=il(o),o.tag=3,o}function r2(o,c,m,g){var w=m.type.getDerivedStateFromError;if(typeof w=="function"){var T=g.value;o.payload=function(){return w(T)},o.callback=function(){t2(c,m,g)}}var R=m.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){t2(c,m,g),typeof w!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function t8(o,c,m,g,w){if(m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=m.alternate,c!==null&&Qu(c,m,w,!0),m=Oi.current,m!==null){switch(m.tag){case 31:case 13:return ds===null?b_():m.alternate===null&&Rn===0&&(Rn=3),m.flags&=-257,m.flags|=65536,m.lanes=w,g===Yg?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([g]):c.add(g),n0(o,g,w)),!1;case 22:return m.flags|=65536,g===Yg?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([g]):m.add(g)),n0(o,g,w)),!1}throw Error(r(435,m.tag))}return n0(o,g,w),b_(),!1}if(Nt)return c=Oi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,g!==Jx&&(o=Error(r(422),{cause:g}),bh(os(o,m)))):(g!==Jx&&(c=Error(r(423),{cause:g}),bh(os(c,m))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,g=os(g,m),w=Pw(o.stateNode,g,w),ow(o,w),Rn!==4&&(Rn=2)),!1;var T=Error(r(520),{cause:g});if(T=os(T,m),Vh===null?Vh=[T]:Vh.push(T),Rn!==4&&(Rn=2),c===null)return!0;g=os(g,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=w&-w,m.lanes|=o,o=Pw(m.stateNode,g,o),ow(m,o),!1;case 1:if(c=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(dl===null||!dl.has(T))))return m.flags|=65536,w&=-w,m.lanes|=w,w=n2(w),r2(w,o,m,g),ow(m,w),!1}m=m.return}while(m!==null);return!1}var Rw=Error(r(461)),Jn=!1;function Pr(o,c,m,g){c.child=o===null?oN(c,null,m,g):Cc(c,o.child,m,g)}function i2(o,c,m,g,w){m=m.render;var T=c.ref;if("ref"in g){var R={};for(var G in g)G!=="ref"&&(R[G]=g[G])}else R=g;return Ec(c),g=hw(o,c,m,R,T,w),G=mw(),o!==null&&!Jn?(pw(o,c,w),Ya(o,c,w)):(Nt&&G&&Wx(c),c.flags|=1,Pr(o,c,g,w),c.child)}function s2(o,c,m,g,w){if(o===null){var T=m.type;return typeof T=="function"&&!Gx(T)&&T.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=T,a2(o,c,T,g,w)):(o=Fg(m.type,null,g,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!Uw(o,w)){var R=T.memoizedProps;if(m=m.compare,m=m!==null?m:_h,m(R,g)&&o.ref===c.ref)return Ya(o,c,w)}return c.flags|=1,o=Fa(T,g),o.ref=c.ref,o.return=c,c.child=o}function a2(o,c,m,g,w){if(o!==null){var T=o.memoizedProps;if(_h(T,g)&&o.ref===c.ref)if(Jn=!1,c.pendingProps=g=T,Uw(o,w))(o.flags&131072)!==0&&(Jn=!0);else return c.lanes=o.lanes,Ya(o,c,w)}return Mw(o,c,m,g,w)}function o2(o,c,m,g){var w=g.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|m:m,o!==null){for(g=c.child=o.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;g=w&~T}else g=0,c.child=null;return l2(o,c,T,m,g)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Kg(c,T!==null?T.cachePool:null),T!==null?uN(c,T):cw(),dN(c);else return g=c.lanes=536870912,l2(o,c,T!==null?T.baseLanes|m:m,m,g)}else T!==null?(Kg(c,T.cachePool),uN(c,T),ol(),c.memoizedState=null):(o!==null&&Kg(c,null),cw(),ol());return Pr(o,c,w,m),c.child}function Rh(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function l2(o,c,m,g,w){var T=rw();return T=T===null?null:{parent:Wn._currentValue,pool:T},c.memoizedState={baseLanes:m,cachePool:T},o!==null&&Kg(c,null),cw(),dN(c),o!==null&&Qu(o,c,g,!0),c.childLanes=w,null}function c_(o,c){return c=d_({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function c2(o,c,m){return Cc(c,o.child,null,m),o=c_(c,c.pendingProps),o.flags|=2,Li(c),c.memoizedState=null,o}function n8(o,c,m){var g=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Nt){if(g.mode==="hidden")return o=c_(c,g),c.lanes=536870912,Rh(null,o);if(dw(c),(o=mn)?(o=xP(o,us),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Zo!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},m=HC(o),m.return=c,c.child=m,Cr=c,mn=null)):o=null,o===null)throw tl(c);return c.lanes=536870912,null}return c_(c,g)}var T=o.memoizedState;if(T!==null){var R=T.dehydrated;if(dw(c),w)if(c.flags&256)c.flags&=-257,c=c2(o,c,m);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Jn||Qu(o,c,m,!1),w=(m&o.childLanes)!==0,Jn||w){if(g=an,g!==null&&(R=$n(g,m),R!==0&&R!==T.retryLane))throw T.retryLane=R,xc(o,R),pi(g,o,R),Rw;b_(),c=c2(o,c,m)}else o=T.treeContext,mn=fs(R.nextSibling),Cr=c,Nt=!0,el=null,us=!1,o!==null&&YC(c,o),c=c_(c,g),c.flags|=4096;return c}return o=Fa(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function u_(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function Mw(o,c,m,g,w){return Ec(c),m=hw(o,c,m,g,void 0,w),g=mw(),o!==null&&!Jn?(pw(o,c,w),Ya(o,c,w)):(Nt&&g&&Wx(c),c.flags|=1,Pr(o,c,m,w),c.child)}function u2(o,c,m,g,w,T){return Ec(c),c.updateQueue=null,m=hN(c,g,m,w),fN(o),g=mw(),o!==null&&!Jn?(pw(o,c,T),Ya(o,c,T)):(Nt&&g&&Wx(c),c.flags|=1,Pr(o,c,m,T),c.child)}function d2(o,c,m,g,w){if(Ec(c),c.stateNode===null){var T=Wu,R=m.contextType;typeof R=="object"&&R!==null&&(T=Nr(R)),T=new m(g,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Nw,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=g,T.state=c.memoizedState,T.refs={},sw(c),R=m.contextType,T.context=typeof R=="object"&&R!==null?Nr(R):Wu,T.state=c.memoizedState,R=m.getDerivedStateFromProps,typeof R=="function"&&(Cw(c,m,R,g),T.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(R=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),R!==T.state&&Nw.enqueueReplaceState(T,T.state,null),kh(c,g,T,w),Ah(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){T=c.stateNode;var G=c.memoizedProps,J=Pc(m,G);T.props=J;var ue=T.context,ye=m.contextType;R=Wu,typeof ye=="object"&&ye!==null&&(R=Nr(ye));var we=m.getDerivedStateFromProps;ye=typeof we=="function"||typeof T.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,ye||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(G||ue!==R)&&XN(c,T,g,R),rl=!1;var de=c.memoizedState;T.state=de,kh(c,g,T,w),Ah(),ue=c.memoizedState,G||de!==ue||rl?(typeof we=="function"&&(Cw(c,m,we,g),ue=c.memoizedState),(J=rl||JN(c,m,J,g,de,ue,R))?(ye||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=ue),T.props=g,T.state=ue,T.context=R,g=J):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{T=c.stateNode,aw(o,c),R=c.memoizedProps,ye=Pc(m,R),T.props=ye,we=c.pendingProps,de=T.context,ue=m.contextType,J=Wu,typeof ue=="object"&&ue!==null&&(J=Nr(ue)),G=m.getDerivedStateFromProps,(ue=typeof G=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==we||de!==J)&&XN(c,T,g,J),rl=!1,de=c.memoizedState,T.state=de,kh(c,g,T,w),Ah();var me=c.memoizedState;R!==we||de!==me||rl||o!==null&&o.dependencies!==null&&Gg(o.dependencies)?(typeof G=="function"&&(Cw(c,m,G,g),me=c.memoizedState),(ye=rl||JN(c,m,ye,g,de,me,J)||o!==null&&o.dependencies!==null&&Gg(o.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,me,J),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,me,J)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=me),T.props=g,T.state=me,T.context=J,g=ye):(typeof T.componentDidUpdate!="function"||R===o.memoizedProps&&de===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&de===o.memoizedState||(c.flags|=1024),g=!1)}return T=g,u_(o,c),g=(c.flags&128)!==0,T||g?(T=c.stateNode,m=g&&typeof m.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&g?(c.child=Cc(c,o.child,null,w),c.child=Cc(c,null,m,w)):Pr(o,c,m,w),c.memoizedState=T.state,o=c.child):o=Ya(o,c,w),o}function f2(o,c,m,g){return Sc(),c.flags|=256,Pr(o,c,m,g),c.child}var Dw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jw(o){return{baseLanes:o,cachePool:tN()}}function Ow(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Vi),o}function h2(o,c,m){var g=c.pendingProps,w=!1,T=(c.flags&128)!==0,R;if((R=T)||(R=o!==null&&o.memoizedState===null?!1:(Un.current&2)!==0),R&&(w=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,o===null){if(Nt){if(w?al(c):ol(),(o=mn)?(o=xP(o,us),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Zo!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},m=HC(o),m.return=c,c.child=m,Cr=c,mn=null)):o=null,o===null)throw tl(c);return y0(o)?c.lanes=32:c.lanes=536870912,null}var G=g.children;return g=g.fallback,w?(ol(),w=c.mode,G=d_({mode:"hidden",children:G},w),g=wc(g,w,m,null),G.return=c,g.return=c,G.sibling=g,c.child=G,g=c.child,g.memoizedState=jw(m),g.childLanes=Ow(o,R,m),c.memoizedState=Dw,Rh(null,g)):(al(c),Lw(c,G))}var J=o.memoizedState;if(J!==null&&(G=J.dehydrated,G!==null)){if(T)c.flags&256?(al(c),c.flags&=-257,c=$w(o,c,m)):c.memoizedState!==null?(ol(),c.child=o.child,c.flags|=128,c=null):(ol(),G=g.fallback,w=c.mode,g=d_({mode:"visible",children:g.children},w),G=wc(G,w,m,null),G.flags|=2,g.return=c,G.return=c,g.sibling=G,c.child=g,Cc(c,o.child,null,m),g=c.child,g.memoizedState=jw(m),g.childLanes=Ow(o,R,m),c.memoizedState=Dw,c=Rh(null,g));else if(al(c),y0(G)){if(R=G.nextSibling&&G.nextSibling.dataset,R)var ue=R.dgst;R=ue,g=Error(r(419)),g.stack="",g.digest=R,bh({value:g,source:null,stack:null}),c=$w(o,c,m)}else if(Jn||Qu(o,c,m,!1),R=(m&o.childLanes)!==0,Jn||R){if(R=an,R!==null&&(g=$n(R,m),g!==0&&g!==J.retryLane))throw J.retryLane=g,xc(o,g),pi(R,o,g),Rw;_0(G)||b_(),c=$w(o,c,m)}else _0(G)?(c.flags|=192,c.child=o.child,c=null):(o=J.treeContext,mn=fs(G.nextSibling),Cr=c,Nt=!0,el=null,us=!1,o!==null&&YC(c,o),c=Lw(c,g.children),c.flags|=4096);return c}return w?(ol(),G=g.fallback,w=c.mode,J=o.child,ue=J.sibling,g=Fa(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,ue!==null?G=Fa(ue,G):(G=wc(G,w,m,null),G.flags|=2),G.return=c,g.return=c,g.sibling=G,c.child=g,Rh(null,g),g=c.child,G=o.child.memoizedState,G===null?G=jw(m):(w=G.cachePool,w!==null?(J=Wn._currentValue,w=w.parent!==J?{parent:J,pool:J}:w):w=tN(),G={baseLanes:G.baseLanes|m,cachePool:w}),g.memoizedState=G,g.childLanes=Ow(o,R,m),c.memoizedState=Dw,Rh(o.child,g)):(al(c),m=o.child,o=m.sibling,m=Fa(m,{mode:"visible",children:g.children}),m.return=c,m.sibling=null,o!==null&&(R=c.deletions,R===null?(c.deletions=[o],c.flags|=16):R.push(o)),c.child=m,c.memoizedState=null,m)}function Lw(o,c){return c=d_({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function d_(o,c){return o=ji(22,o,null,c),o.lanes=0,o}function $w(o,c,m){return Cc(c,o.child,null,m),o=Lw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function m2(o,c,m){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Zx(o.return,c,m)}function Vw(o,c,m,g,w,T){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:m,tailMode:w,treeForkCount:T}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=m,R.tailMode=w,R.treeForkCount=T)}function p2(o,c,m){var g=c.pendingProps,w=g.revealOrder,T=g.tail;g=g.children;var R=Un.current,G=(R&2)!==0;if(G?(R=R&1|2,c.flags|=128):R&=1,H(Un,R),Pr(o,c,g,m),g=Nt?vh:0,!G&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&m2(o,m,c);else if(o.tag===19)m2(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(m=c.child,w=null;m!==null;)o=m.alternate,o!==null&&Zg(o)===null&&(w=m),m=m.sibling;m=w,m===null?(w=c.child,c.child=null):(w=m.sibling,m.sibling=null),Vw(c,!1,w,m,T,g);break;case"backwards":case"unstable_legacy-backwards":for(m=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Zg(o)===null){c.child=w;break}o=w.sibling,w.sibling=m,m=w,w=o}Vw(c,!0,m,null,T,g);break;case"together":Vw(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Ya(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),ul|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(Qu(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,m=Fa(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Fa(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function Uw(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Gg(o)))}function r8(o,c,m){switch(c.tag){case 3:$e(c,c.stateNode.containerInfo),nl(c,Wn,o.memoizedState.cache),Sc();break;case 27:case 5:Re(c);break;case 4:$e(c,c.stateNode.containerInfo);break;case 10:nl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,dw(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(al(c),c.flags|=128,null):(m&c.child.childLanes)!==0?h2(o,c,m):(al(c),o=Ya(o,c,m),o!==null?o.sibling:null);al(c);break;case 19:var w=(o.flags&128)!==0;if(g=(m&c.childLanes)!==0,g||(Qu(o,c,m,!1),g=(m&c.childLanes)!==0),w){if(g)return p2(o,c,m);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),H(Un,Un.current),g)break;return null;case 22:return c.lanes=0,o2(o,c,m,c.pendingProps);case 24:nl(c,Wn,o.memoizedState.cache)}return Ya(o,c,m)}function g2(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)Jn=!0;else{if(!Uw(o,m)&&(c.flags&128)===0)return Jn=!1,r8(o,c,m);Jn=(o.flags&131072)!==0}else Jn=!1,Nt&&(c.flags&1048576)!==0&&WC(c,vh,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=kc(c.elementType),c.type=o,typeof o=="function")Gx(o)?(g=Pc(o,g),c.tag=1,c=d2(null,c,o,g,m)):(c.tag=0,c=Mw(null,c,o,g,m));else{if(o!=null){var w=o.$$typeof;if(w===B){c.tag=11,c=i2(null,c,o,g,m);break e}else if(w===P){c.tag=14,c=s2(null,c,o,g,m);break e}}throw c=te(o)||o,Error(r(306,c,""))}}return c;case 0:return Mw(o,c,c.type,c.pendingProps,m);case 1:return g=c.type,w=Pc(g,c.pendingProps),d2(o,c,g,w,m);case 3:e:{if($e(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var T=c.memoizedState;w=T.element,aw(o,c),kh(c,g,null,m);var R=c.memoizedState;if(g=R.cache,nl(c,Wn,g),g!==T.cache&&ew(c,[Wn],m,!0),Ah(),g=R.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=f2(o,c,g,m);break e}else if(g!==w){w=os(Error(r(424)),c),bh(w),c=f2(o,c,g,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(mn=fs(o.firstChild),Cr=c,Nt=!0,el=null,us=!0,m=oN(c,null,g,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Sc(),g===w){c=Ya(o,c,m);break e}Pr(o,c,g,m)}c=c.child}return c;case 26:return u_(o,c),o===null?(m=kP(c.type,null,c.pendingProps,null))?c.memoizedState=m:Nt||(m=c.type,o=c.pendingProps,g=k_(se.current).createElement(m),g[dt]=c,g[_t]=o,Rr(g,m,o),Hn(g),c.stateNode=g):c.memoizedState=kP(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Re(c),o===null&&Nt&&(g=c.stateNode=TP(c.type,c.pendingProps,se.current),Cr=c,us=!0,w=mn,pl(c.type)?(v0=w,mn=fs(g.firstChild)):mn=w),Pr(o,c,c.pendingProps.children,m),u_(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Nt&&((w=g=mn)&&(g=M8(g,c.type,c.pendingProps,us),g!==null?(c.stateNode=g,Cr=c,mn=fs(g.firstChild),us=!1,w=!0):w=!1),w||tl(c)),Re(c),w=c.type,T=c.pendingProps,R=o!==null?o.memoizedProps:null,g=T.children,m0(w,T)?g=null:R!==null&&m0(w,R)&&(c.flags|=32),c.memoizedState!==null&&(w=hw(o,c,W9,null,null,m),Kh._currentValue=w),u_(o,c),Pr(o,c,g,m),c.child;case 6:return o===null&&Nt&&((o=m=mn)&&(m=D8(m,c.pendingProps,us),m!==null?(c.stateNode=m,Cr=c,mn=null,o=!0):o=!1),o||tl(c)),null;case 13:return h2(o,c,m);case 4:return $e(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Cc(c,null,g,m):Pr(o,c,g,m),c.child;case 11:return i2(o,c,c.type,c.pendingProps,m);case 7:return Pr(o,c,c.pendingProps,m),c.child;case 8:return Pr(o,c,c.pendingProps.children,m),c.child;case 12:return Pr(o,c,c.pendingProps.children,m),c.child;case 10:return g=c.pendingProps,nl(c,c.type,g.value),Pr(o,c,g.children,m),c.child;case 9:return w=c.type._context,g=c.pendingProps.children,Ec(c),w=Nr(w),g=g(w),c.flags|=1,Pr(o,c,g,m),c.child;case 14:return s2(o,c,c.type,c.pendingProps,m);case 15:return a2(o,c,c.type,c.pendingProps,m);case 19:return p2(o,c,m);case 31:return n8(o,c,m);case 22:return o2(o,c,m,c.pendingProps);case 24:return Ec(c),g=Nr(Wn),o===null?(w=rw(),w===null&&(w=an,T=tw(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=m),w=T),c.memoizedState={parent:g,cache:w},sw(c),nl(c,Wn,w)):((o.lanes&m)!==0&&(aw(o,c),kh(c,null,null,m),Ah()),w=o.memoizedState,T=c.memoizedState,w.parent!==g?(w={parent:g,cache:g},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),nl(c,Wn,g)):(g=T.cache,nl(c,Wn,g),g!==w.cache&&ew(c,[Wn],m,!0))),Pr(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ja(o){o.flags|=4}function zw(o,c,m,g,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(F2())o.flags|=8192;else throw Ic=Yg,iw}else o.flags&=-16777217}function _2(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!RP(c))if(F2())o.flags|=8192;else throw Ic=Yg,iw}function f_(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?je():536870912,o.lanes|=c,ud|=c)}function Mh(o,c){if(!Nt)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function pn(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,g=0;if(c)for(var w=o.child;w!==null;)m|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)m|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=g,o.childLanes=m,c}function i8(o,c,m){var g=c.pendingProps;switch(Yx(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(c),null;case 1:return pn(c),null;case 3:return m=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Ha(Wn),ae(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Xu(c)?Ja(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xx())),pn(c),null;case 26:var w=c.type,T=c.memoizedState;return o===null?(Ja(c),T!==null?(pn(c),_2(c,T)):(pn(c),zw(c,w,null,g,m))):T?T!==o.memoizedState?(Ja(c),pn(c),_2(c,T)):(pn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&Ja(c),pn(c),zw(c,w,o,g,m)),null;case 27:if(Me(c),m=se.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Ja(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return pn(c),null}o=ge.current,Xu(c)?JC(c):(o=TP(w,g,m),c.stateNode=o,Ja(c))}return pn(c),null;case 5:if(Me(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Ja(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return pn(c),null}if(T=ge.current,Xu(c))JC(c);else{var R=k_(se.current);switch(T){case 1:T=R.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=R.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=R.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?T.multiple=!0:g.size&&(T.size=g.size);break;default:T=typeof g.is=="string"?R.createElement(w,{is:g.is}):R.createElement(w)}}T[dt]=c,T[_t]=g;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)T.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=T;e:switch(Rr(T,w,g),w){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ja(c)}}return pn(c),zw(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,m),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Ja(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=se.current,Xu(c)){if(o=c.stateNode,m=c.memoizedProps,g=null,w=Cr,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}o[dt]=c,o=!!(o.nodeValue===m||g!==null&&g.suppressHydrationWarning===!0||hP(o.nodeValue,m)),o||tl(c,!0)}else o=k_(o).createTextNode(g),o[dt]=c,c.stateNode=o}return pn(c),null;case 31:if(m=c.memoizedState,o===null||o.memoizedState!==null){if(g=Xu(c),m!==null){if(o===null){if(!g)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[dt]=c}else Sc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;pn(c),o=!1}else m=Xx(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return c.flags&256?(Li(c),c):(Li(c),null);if((c.flags&128)!==0)throw Error(r(558))}return pn(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Xu(c),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[dt]=c}else Sc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;pn(c),w=!1}else w=Xx(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Li(c),c):(Li(c),null)}return Li(c),(c.flags&128)!==0?(c.lanes=m,c):(m=g!==null,o=o!==null&&o.memoizedState!==null,m&&(g=c.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool),T=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==w&&(g.flags|=2048)),m!==o&&m&&(c.child.flags|=8192),f_(c,c.updateQueue),pn(c),null);case 4:return ae(),o===null&&c0(c.stateNode.containerInfo),pn(c),null;case 10:return Ha(c.type),pn(c),null;case 19:if(Q(Un),g=c.memoizedState,g===null)return pn(c),null;if(w=(c.flags&128)!==0,T=g.rendering,T===null)if(w)Mh(g,!1);else{if(Rn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=Zg(o),T!==null){for(c.flags|=128,Mh(g,!1),o=T.updateQueue,c.updateQueue=o,f_(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)GC(m,o),m=m.sibling;return H(Un,Un.current&1|2),Nt&&qa(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&vn()>__&&(c.flags|=128,w=!0,Mh(g,!1),c.lanes=4194304)}else{if(!w)if(o=Zg(T),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,f_(c,o),Mh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Nt)return pn(c),null}else 2*vn()-g.renderingStartTime>__&&m!==536870912&&(c.flags|=128,w=!0,Mh(g,!1),c.lanes=4194304);g.isBackwards?(T.sibling=c.child,c.child=T):(o=g.last,o!==null?o.sibling=T:c.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=vn(),o.sibling=null,m=Un.current,H(Un,w?m&1|2:m&1),Nt&&qa(c,g.treeForkCount),o):(pn(c),null);case 22:case 23:return Li(c),uw(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(m&536870912)!==0&&(c.flags&128)===0&&(pn(c),c.subtreeFlags&6&&(c.flags|=8192)):pn(c),m=c.updateQueue,m!==null&&f_(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048),o!==null&&Q(Ac),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ha(Wn),pn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function s8(o,c){switch(Yx(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ha(Wn),ae(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Me(c),null;case 31:if(c.memoizedState!==null){if(Li(c),c.alternate===null)throw Error(r(340));Sc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Li(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Sc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Q(Un),null;case 4:return ae(),null;case 10:return Ha(c.type),null;case 22:case 23:return Li(c),uw(),o!==null&&Q(Ac),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ha(Wn),null;case 25:return null;default:return null}}function y2(o,c){switch(Yx(c),c.tag){case 3:Ha(Wn),ae();break;case 26:case 27:case 5:Me(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&Li(c);break;case 13:Li(c);break;case 19:Q(Un);break;case 10:Ha(c.type);break;case 22:case 23:Li(c),uw(),o!==null&&Q(Ac);break;case 24:Ha(Wn)}}function Dh(o,c){try{var m=c.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var w=g.next;m=w;do{if((m.tag&o)===o){g=void 0;var T=m.create,R=m.inst;g=T(),R.destroy=g}m=m.next}while(m!==w)}}catch(G){Gt(c,c.return,G)}}function ll(o,c,m){try{var g=c.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var T=w.next;g=T;do{if((g.tag&o)===o){var R=g.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,w=c;var J=m,ue=G;try{ue()}catch(ye){Gt(w,J,ye)}}}g=g.next}while(g!==T)}}catch(ye){Gt(c,c.return,ye)}}function v2(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{cN(c,m)}catch(g){Gt(o,o.return,g)}}}function b2(o,c,m){m.props=Pc(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(g){Gt(o,c,g)}}function jh(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof m=="function"?o.refCleanup=m(g):m.current=g}}catch(w){Gt(o,c,w)}}function pa(o,c){var m=o.ref,g=o.refCleanup;if(m!==null)if(typeof g=="function")try{g()}catch(w){Gt(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(w){Gt(o,c,w)}else m.current=null}function x2(o){var c=o.type,m=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&g.focus();break e;case"img":m.src?g.src=m.src:m.srcSet&&(g.srcset=m.srcSet)}}catch(w){Gt(o,o.return,w)}}function Bw(o,c,m){try{var g=o.stateNode;k8(g,o.type,m,c),g[_t]=c}catch(w){Gt(o,o.return,w)}}function w2(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pl(o.type)||o.tag===4}function Fw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||w2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qw(o,c,m){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Rs));else if(g!==4&&(g===27&&pl(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(qw(o,c,m),o=o.sibling;o!==null;)qw(o,c,m),o=o.sibling}function h_(o,c,m){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(g!==4&&(g===27&&pl(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(h_(o,c,m),o=o.sibling;o!==null;)h_(o,c,m),o=o.sibling}function S2(o){var c=o.stateNode,m=o.memoizedProps;try{for(var g=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);Rr(c,g,m),c[dt]=o,c[_t]=m}catch(T){Gt(o,o.return,T)}}var Xa=!1,Xn=!1,Gw=!1,T2=typeof WeakSet=="function"?WeakSet:Set,_r=null;function a8(o,c){if(o=o.containerInfo,f0=D_,o=OC(o),$x(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var g=m.getSelection&&m.getSelection();if(g&&g.rangeCount!==0){m=g.anchorNode;var w=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var R=0,G=-1,J=-1,ue=0,ye=0,we=o,de=null;t:for(;;){for(var me;we!==m||w!==0&&we.nodeType!==3||(G=R+w),we!==T||g!==0&&we.nodeType!==3||(J=R+g),we.nodeType===3&&(R+=we.nodeValue.length),(me=we.firstChild)!==null;)de=we,we=me;for(;;){if(we===o)break t;if(de===m&&++ue===w&&(G=R),de===T&&++ye===g&&(J=R),(me=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=me}m=G===-1||J===-1?null:{start:G,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(h0={focusedElem:o,selectionRange:m},D_=!1,_r=c;_r!==null;)if(c=_r,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,_r=o;else for(;_r!==null;){switch(c=_r,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)w=o[m],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,m=c,w=T.memoizedProps,T=T.memoizedState,g=m.stateNode;try{var ze=Pc(m.type,w);o=g.getSnapshotBeforeUpdate(ze,T),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ze){Gt(m,m.return,Ze)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)g0(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":g0(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,_r=o;break}_r=c.return}}function E2(o,c,m){var g=m.flags;switch(m.tag){case 0:case 11:case 15:Za(o,m),g&4&&Dh(5,m);break;case 1:if(Za(o,m),g&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(R){Gt(m,m.return,R)}else{var w=Pc(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(R){Gt(m,m.return,R)}}g&64&&v2(m),g&512&&jh(m,m.return);break;case 3:if(Za(o,m),g&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{cN(o,c)}catch(R){Gt(m,m.return,R)}}break;case 27:c===null&&g&4&&S2(m);case 26:case 5:Za(o,m),c===null&&g&4&&x2(m),g&512&&jh(m,m.return);break;case 12:Za(o,m);break;case 31:Za(o,m),g&4&&I2(o,m);break;case 13:Za(o,m),g&4&&C2(o,m),g&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=p8.bind(null,m),j8(o,m))));break;case 22:if(g=m.memoizedState!==null||Xa,!g){c=c!==null&&c.memoizedState!==null||Xn,w=Xa;var T=Xn;Xa=g,(Xn=c)&&!T?eo(o,m,(m.subtreeFlags&8772)!==0):Za(o,m),Xa=w,Xn=T}break;case 30:break;default:Za(o,m)}}function A2(o){var c=o.alternate;c!==null&&(o.alternate=null,A2(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Du(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Sn=null,di=!1;function Qa(o,c,m){for(m=m.child;m!==null;)k2(o,c,m),m=m.sibling}function k2(o,c,m){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Nn,m)}catch{}switch(m.tag){case 26:Xn||pa(m,c),Qa(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Xn||pa(m,c);var g=Sn,w=di;pl(m.type)&&(Sn=m.stateNode,di=!1),Qa(o,c,m),qh(m.stateNode),Sn=g,di=w;break;case 5:Xn||pa(m,c);case 6:if(g=Sn,w=di,Sn=null,Qa(o,c,m),Sn=g,di=w,Sn!==null)if(di)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(m.stateNode)}catch(T){Gt(m,c,T)}else try{Sn.removeChild(m.stateNode)}catch(T){Gt(m,c,T)}break;case 18:Sn!==null&&(di?(o=Sn,vP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),yd(o)):vP(Sn,m.stateNode));break;case 4:g=Sn,w=di,Sn=m.stateNode.containerInfo,di=!0,Qa(o,c,m),Sn=g,di=w;break;case 0:case 11:case 14:case 15:ll(2,m,c),Xn||ll(4,m,c),Qa(o,c,m);break;case 1:Xn||(pa(m,c),g=m.stateNode,typeof g.componentWillUnmount=="function"&&b2(m,c,g)),Qa(o,c,m);break;case 21:Qa(o,c,m);break;case 22:Xn=(g=Xn)||m.memoizedState!==null,Qa(o,c,m),Xn=g;break;default:Qa(o,c,m)}}function I2(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{yd(o)}catch(m){Gt(c,c.return,m)}}}function C2(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{yd(o)}catch(m){Gt(c,c.return,m)}}function o8(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new T2),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new T2),c;default:throw Error(r(435,o.tag))}}function m_(o,c){var m=o8(o);c.forEach(function(g){if(!m.has(g)){m.add(g);var w=g8.bind(null,o,g);g.then(w,w)}})}function fi(o,c){var m=c.deletions;if(m!==null)for(var g=0;g<m.length;g++){var w=m[g],T=o,R=c,G=R;e:for(;G!==null;){switch(G.tag){case 27:if(pl(G.type)){Sn=G.stateNode,di=!1;break e}break;case 5:Sn=G.stateNode,di=!1;break e;case 3:case 4:Sn=G.stateNode.containerInfo,di=!0;break e}G=G.return}if(Sn===null)throw Error(r(160));k2(T,R,w),Sn=null,di=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)N2(c,o),c=c.sibling}var $s=null;function N2(o,c){var m=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:fi(c,o),hi(o),g&4&&(ll(3,o,o.return),Dh(3,o),ll(5,o,o.return));break;case 1:fi(c,o),hi(o),g&512&&(Xn||m===null||pa(m,m.return)),g&64&&Xa&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?g:m.concat(g))));break;case 26:var w=$s;if(fi(c,o),hi(o),g&512&&(Xn||m===null||pa(m,m.return)),g&4){var T=m!==null?m.memoizedState:null;if(g=o.memoizedState,m===null)if(g===null)if(o.stateNode===null){e:{g=o.type,m=o.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":T=w.getElementsByTagName("title")[0],(!T||T[ta]||T[dt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(g),w.head.insertBefore(T,w.querySelector("head > title"))),Rr(T,g,m),T[dt]=o,Hn(T),g=T;break e;case"link":var R=NP("link","href",w).get(g+(m.href||""));if(R){for(var G=0;G<R.length;G++)if(T=R[G],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){R.splice(G,1);break t}}T=w.createElement(g),Rr(T,g,m),w.head.appendChild(T);break;case"meta":if(R=NP("meta","content",w).get(g+(m.content||""))){for(G=0;G<R.length;G++)if(T=R[G],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){R.splice(G,1);break t}}T=w.createElement(g),Rr(T,g,m),w.head.appendChild(T);break;default:throw Error(r(468,g))}T[dt]=o,Hn(T),g=T}o.stateNode=g}else PP(w,o.type,o.stateNode);else o.stateNode=CP(w,g,o.memoizedProps);else T!==g?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,g===null?PP(w,o.type,o.stateNode):CP(w,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Bw(o,o.memoizedProps,m.memoizedProps)}break;case 27:fi(c,o),hi(o),g&512&&(Xn||m===null||pa(m,m.return)),m!==null&&g&4&&Bw(o,o.memoizedProps,m.memoizedProps);break;case 5:if(fi(c,o),hi(o),g&512&&(Xn||m===null||pa(m,m.return)),o.flags&32){w=o.stateNode;try{ui(w,"")}catch(ze){Gt(o,o.return,ze)}}g&4&&o.stateNode!=null&&(w=o.memoizedProps,Bw(o,w,m!==null?m.memoizedProps:w)),g&1024&&(Gw=!0);break;case 6:if(fi(c,o),hi(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,m=o.stateNode;try{m.nodeValue=g}catch(ze){Gt(o,o.return,ze)}}break;case 3:if(N_=null,w=$s,$s=I_(c.containerInfo),fi(c,o),$s=w,hi(o),g&4&&m!==null&&m.memoizedState.isDehydrated)try{yd(c.containerInfo)}catch(ze){Gt(o,o.return,ze)}Gw&&(Gw=!1,P2(o));break;case 4:g=$s,$s=I_(o.stateNode.containerInfo),fi(c,o),hi(o),$s=g;break;case 12:fi(c,o),hi(o);break;case 31:fi(c,o),hi(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,m_(o,g)));break;case 13:fi(c,o),hi(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(g_=vn()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,m_(o,g)));break;case 22:w=o.memoizedState!==null;var J=m!==null&&m.memoizedState!==null,ue=Xa,ye=Xn;if(Xa=ue||w,Xn=ye||J,fi(c,o),Xn=ye,Xa=ue,hi(o),g&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(m===null||J||Xa||Xn||Rc(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){J=m=c;try{if(T=J.stateNode,w)R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{G=J.stateNode;var we=J.memoizedProps.style,de=we!=null&&we.hasOwnProperty("display")?we.display:null;G.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ze){Gt(J,J.return,ze)}}}else if(c.tag===6){if(m===null){J=c;try{J.stateNode.nodeValue=w?"":J.memoizedProps}catch(ze){Gt(J,J.return,ze)}}}else if(c.tag===18){if(m===null){J=c;try{var me=J.stateNode;w?bP(me,!0):bP(J.stateNode,!1)}catch(ze){Gt(J,J.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(m=g.retryQueue,m!==null&&(g.retryQueue=null,m_(o,m))));break;case 19:fi(c,o),hi(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,m_(o,g)));break;case 30:break;case 21:break;default:fi(c,o),hi(o)}}function hi(o){var c=o.flags;if(c&2){try{for(var m,g=o.return;g!==null;){if(w2(g)){m=g;break}g=g.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var w=m.stateNode,T=Fw(o);h_(o,T,w);break;case 5:var R=m.stateNode;m.flags&32&&(ui(R,""),m.flags&=-33);var G=Fw(o);h_(o,G,R);break;case 3:case 4:var J=m.stateNode.containerInfo,ue=Fw(o);qw(o,ue,J);break;default:throw Error(r(161))}}catch(ye){Gt(o,o.return,ye)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function P2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;P2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Za(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)E2(o,c.alternate,c),c=c.sibling}function Rc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ll(4,c,c.return),Rc(c);break;case 1:pa(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&b2(c,c.return,m),Rc(c);break;case 27:qh(c.stateNode);case 26:case 5:pa(c,c.return),Rc(c);break;case 22:c.memoizedState===null&&Rc(c);break;case 30:Rc(c);break;default:Rc(c)}o=o.sibling}}function eo(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,w=o,T=c,R=T.flags;switch(T.tag){case 0:case 11:case 15:eo(w,T,m),Dh(4,T);break;case 1:if(eo(w,T,m),g=T,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ue){Gt(g,g.return,ue)}if(g=T,w=g.updateQueue,w!==null){var G=g.stateNode;try{var J=w.shared.hiddenCallbacks;if(J!==null)for(w.shared.hiddenCallbacks=null,w=0;w<J.length;w++)lN(J[w],G)}catch(ue){Gt(g,g.return,ue)}}m&&R&64&&v2(T),jh(T,T.return);break;case 27:S2(T);case 26:case 5:eo(w,T,m),m&&g===null&&R&4&&x2(T),jh(T,T.return);break;case 12:eo(w,T,m);break;case 31:eo(w,T,m),m&&R&4&&I2(w,T);break;case 13:eo(w,T,m),m&&R&4&&C2(w,T);break;case 22:T.memoizedState===null&&eo(w,T,m),jh(T,T.return);break;case 30:break;default:eo(w,T,m)}c=c.sibling}}function Hw(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&xh(m))}function Kw(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&xh(o))}function Vs(o,c,m,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)R2(o,c,m,g),c=c.sibling}function R2(o,c,m,g){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Vs(o,c,m,g),w&2048&&Dh(9,c);break;case 1:Vs(o,c,m,g);break;case 3:Vs(o,c,m,g),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&xh(o)));break;case 12:if(w&2048){Vs(o,c,m,g),o=c.stateNode;try{var T=c.memoizedProps,R=T.id,G=T.onPostCommit;typeof G=="function"&&G(R,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(J){Gt(c,c.return,J)}}else Vs(o,c,m,g);break;case 31:Vs(o,c,m,g);break;case 13:Vs(o,c,m,g);break;case 23:break;case 22:T=c.stateNode,R=c.alternate,c.memoizedState!==null?T._visibility&2?Vs(o,c,m,g):Oh(o,c):T._visibility&2?Vs(o,c,m,g):(T._visibility|=2,od(o,c,m,g,(c.subtreeFlags&10256)!==0||!1)),w&2048&&Hw(R,c);break;case 24:Vs(o,c,m,g),w&2048&&Kw(c.alternate,c);break;default:Vs(o,c,m,g)}}function od(o,c,m,g,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,R=c,G=m,J=g,ue=R.flags;switch(R.tag){case 0:case 11:case 15:od(T,R,G,J,w),Dh(8,R);break;case 23:break;case 22:var ye=R.stateNode;R.memoizedState!==null?ye._visibility&2?od(T,R,G,J,w):Oh(T,R):(ye._visibility|=2,od(T,R,G,J,w)),w&&ue&2048&&Hw(R.alternate,R);break;case 24:od(T,R,G,J,w),w&&ue&2048&&Kw(R.alternate,R);break;default:od(T,R,G,J,w)}c=c.sibling}}function Oh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,g=c,w=g.flags;switch(g.tag){case 22:Oh(m,g),w&2048&&Hw(g.alternate,g);break;case 24:Oh(m,g),w&2048&&Kw(g.alternate,g);break;default:Oh(m,g)}c=c.sibling}}var Lh=8192;function ld(o,c,m){if(o.subtreeFlags&Lh)for(o=o.child;o!==null;)M2(o,c,m),o=o.sibling}function M2(o,c,m){switch(o.tag){case 26:ld(o,c,m),o.flags&Lh&&o.memoizedState!==null&&K8(m,$s,o.memoizedState,o.memoizedProps);break;case 5:ld(o,c,m);break;case 3:case 4:var g=$s;$s=I_(o.stateNode.containerInfo),ld(o,c,m),$s=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=Lh,Lh=16777216,ld(o,c,m),Lh=g):ld(o,c,m));break;default:ld(o,c,m)}}function D2(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function $h(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var g=c[m];_r=g,O2(g,o)}D2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)j2(o),o=o.sibling}function j2(o){switch(o.tag){case 0:case 11:case 15:$h(o),o.flags&2048&&ll(9,o,o.return);break;case 3:$h(o);break;case 12:$h(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,p_(o)):$h(o);break;default:$h(o)}}function p_(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var g=c[m];_r=g,O2(g,o)}D2(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ll(8,c,c.return),p_(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,p_(c));break;default:p_(c)}o=o.sibling}}function O2(o,c){for(;_r!==null;){var m=_r;switch(m.tag){case 0:case 11:case 15:ll(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var g=m.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:xh(m.memoizedState.cache)}if(g=m.child,g!==null)g.return=m,_r=g;else e:for(m=o;_r!==null;){g=_r;var w=g.sibling,T=g.return;if(A2(g),g===m){_r=null;break e}if(w!==null){w.return=T,_r=w;break e}_r=T}}}var l8={getCacheForType:function(o){var c=Nr(Wn),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m},cacheSignal:function(){return Nr(Wn).controller.signal}},c8=typeof WeakMap=="function"?WeakMap:Map,Ut=0,an=null,xt=null,At=0,qt=0,$i=null,cl=!1,cd=!1,Ww=!1,to=0,Rn=0,ul=0,Mc=0,Yw=0,Vi=0,ud=0,Vh=null,mi=null,Jw=!1,g_=0,L2=0,__=1/0,y_=null,dl=null,or=0,fl=null,dd=null,no=0,Xw=0,Qw=null,$2=null,Uh=0,Zw=null;function Ui(){return(Ut&2)!==0&&At!==0?At&-At:Y.T!==null?s0():$r()}function V2(){if(Vi===0)if((At&536870912)===0||Nt){var o=Fo;Fo<<=1,(Fo&3932160)===0&&(Fo=262144),Vi=o}else Vi=536870912;return o=Oi.current,o!==null&&(o.flags|=32),Vi}function pi(o,c,m){(o===an&&(qt===2||qt===9)||o.cancelPendingCommit!==null)&&(fd(o,0),hl(o,At,Vi,!1)),Rt(o,m),((Ut&2)===0||o!==an)&&(o===an&&((Ut&2)===0&&(Mc|=m),Rn===4&&hl(o,At,Vi,!1)),ga(o))}function U2(o,c,m){if((Ut&6)!==0)throw Error(r(327));var g=!m&&(c&127)===0&&(c&o.expiredLanes)===0||Te(o,c),w=g?f8(o,c):t0(o,c,!0),T=g;do{if(w===0){cd&&!g&&hl(o,c,0,!1);break}else{if(m=o.current.alternate,T&&!u8(m)){w=t0(o,c,!1),T=!1;continue}if(w===2){if(T=c,o.errorRecoveryDisabledLanes&T)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var G=o;w=Vh;var J=G.current.memoizedState.isDehydrated;if(J&&(fd(G,R).flags|=256),R=t0(G,R,!1),R!==2){if(Ww&&!J){G.errorRecoveryDisabledLanes|=T,Mc|=T,w=4;break e}T=mi,mi=w,T!==null&&(mi===null?mi=T:mi.push.apply(mi,T))}w=R}if(T=!1,w!==2)continue}}if(w===1){fd(o,0),hl(o,c,0,!0);break}e:{switch(g=o,T=w,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:hl(g,c,Vi,!cl);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=g_+300-vn(),10<w)){if(hl(g,c,Vi,!cl),ke(g,0,!0)!==0)break e;no=c,g.timeoutHandle=_P(z2.bind(null,g,m,mi,y_,Jw,c,Vi,Mc,ud,cl,T,"Throttled",-0,0),w);break e}z2(g,m,mi,y_,Jw,c,Vi,Mc,ud,cl,T,null,-0,0)}}break}while(!0);ga(o)}function z2(o,c,m,g,w,T,R,G,J,ue,ye,we,de,me){if(o.timeoutHandle=-1,we=c.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},M2(c,T,we);var ze=(T&62914560)===T?g_-vn():(T&4194048)===T?L2-vn():0;if(ze=W8(we,ze),ze!==null){no=T,o.cancelPendingCommit=ze(Y2.bind(null,o,c,T,m,g,w,R,G,J,ye,we,null,de,me)),hl(o,T,R,!ue);return}}Y2(o,c,T,m,g,w,R,G,J)}function u8(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var g=0;g<m.length;g++){var w=m[g],T=w.getSnapshot;w=w.value;try{if(!Di(T(),w))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function hl(o,c,m,g){c&=~Yw,c&=~Mc,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var w=c;0<w;){var T=31-Tt(w),R=1<<T;g[T]=-1,w&=~R}m!==0&&rn(o,m,c)}function v_(){return(Ut&6)===0?(zh(0),!1):!0}function e0(){if(xt!==null){if(qt===0)var o=xt.return;else o=xt,Ga=Tc=null,gw(o),nd=null,Sh=0,o=xt;for(;o!==null;)y2(o.alternate,o),o=o.return;xt=null}}function fd(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,N8(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),no=0,e0(),an=o,xt=m=Fa(o.current,null),At=c,qt=0,$i=null,cl=!1,cd=Te(o,c),Ww=!1,ud=Vi=Yw=Mc=ul=Rn=0,mi=Vh=null,Jw=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var w=31-Tt(g),T=1<<w;c|=o[w],g&=~T}return to=c,Ug(),m}function B2(o,c){ct=null,Y.H=Ph,c===td||c===Wg?(c=iN(),qt=3):c===iw?(c=iN(),qt=4):qt=c===Rw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,$i=c,xt===null&&(Rn=1,l_(o,os(c,o.current)))}function F2(){var o=Oi.current;return o===null?!0:(At&4194048)===At?ds===null:(At&62914560)===At||(At&536870912)!==0?o===ds:!1}function q2(){var o=Y.H;return Y.H=Ph,o===null?Ph:o}function G2(){var o=Y.A;return Y.A=l8,o}function b_(){Rn=4,cl||(At&4194048)!==At&&Oi.current!==null||(cd=!0),(ul&134217727)===0&&(Mc&134217727)===0||an===null||hl(an,At,Vi,!1)}function t0(o,c,m){var g=Ut;Ut|=2;var w=q2(),T=G2();(an!==o||At!==c)&&(y_=null,fd(o,c)),c=!1;var R=Rn;e:do try{if(qt!==0&&xt!==null){var G=xt,J=$i;switch(qt){case 8:e0(),R=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(c=!0);var ue=qt;if(qt=0,$i=null,hd(o,G,J,ue),m&&cd){R=0;break e}break;default:ue=qt,qt=0,$i=null,hd(o,G,J,ue)}}d8(),R=Rn;break}catch(ye){B2(o,ye)}while(!0);return c&&o.shellSuspendCounter++,Ga=Tc=null,Ut=g,Y.H=w,Y.A=T,xt===null&&(an=null,At=0,Ug()),R}function d8(){for(;xt!==null;)H2(xt)}function f8(o,c){var m=Ut;Ut|=2;var g=q2(),w=G2();an!==o||At!==c?(y_=null,__=vn()+500,fd(o,c)):cd=Te(o,c);e:do try{if(qt!==0&&xt!==null){c=xt;var T=$i;t:switch(qt){case 1:qt=0,$i=null,hd(o,c,T,1);break;case 2:case 9:if(nN(T)){qt=0,$i=null,K2(c);break}c=function(){qt!==2&&qt!==9||an!==o||(qt=7),ga(o)},T.then(c,c);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:nN(T)?(qt=0,$i=null,K2(c)):(qt=0,$i=null,hd(o,c,T,7));break;case 5:var R=null;switch(xt.tag){case 26:R=xt.memoizedState;case 5:case 27:var G=xt;if(R?RP(R):G.stateNode.complete){qt=0,$i=null;var J=G.sibling;if(J!==null)xt=J;else{var ue=G.return;ue!==null?(xt=ue,x_(ue)):xt=null}break t}}qt=0,$i=null,hd(o,c,T,5);break;case 6:qt=0,$i=null,hd(o,c,T,6);break;case 8:e0(),Rn=6;break e;default:throw Error(r(462))}}h8();break}catch(ye){B2(o,ye)}while(!0);return Ga=Tc=null,Y.H=g,Y.A=w,Ut=m,xt!==null?0:(an=null,At=0,Ug(),Rn)}function h8(){for(;xt!==null&&!Er();)H2(xt)}function H2(o){var c=g2(o.alternate,o,to);o.memoizedProps=o.pendingProps,c===null?x_(o):xt=c}function K2(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=u2(m,c,c.pendingProps,c.type,void 0,At);break;case 11:c=u2(m,c,c.pendingProps,c.type.render,c.ref,At);break;case 5:gw(c);default:y2(m,c),c=xt=GC(c,to),c=g2(m,c,to)}o.memoizedProps=o.pendingProps,c===null?x_(o):xt=c}function hd(o,c,m,g){Ga=Tc=null,gw(c),nd=null,Sh=0;var w=c.return;try{if(t8(o,w,c,m,At)){Rn=1,l_(o,os(m,o.current)),xt=null;return}}catch(T){if(w!==null)throw xt=w,T;Rn=1,l_(o,os(m,o.current)),xt=null;return}c.flags&32768?(Nt||g===1?o=!0:cd||(At&536870912)!==0?o=!1:(cl=o=!0,(g===2||g===9||g===3||g===6)&&(g=Oi.current,g!==null&&g.tag===13&&(g.flags|=16384))),W2(c,o)):x_(c)}function x_(o){var c=o;do{if((c.flags&32768)!==0){W2(c,cl);return}o=c.return;var m=i8(c.alternate,c,to);if(m!==null){xt=m;return}if(c=c.sibling,c!==null){xt=c;return}xt=c=o}while(c!==null);Rn===0&&(Rn=5)}function W2(o,c){do{var m=s8(o.alternate,o);if(m!==null){m.flags&=32767,xt=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){xt=o;return}xt=o=m}while(o!==null);Rn=6,xt=null}function Y2(o,c,m,g,w,T,R,G,J){o.cancelPendingCommit=null;do w_();while(or!==0);if((Ut&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=Fx,Et(o,m,T,R,G,J),o===an&&(xt=an=null,At=0),dd=c,fl=o,no=m,Xw=T,Qw=w,$2=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,_8(Qe,function(){return eP(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null,w=X.p,X.p=2,R=Ut,Ut|=4;try{a8(o,c,m)}finally{Ut=R,X.p=w,Y.T=g}}or=1,J2(),X2(),Q2()}}function J2(){if(or===1){or=0;var o=fl,c=dd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var g=X.p;X.p=2;var w=Ut;Ut|=4;try{N2(c,o);var T=h0,R=OC(o.containerInfo),G=T.focusedElem,J=T.selectionRange;if(R!==G&&G&&G.ownerDocument&&jC(G.ownerDocument.documentElement,G)){if(J!==null&&$x(G)){var ue=J.start,ye=J.end;if(ye===void 0&&(ye=ue),"selectionStart"in G)G.selectionStart=ue,G.selectionEnd=Math.min(ye,G.value.length);else{var we=G.ownerDocument||document,de=we&&we.defaultView||window;if(de.getSelection){var me=de.getSelection(),ze=G.textContent.length,Ze=Math.min(J.start,ze),tn=J.end===void 0?Ze:Math.min(J.end,ze);!me.extend&&Ze>tn&&(R=tn,tn=Ze,Ze=R);var ne=DC(G,Ze),Z=DC(G,tn);if(ne&&Z&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==Z.node||me.focusOffset!==Z.offset)){var ce=we.createRange();ce.setStart(ne.node,ne.offset),me.removeAllRanges(),Ze>tn?(me.addRange(ce),me.extend(Z.node,Z.offset)):(ce.setEnd(Z.node,Z.offset),me.addRange(ce))}}}}for(we=[],me=G;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<we.length;G++){var xe=we[G];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}D_=!!f0,h0=f0=null}finally{Ut=w,X.p=g,Y.T=m}}o.current=c,or=2}}function X2(){if(or===2){or=0;var o=fl,c=dd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var g=X.p;X.p=2;var w=Ut;Ut|=4;try{E2(o,c.alternate,c)}finally{Ut=w,X.p=g,Y.T=m}}or=3}}function Q2(){if(or===4||or===3){or=0,Lr();var o=fl,c=dd,m=no,g=$2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?or=5:(or=0,dd=fl=null,Z2(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(dl=null),ar(m),c=c.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Nn,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=Y.T,w=X.p,X.p=2,Y.T=null;try{for(var T=o.onRecoverableError,R=0;R<g.length;R++){var G=g[R];T(G.value,{componentStack:G.stack})}}finally{Y.T=c,X.p=w}}(no&3)!==0&&w_(),ga(o),w=o.pendingLanes,(m&261930)!==0&&(w&42)!==0?o===Zw?Uh++:(Uh=0,Zw=o):Uh=0,zh(0)}}function Z2(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,xh(c)))}function w_(){return J2(),X2(),Q2(),eP()}function eP(){if(or!==5)return!1;var o=fl,c=Xw;Xw=0;var m=ar(no),g=Y.T,w=X.p;try{X.p=32>m?32:m,Y.T=null,m=Qw,Qw=null;var T=fl,R=no;if(or=0,dd=fl=null,no=0,(Ut&6)!==0)throw Error(r(331));var G=Ut;if(Ut|=4,j2(T.current),R2(T,T.current,R,m),Ut=G,zh(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Nn,T)}catch{}return!0}finally{X.p=w,Y.T=g,Z2(o,c)}}function tP(o,c,m){c=os(m,c),c=Pw(o.stateNode,c,2),o=sl(o,c,2),o!==null&&(Rt(o,2),ga(o))}function Gt(o,c,m){if(o.tag===3)tP(o,o,m);else for(;c!==null;){if(c.tag===3){tP(c,o,m);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(dl===null||!dl.has(g))){o=os(m,o),m=n2(2),g=sl(c,m,2),g!==null&&(r2(m,g,c,o),Rt(g,2),ga(g));break}}c=c.return}}function n0(o,c,m){var g=o.pingCache;if(g===null){g=o.pingCache=new c8;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(m)||(Ww=!0,w.add(m),o=m8.bind(null,o,c,m),c.then(o,o))}function m8(o,c,m){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,an===o&&(At&m)===m&&(Rn===4||Rn===3&&(At&62914560)===At&&300>vn()-g_?(Ut&2)===0&&fd(o,0):Yw|=m,ud===At&&(ud=0)),ga(o)}function nP(o,c){c===0&&(c=je()),o=xc(o,c),o!==null&&(Rt(o,c),ga(o))}function p8(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),nP(o,m)}function g8(o,c){var m=0;switch(o.tag){case 31:case 13:var g=o.stateNode,w=o.memoizedState;w!==null&&(m=w.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),nP(o,m)}function _8(o,c){return Ae(o,c)}var S_=null,md=null,r0=!1,T_=!1,i0=!1,ml=0;function ga(o){o!==md&&o.next===null&&(md===null?S_=md=o:md=md.next=o),T_=!0,r0||(r0=!0,v8())}function zh(o,c){if(!i0&&T_){i0=!0;do for(var m=!1,g=S_;g!==null;){if(o!==0){var w=g.pendingLanes;if(w===0)var T=0;else{var R=g.suspendedLanes,G=g.pingedLanes;T=(1<<31-Tt(42|o)+1)-1,T&=w&~(R&~G),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,aP(g,T))}else T=At,T=ke(g,g===an?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||Te(g,T)||(m=!0,aP(g,T));g=g.next}while(m);i0=!1}}function y8(){rP()}function rP(){T_=r0=!1;var o=0;ml!==0&&C8()&&(o=ml);for(var c=vn(),m=null,g=S_;g!==null;){var w=g.next,T=iP(g,c);T===0?(g.next=null,m===null?S_=w:m.next=w,w===null&&(md=m)):(m=g,(o!==0||(T&3)!==0)&&(T_=!0)),g=w}or!==0&&or!==5||zh(o),ml!==0&&(ml=0)}function iP(o,c){for(var m=o.suspendedLanes,g=o.pingedLanes,w=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var R=31-Tt(T),G=1<<R,J=w[R];J===-1?((G&m)===0||(G&g)!==0)&&(w[R]=et(G,c)):J<=c&&(o.expiredLanes|=G),T&=~G}if(c=an,m=At,m=ke(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,m===0||o===c&&(qt===2||qt===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&ot(g),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Te(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(g!==null&&ot(g),ar(m)){case 2:case 8:m=Ne;break;case 32:m=Qe;break;case 268435456:m=Dt;break;default:m=Qe}return g=sP.bind(null,o),m=Ae(m,g),o.callbackPriority=c,o.callbackNode=m,c}return g!==null&&g!==null&&ot(g),o.callbackPriority=2,o.callbackNode=null,2}function sP(o,c){if(or!==0&&or!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(w_()&&o.callbackNode!==m)return null;var g=At;return g=ke(o,o===an?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(U2(o,g,c),iP(o,vn()),o.callbackNode!=null&&o.callbackNode===m?sP.bind(null,o):null)}function aP(o,c){if(w_())return null;U2(o,c,!0)}function v8(){P8(function(){(Ut&6)!==0?Ae(ve,y8):rP()})}function s0(){if(ml===0){var o=Zu;o===0&&(o=Ns,Ns<<=1,(Ns&261888)===0&&(Ns=256)),ml=o}return ml}function oP(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:$u(""+o)}function lP(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function b8(o,c,m,g,w){if(c==="submit"&&m&&m.stateNode===w){var T=oP((w[_t]||null).action),R=g.submitter;R&&(c=(c=R[_t]||null)?oP(c.formAction):R.getAttribute("formAction"),c!==null&&(T=c,R=null));var G=new ca("action","action",null,g,w);o.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ml!==0){var J=R?lP(w,R):new FormData(w);Ew(m,{pending:!0,data:J,method:w.method,action:T},null,J)}}else typeof T=="function"&&(G.preventDefault(),J=R?lP(w,R):new FormData(w),Ew(m,{pending:!0,data:J,method:w.method,action:T},T,J))},currentTarget:w}]})}}for(var a0=0;a0<Bx.length;a0++){var o0=Bx[a0],x8=o0.toLowerCase(),w8=o0[0].toUpperCase()+o0.slice(1);Ls(x8,"on"+w8)}Ls(VC,"onAnimationEnd"),Ls(UC,"onAnimationIteration"),Ls(zC,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls($9,"onTransitionRun"),Ls(V9,"onTransitionStart"),Ls(U9,"onTransitionCancel"),Ls(BC,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function cP(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var g=o[m],w=g.event;g=g.listeners;e:{var T=void 0;if(c)for(var R=g.length-1;0<=R;R--){var G=g[R],J=G.instance,ue=G.currentTarget;if(G=G.listener,J!==T&&w.isPropagationStopped())break e;T=G,w.currentTarget=ue;try{T(w)}catch(ye){Vg(ye)}w.currentTarget=null,T=J}else for(R=0;R<g.length;R++){if(G=g[R],J=G.instance,ue=G.currentTarget,G=G.listener,J!==T&&w.isPropagationStopped())break e;T=G,w.currentTarget=ue;try{T(w)}catch(ye){Vg(ye)}w.currentTarget=null,T=J}}}}function wt(o,c){var m=c[Ps];m===void 0&&(m=c[Ps]=new Set);var g=o+"__bubble";m.has(g)||(uP(c,o,2,!1),m.add(g))}function l0(o,c,m){var g=0;c&&(g|=4),uP(m,o,g,c)}var E_="_reactListening"+Math.random().toString(36).slice(2);function c0(o){if(!o[E_]){o[E_]=!0,eh.forEach(function(m){m!=="selectionchange"&&(S8.has(m)||l0(m,!1,o),l0(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[E_]||(c[E_]=!0,l0("selectionchange",!1,c))}}function uP(o,c,m,g){switch(VP(c)){case 2:var w=X8;break;case 8:w=Q8;break;default:w=T0}m=w.bind(null,c,m,o),w=void 0,!hc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?o.addEventListener(c,m,{capture:!0,passive:w}):o.addEventListener(c,m,!0):w!==void 0?o.addEventListener(c,m,{passive:w}):o.addEventListener(c,m,!1)}function u0(o,c,m,g,w){var T=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var G=g.stateNode.containerInfo;if(G===w)break;if(R===4)for(R=g.return;R!==null;){var J=R.tag;if((J===3||J===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;G!==null;){if(R=na(G),R===null)return;if(J=R.tag,J===5||J===6||J===26||J===27){g=T=R;continue e}G=G.parentNode}}g=g.return}Yo(function(){var ue=T,ye=rs(m),we=[];e:{var de=FC.get(o);if(de!==void 0){var me=ca,ze=o;switch(o){case"keypress":if(pc(m)===0)break e;case"keydown":case"keyup":me=Og;break;case"focusin":ze="focus",me=_c;break;case"focusout":ze="blur",me=_c;break;case"beforeblur":case"afterblur":me=_c;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=C;break;case VC:case UC:case zC:me=Cg;break;case BC:me=W;break;case"scroll":case"scrollend":me=fh;break;case"wheel":me=he;break;case"copy":case"cut":case"paste":me=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Ba;break;case"toggle":case"beforetoggle":me=lt}var Ze=(c&4)!==0,tn=!Ze&&(o==="scroll"||o==="scrollend"),ne=Ze?de!==null?de+"Capture":null:de;Ze=[];for(var Z=ue,ce;Z!==null;){var xe=Z;if(ce=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ce===null||ne===null||(xe=Ms(Z,ne),xe!=null&&Ze.push(Fh(Z,xe,ce))),tn)break;Z=Z.return}0<Ze.length&&(de=new me(de,ze,null,m,ye),we.push({event:de,listeners:Ze}))}}if((c&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",de&&m!==ch&&(ze=m.relatedTarget||m.fromElement)&&(na(ze)||ze[Xr]))break e;if((me||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,me?(ze=m.relatedTarget||m.toElement,me=ue,ze=ze?na(ze):null,ze!==null&&(tn=s(ze),Ze=ze.tag,ze!==tn||Ze!==5&&Ze!==27&&Ze!==6)&&(ze=null)):(me=null,ze=ue),me!==ze)){if(Ze=hh,xe="onMouseLeave",ne="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(Ze=Ba,xe="onPointerLeave",ne="onPointerEnter",Z="pointer"),tn=me==null?de:Ri(me),ce=ze==null?de:Ri(ze),de=new Ze(xe,Z+"leave",me,m,ye),de.target=tn,de.relatedTarget=ce,xe=null,na(ye)===ue&&(Ze=new Ze(ne,Z+"enter",ze,m,ye),Ze.target=ce,Ze.relatedTarget=tn,xe=Ze),tn=xe,me&&ze)t:{for(Ze=T8,ne=me,Z=ze,ce=0,xe=ne;xe;xe=Ze(xe))ce++;xe=0;for(var Ye=Z;Ye;Ye=Ze(Ye))xe++;for(;0<ce-xe;)ne=Ze(ne),ce--;for(;0<xe-ce;)Z=Ze(Z),xe--;for(;ce--;){if(ne===Z||Z!==null&&ne===Z.alternate){Ze=ne;break t}ne=Ze(ne),Z=Ze(Z)}Ze=null}else Ze=null;me!==null&&dP(we,de,me,Ze,!1),ze!==null&&tn!==null&&dP(we,tn,ze,Ze,!0)}}e:{if(de=ue?Ri(ue):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var jt=IC;else if(AC(de))if(CC)jt=j9;else{jt=M9;var qe=R9}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Lu(ue.elementType)&&(jt=IC):jt=D9;if(jt&&(jt=jt(o,ue))){kC(we,jt,m,ye);break e}qe&&qe(o,de,ue),o==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&ah(de,"number",de.value)}switch(qe=ue?Ri(ue):window,o){case"focusin":(AC(qe)||qe.contentEditable==="true")&&(Gu=qe,Vx=ue,yh=null);break;case"focusout":yh=Vx=Gu=null;break;case"mousedown":Ux=!0;break;case"contextmenu":case"mouseup":case"dragend":Ux=!1,LC(we,m,ye);break;case"selectionchange":if(L9)break;case"keydown":case"keyup":LC(we,m,ye)}var ft;if(Vt)e:{switch(o){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else qu?yc(o,m)&&(kt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(kt="onCompositionStart");kt&&(fa&&m.locale!=="ko"&&(qu||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&qu&&(ft=dh()):(la=ye,uh="value"in la?la.value:la.textContent,qu=!0)),qe=A_(ue,kt),0<qe.length&&(kt=new da(kt,o,null,m,ye),we.push({event:kt,listeners:qe}),ft?kt.data=ft:(ft=Fu(m),ft!==null&&(kt.data=ft)))),(ft=ss?I9(o,m):C9(o,m))&&(kt=A_(ue,"onBeforeInput"),0<kt.length&&(qe=new da("onBeforeInput","beforeinput",null,m,ye),we.push({event:qe,listeners:kt}),qe.data=ft)),b8(we,o,ue,m,ye)}cP(we,c)})}function Fh(o,c,m){return{instance:o,listener:c,currentTarget:m}}function A_(o,c){for(var m=c+"Capture",g=[];o!==null;){var w=o,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=Ms(o,m),w!=null&&g.unshift(Fh(o,w,T)),w=Ms(o,c),w!=null&&g.push(Fh(o,w,T))),o.tag===3)return g;o=o.return}return[]}function T8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function dP(o,c,m,g,w){for(var T=c._reactName,R=[];m!==null&&m!==g;){var G=m,J=G.alternate,ue=G.stateNode;if(G=G.tag,J!==null&&J===g)break;G!==5&&G!==26&&G!==27||ue===null||(J=ue,w?(ue=Ms(m,T),ue!=null&&R.unshift(Fh(m,ue,J))):w||(ue=Ms(m,T),ue!=null&&R.push(Fh(m,ue,J)))),m=m.return}R.length!==0&&o.push({event:c,listeners:R})}var E8=/\r\n?/g,A8=/\u0000|\uFFFD/g;function fP(o){return(typeof o=="string"?o:""+o).replace(E8,`
`).replace(A8,"")}function hP(o,c){return c=fP(c),fP(o)===c}function en(o,c,m,g,w,T){switch(m){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ui(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ui(o,""+g);break;case"className":Mi(o,"class",g);break;case"tabIndex":Mi(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(o,m,g);break;case"style":lh(o,g,T);break;case"data":if(c!=="object"){Mi(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(m);break}g=$u(""+g),o.setAttribute(m,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(c!=="input"&&en(o,c,"name",w.name,w,null),en(o,c,"formEncType",w.formEncType,w,null),en(o,c,"formMethod",w.formMethod,w,null),en(o,c,"formTarget",w.formTarget,w,null)):(en(o,c,"encType",w.encType,w,null),en(o,c,"method",w.method,w,null),en(o,c,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(m);break}g=$u(""+g),o.setAttribute(m,g);break;case"onClick":g!=null&&(o.onclick=Rs);break;case"onScroll":g!=null&&wt("scroll",o);break;case"onScrollEnd":g!=null&&wt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(m=g.__html,m!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=m}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}m=$u(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,""+g):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":g===!0?o.setAttribute(m,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,g):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(m,g):o.removeAttribute(m);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(m):o.setAttribute(m,g);break;case"popover":wt("beforetoggle",o),wt("toggle",o),ju(o,"popover",g);break;case"xlinkActuate":Kn(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Kn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Kn(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Kn(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Kn(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Kn(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Kn(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Kn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Kn(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ju(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Ag.get(m)||m,ju(o,m,g))}}function d0(o,c,m,g,w,T){switch(m){case"style":lh(o,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(m=g.__html,m!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=m}}break;case"children":typeof g=="string"?ui(o,g):(typeof g=="number"||typeof g=="bigint")&&ui(o,""+g);break;case"onScroll":g!=null&&wt("scroll",o);break;case"onScrollEnd":g!=null&&wt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!th.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(w=m.endsWith("Capture"),c=m.slice(2,w?m.length-7:void 0),T=o[_t]||null,T=T!=null?T[m]:null,typeof T=="function"&&o.removeEventListener(c,T,w),typeof g=="function")){typeof T!="function"&&T!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,g,w);break e}m in o?o[m]=g:g===!0?o.setAttribute(m,""):ju(o,m,g)}}}function Rr(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",o),wt("load",o);var g=!1,w=!1,T;for(T in m)if(m.hasOwnProperty(T)){var R=m[T];if(R!=null)switch(T){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:en(o,c,T,R,m,null)}}w&&en(o,c,"srcSet",m.srcSet,m,null),g&&en(o,c,"src",m.src,m,null);return;case"input":wt("invalid",o);var G=T=R=w=null,J=null,ue=null;for(g in m)if(m.hasOwnProperty(g)){var ye=m[g];if(ye!=null)switch(g){case"name":w=ye;break;case"type":R=ye;break;case"checked":J=ye;break;case"defaultChecked":ue=ye;break;case"value":T=ye;break;case"defaultValue":G=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,c));break;default:en(o,c,g,ye,m,null)}}Sg(o,T,G,J,ue,R,w,!1);return;case"select":wt("invalid",o),g=R=T=null;for(w in m)if(m.hasOwnProperty(w)&&(G=m[w],G!=null))switch(w){case"value":T=G;break;case"defaultValue":R=G;break;case"multiple":g=G;default:en(o,c,w,G,m,null)}c=T,m=R,o.multiple=!!g,c!=null?Go(o,!!g,c,!1):m!=null&&Go(o,!!g,m,!0);return;case"textarea":wt("invalid",o),T=w=g=null;for(R in m)if(m.hasOwnProperty(R)&&(G=m[R],G!=null))switch(R){case"value":g=G;break;case"defaultValue":w=G;break;case"children":T=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:en(o,c,R,G,m,null)}Ho(o,g,w,T);return;case"option":for(J in m)if(m.hasOwnProperty(J)&&(g=m[J],g!=null))switch(J){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:en(o,c,J,g,m,null)}return;case"dialog":wt("beforetoggle",o),wt("toggle",o),wt("cancel",o),wt("close",o);break;case"iframe":case"object":wt("load",o);break;case"video":case"audio":for(g=0;g<Bh.length;g++)wt(Bh[g],o);break;case"image":wt("error",o),wt("load",o);break;case"details":wt("toggle",o);break;case"embed":case"source":case"link":wt("error",o),wt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in m)if(m.hasOwnProperty(ue)&&(g=m[ue],g!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:en(o,c,ue,g,m,null)}return;default:if(Lu(c)){for(ye in m)m.hasOwnProperty(ye)&&(g=m[ye],g!==void 0&&d0(o,c,ye,g,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(g=m[G],g!=null&&en(o,c,G,g,m,null))}function k8(o,c,m,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,R=null,G=null,J=null,ue=null,ye=null;for(me in m){var we=m[me];if(m.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":J=we;default:g.hasOwnProperty(me)||en(o,c,me,null,g,we)}}for(var de in g){var me=g[de];if(we=m[de],g.hasOwnProperty(de)&&(me!=null||we!=null))switch(de){case"type":T=me;break;case"name":w=me;break;case"checked":ue=me;break;case"defaultChecked":ye=me;break;case"value":R=me;break;case"defaultValue":G=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,c));break;default:me!==we&&en(o,c,de,me,g,we)}}Ou(o,R,G,J,ue,ye,T,w);return;case"select":me=R=G=de=null;for(T in m)if(J=m[T],m.hasOwnProperty(T)&&J!=null)switch(T){case"value":break;case"multiple":me=J;default:g.hasOwnProperty(T)||en(o,c,T,null,g,J)}for(w in g)if(T=g[w],J=m[w],g.hasOwnProperty(w)&&(T!=null||J!=null))switch(w){case"value":de=T;break;case"defaultValue":G=T;break;case"multiple":R=T;default:T!==J&&en(o,c,w,T,g,J)}c=G,m=R,g=me,de!=null?Go(o,!!m,de,!1):!!g!=!!m&&(c!=null?Go(o,!!m,c,!0):Go(o,!!m,m?[]:"",!1));return;case"textarea":me=de=null;for(G in m)if(w=m[G],m.hasOwnProperty(G)&&w!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:en(o,c,G,null,g,w)}for(R in g)if(w=g[R],T=m[R],g.hasOwnProperty(R)&&(w!=null||T!=null))switch(R){case"value":de=w;break;case"defaultValue":me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==T&&en(o,c,R,w,g,T)}Tg(o,de,me);return;case"option":for(var ze in m)if(de=m[ze],m.hasOwnProperty(ze)&&de!=null&&!g.hasOwnProperty(ze))switch(ze){case"selected":o.selected=!1;break;default:en(o,c,ze,null,g,de)}for(J in g)if(de=g[J],me=m[J],g.hasOwnProperty(J)&&de!==me&&(de!=null||me!=null))switch(J){case"selected":o.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:en(o,c,J,de,g,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in m)de=m[Ze],m.hasOwnProperty(Ze)&&de!=null&&!g.hasOwnProperty(Ze)&&en(o,c,Ze,null,g,de);for(ue in g)if(de=g[ue],me=m[ue],g.hasOwnProperty(ue)&&de!==me&&(de!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,c));break;default:en(o,c,ue,de,g,me)}return;default:if(Lu(c)){for(var tn in m)de=m[tn],m.hasOwnProperty(tn)&&de!==void 0&&!g.hasOwnProperty(tn)&&d0(o,c,tn,void 0,g,de);for(ye in g)de=g[ye],me=m[ye],!g.hasOwnProperty(ye)||de===me||de===void 0&&me===void 0||d0(o,c,ye,de,g,me);return}}for(var ne in m)de=m[ne],m.hasOwnProperty(ne)&&de!=null&&!g.hasOwnProperty(ne)&&en(o,c,ne,null,g,de);for(we in g)de=g[we],me=m[we],!g.hasOwnProperty(we)||de===me||de==null&&me==null||en(o,c,we,de,g,me)}function mP(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,m=performance.getEntriesByType("resource"),g=0;g<m.length;g++){var w=m[g],T=w.transferSize,R=w.initiatorType,G=w.duration;if(T&&G&&mP(R)){for(R=0,G=w.responseEnd,g+=1;g<m.length;g++){var J=m[g],ue=J.startTime;if(ue>G)break;var ye=J.transferSize,we=J.initiatorType;ye&&mP(we)&&(J=J.responseEnd,R+=ye*(J<G?1:(G-ue)/(J-ue)))}if(--g,c+=8*(T+R)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var f0=null,h0=null;function k_(o){return o.nodeType===9?o:o.ownerDocument}function pP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gP(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function m0(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var p0=null;function C8(){var o=window.event;return o&&o.type==="popstate"?o===p0?!1:(p0=o,!0):(p0=null,!1)}var _P=typeof setTimeout=="function"?setTimeout:void 0,N8=typeof clearTimeout=="function"?clearTimeout:void 0,yP=typeof Promise=="function"?Promise:void 0,P8=typeof queueMicrotask=="function"?queueMicrotask:typeof yP<"u"?function(o){return yP.resolve(null).then(o).catch(R8)}:_P;function R8(o){setTimeout(function(){throw o})}function pl(o){return o==="head"}function vP(o,c){var m=c,g=0;do{var w=m.nextSibling;if(o.removeChild(m),w&&w.nodeType===8)if(m=w.data,m==="/$"||m==="/&"){if(g===0){o.removeChild(w),yd(c);return}g--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")g++;else if(m==="html")qh(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,qh(m);for(var T=m.firstChild;T;){var R=T.nextSibling,G=T.nodeName;T[ta]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&T.rel.toLowerCase()==="stylesheet"||m.removeChild(T),T=R}}else m==="body"&&qh(o.ownerDocument.body);m=w}while(m);yd(c)}function bP(o,c){var m=o;o=0;do{var g=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),g&&g.nodeType===8)if(m=g.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=g}while(m)}function g0(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":g0(m),Du(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function M8(o,c,m,g){for(;o.nodeType===1;){var w=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[ta])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=fs(o.nextSibling),o===null)break}return null}function D8(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=fs(o.nextSibling),o===null))return null;return o}function xP(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=fs(o.nextSibling),o===null))return null;return o}function _0(o){return o.data==="$?"||o.data==="$~"}function y0(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function j8(o,c){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||m.readyState!=="loading")c();else{var g=function(){c(),m.removeEventListener("DOMContentLoaded",g)};m.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function fs(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var v0=null;function wP(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(c===0)return fs(o.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}o=o.nextSibling}return null}function SP(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return o;c--}else m!=="/$"&&m!=="/&"||c++}o=o.previousSibling}return null}function TP(o,c,m){switch(c=k_(m),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function qh(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Du(o)}var hs=new Map,EP=new Set;function I_(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ro=X.d;X.d={f:O8,r:L8,D:$8,C:V8,L:U8,m:z8,X:F8,S:B8,M:q8};function O8(){var o=ro.f(),c=v_();return o||c}function L8(o){var c=ns(o);c!==null&&c.tag===5&&c.type==="form"?BN(c):ro.r(o)}var pd=typeof document>"u"?null:document;function AP(o,c,m){var g=pd;if(g&&typeof c=="string"&&c){var w=ci(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof m=="string"&&(w+='[crossorigin="'+m+'"]'),EP.has(w)||(EP.add(w),o={rel:o,crossOrigin:m,href:c},g.querySelector(w)===null&&(c=g.createElement("link"),Rr(c,"link",o),Hn(c),g.head.appendChild(c)))}}function $8(o){ro.D(o),AP("dns-prefetch",o,null)}function V8(o,c){ro.C(o,c),AP("preconnect",o,c)}function U8(o,c,m){ro.L(o,c,m);var g=pd;if(g&&o&&c){var w='link[rel="preload"][as="'+ci(c)+'"]';c==="image"&&m&&m.imageSrcSet?(w+='[imagesrcset="'+ci(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(w+='[imagesizes="'+ci(m.imageSizes)+'"]')):w+='[href="'+ci(o)+'"]';var T=w;switch(c){case"style":T=gd(o);break;case"script":T=_d(o)}hs.has(T)||(o=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),hs.set(T,o),g.querySelector(w)!==null||c==="style"&&g.querySelector(Gh(T))||c==="script"&&g.querySelector(Hh(T))||(c=g.createElement("link"),Rr(c,"link",o),Hn(c),g.head.appendChild(c)))}}function z8(o,c){ro.m(o,c);var m=pd;if(m&&o){var g=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+ci(g)+'"][href="'+ci(o)+'"]',T=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=_d(o)}if(!hs.has(T)&&(o=p({rel:"modulepreload",href:o},c),hs.set(T,o),m.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Hh(T)))return}g=m.createElement("link"),Rr(g,"link",o),Hn(g),m.head.appendChild(g)}}}function B8(o,c,m){ro.S(o,c,m);var g=pd;if(g&&o){var w=ra(g).hoistableStyles,T=gd(o);c=c||"default";var R=w.get(T);if(!R){var G={loading:0,preload:null};if(R=g.querySelector(Gh(T)))G.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},m),(m=hs.get(T))&&b0(o,m);var J=R=g.createElement("link");Hn(J),Rr(J,"link",o),J._p=new Promise(function(ue,ye){J.onload=ue,J.onerror=ye}),J.addEventListener("load",function(){G.loading|=1}),J.addEventListener("error",function(){G.loading|=2}),G.loading|=4,C_(R,c,g)}R={type:"stylesheet",instance:R,count:1,state:G},w.set(T,R)}}}function F8(o,c){ro.X(o,c);var m=pd;if(m&&o){var g=ra(m).hoistableScripts,w=_d(o),T=g.get(w);T||(T=m.querySelector(Hh(w)),T||(o=p({src:o,async:!0},c),(c=hs.get(w))&&x0(o,c),T=m.createElement("script"),Hn(T),Rr(T,"link",o),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(w,T))}}function q8(o,c){ro.M(o,c);var m=pd;if(m&&o){var g=ra(m).hoistableScripts,w=_d(o),T=g.get(w);T||(T=m.querySelector(Hh(w)),T||(o=p({src:o,async:!0,type:"module"},c),(c=hs.get(w))&&x0(o,c),T=m.createElement("script"),Hn(T),Rr(T,"link",o),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(w,T))}}function kP(o,c,m,g){var w=(w=se.current)?I_(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=gd(m.href),m=ra(w).hoistableStyles,g=m.get(c),g||(g={type:"style",instance:null,count:0,state:null},m.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=gd(m.href);var T=ra(w).hoistableStyles,R=T.get(o);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,R),(T=w.querySelector(Gh(o)))&&!T._p&&(R.instance=T,R.state.loading=5),hs.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},hs.set(o,m),T||G8(w,o,m,R.state))),c&&g===null)throw Error(r(528,""));return R}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=_d(m),m=ra(w).hoistableScripts,g=m.get(c),g||(g={type:"script",instance:null,count:0,state:null},m.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function gd(o){return'href="'+ci(o)+'"'}function Gh(o){return'link[rel="stylesheet"]['+o+"]"}function IP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function G8(o,c,m,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Rr(c,"link",m),Hn(c),o.head.appendChild(c))}function _d(o){return'[src="'+ci(o)+'"]'}function Hh(o){return"script[async]"+o}function CP(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ci(m.href)+'"]');if(g)return c.instance=g,Hn(g),g;var w=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Hn(g),Rr(g,"style",w),C_(g,m.precedence,o),c.instance=g;case"stylesheet":w=gd(m.href);var T=o.querySelector(Gh(w));if(T)return c.state.loading|=4,c.instance=T,Hn(T),T;g=IP(m),(w=hs.get(w))&&b0(g,w),T=(o.ownerDocument||o).createElement("link"),Hn(T);var R=T;return R._p=new Promise(function(G,J){R.onload=G,R.onerror=J}),Rr(T,"link",g),c.state.loading|=4,C_(T,m.precedence,o),c.instance=T;case"script":return T=_d(m.src),(w=o.querySelector(Hh(T)))?(c.instance=w,Hn(w),w):(g=m,(w=hs.get(T))&&(g=p({},m),x0(g,w)),o=o.ownerDocument||o,w=o.createElement("script"),Hn(w),Rr(w,"link",g),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,C_(g,m.precedence,o));return c.instance}function C_(o,c,m){for(var g=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,T=w,R=0;R<g.length;R++){var G=g[R];if(G.dataset.precedence===c)T=G;else if(T!==w)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function b0(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function x0(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var N_=null;function NP(o,c,m){if(N_===null){var g=new Map,w=N_=new Map;w.set(m,g)}else w=N_,g=w.get(m),g||(g=new Map,w.set(m,g));if(g.has(o))return g;for(g.set(o,null),m=m.getElementsByTagName(o),w=0;w<m.length;w++){var T=m[w];if(!(T[ta]||T[dt]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var R=T.getAttribute(c)||"";R=o+R;var G=g.get(R);G?G.push(T):g.set(R,[T])}}return g}function PP(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function H8(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function RP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function K8(o,c,m,g){if(m.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var w=gd(g.href),T=c.querySelector(Gh(w));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=P_.bind(o),c.then(o,o)),m.state.loading|=4,m.instance=T,Hn(T);return}T=c.ownerDocument||c,g=IP(g),(w=hs.get(w))&&b0(g,w),T=T.createElement("link"),Hn(T);var R=T;R._p=new Promise(function(G,J){R.onload=G,R.onerror=J}),Rr(T,"link",g),m.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=P_.bind(o),c.addEventListener("load",m),c.addEventListener("error",m))}}var w0=0;function W8(o,c){return o.stylesheets&&o.count===0&&M_(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var g=setTimeout(function(){if(o.stylesheets&&M_(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&w0===0&&(w0=62500*I8());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&M_(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>w0?50:800)+c);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(w)}}:null}function P_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)M_(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var R_=null;function M_(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,R_=new Map,c.forEach(Y8,o),R_=null,P_.call(o))}function Y8(o,c){if(!(c.state.loading&4)){var m=R_.get(o);if(m)var g=m.get(null);else{m=new Map,R_.set(o,m);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var R=w[T];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(m.set(R.dataset.precedence,R),g=R)}g&&m.set(null,g)}w=c.instance,R=w.getAttribute("data-precedence"),T=m.get(R)||g,T===g&&m.set(null,w),m.set(R,w),this.count++,g=P_.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),T?T.parentNode.insertBefore(w,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Kh={$$typeof:M,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function J8(o,c,m,g,w,T,R,G,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function MP(o,c,m,g,w,T,R,G,J,ue,ye,we){return o=new J8(o,c,m,R,J,ue,ye,we,G),c=1,T===!0&&(c|=24),T=ji(3,null,null,c),o.current=T,T.stateNode=o,c=tw(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:g,isDehydrated:m,cache:c},sw(T),o}function DP(o){return o?(o=Wu,o):Wu}function jP(o,c,m,g,w,T){w=DP(w),g.context===null?g.context=w:g.pendingContext=w,g=il(c),g.payload={element:m},T=T===void 0?null:T,T!==null&&(g.callback=T),m=sl(o,g,c),m!==null&&(pi(m,o,c),Eh(m,o,c))}function OP(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function S0(o,c){OP(o,c),(o=o.alternate)&&OP(o,c)}function LP(o){if(o.tag===13||o.tag===31){var c=xc(o,67108864);c!==null&&pi(c,o,67108864),S0(o,67108864)}}function $P(o){if(o.tag===13||o.tag===31){var c=Ui();c=sr(c);var m=xc(o,c);m!==null&&pi(m,o,c),S0(o,c)}}var D_=!0;function X8(o,c,m,g){var w=Y.T;Y.T=null;var T=X.p;try{X.p=2,T0(o,c,m,g)}finally{X.p=T,Y.T=w}}function Q8(o,c,m,g){var w=Y.T;Y.T=null;var T=X.p;try{X.p=8,T0(o,c,m,g)}finally{X.p=T,Y.T=w}}function T0(o,c,m,g){if(D_){var w=E0(g);if(w===null)u0(o,c,g,j_,m),UP(o,g);else if(eH(w,o,c,m,g))g.stopPropagation();else if(UP(o,g),c&4&&-1<Z8.indexOf(o)){for(;w!==null;){var T=ns(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var R=ts(T.pendingLanes);if(R!==0){var G=T;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var J=1<<31-Tt(R);G.entanglements[1]|=J,R&=~J}ga(T),(Ut&6)===0&&(__=vn()+500,zh(0))}}break;case 31:case 13:G=xc(T,2),G!==null&&pi(G,T,2),v_(),S0(T,2)}if(T=E0(g),T===null&&u0(o,c,g,j_,m),T===w)break;w=T}w!==null&&g.stopPropagation()}else u0(o,c,g,null,m)}}function E0(o){return o=rs(o),A0(o)}var j_=null;function A0(o){if(j_=null,o=na(o),o!==null){var c=s(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=a(c),o!==null)return o;o=null}else if(m===31){if(o=l(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return j_=o,null}function VP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ea()){case ve:return 2;case Ne:return 8;case Qe:case gt:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var k0=!1,gl=null,_l=null,yl=null,Wh=new Map,Yh=new Map,vl=[],Z8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UP(o,c){switch(o){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Wh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yh.delete(c.pointerId)}}function Jh(o,c,m,g,w,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:m,eventSystemFlags:g,nativeEvent:T,targetContainers:[w]},c!==null&&(c=ns(c),c!==null&&LP(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function eH(o,c,m,g,w){switch(c){case"focusin":return gl=Jh(gl,o,c,m,g,w),!0;case"dragenter":return _l=Jh(_l,o,c,m,g,w),!0;case"mouseover":return yl=Jh(yl,o,c,m,g,w),!0;case"pointerover":var T=w.pointerId;return Wh.set(T,Jh(Wh.get(T)||null,o,c,m,g,w)),!0;case"gotpointercapture":return T=w.pointerId,Yh.set(T,Jh(Yh.get(T)||null,o,c,m,g,w)),!0}return!1}function zP(o){var c=na(o.target);if(c!==null){var m=s(c);if(m!==null){if(c=m.tag,c===13){if(c=a(m),c!==null){o.blockedOn=c,hn(o.priority,function(){$P(m)});return}}else if(c===31){if(c=l(m),c!==null){o.blockedOn=c,hn(o.priority,function(){$P(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function O_(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=E0(o.nativeEvent);if(m===null){m=o.nativeEvent;var g=new m.constructor(m.type,m);ch=g,m.target.dispatchEvent(g),ch=null}else return c=ns(m),c!==null&&LP(c),o.blockedOn=m,!1;c.shift()}return!0}function BP(o,c,m){O_(o)&&m.delete(c)}function tH(){k0=!1,gl!==null&&O_(gl)&&(gl=null),_l!==null&&O_(_l)&&(_l=null),yl!==null&&O_(yl)&&(yl=null),Wh.forEach(BP),Yh.forEach(BP)}function L_(o,c){o.blockedOn===c&&(o.blockedOn=null,k0||(k0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tH)))}var $_=null;function FP(o){$_!==o&&($_=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$_===o&&($_=null);for(var c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=o[c+2];if(typeof g!="function"){if(A0(g||m)===null)continue;break}var T=ns(m);T!==null&&(o.splice(c,3),c-=3,Ew(T,{pending:!0,data:w,method:m.method,action:g},g,w))}}))}function yd(o){function c(J){return L_(J,o)}gl!==null&&L_(gl,o),_l!==null&&L_(_l,o),yl!==null&&L_(yl,o),Wh.forEach(c),Yh.forEach(c);for(var m=0;m<vl.length;m++){var g=vl[m];g.blockedOn===o&&(g.blockedOn=null)}for(;0<vl.length&&(m=vl[0],m.blockedOn===null);)zP(m),m.blockedOn===null&&vl.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(g=0;g<m.length;g+=3){var w=m[g],T=m[g+1],R=w[_t]||null;if(typeof T=="function")R||FP(m);else if(R){var G=null;if(T&&T.hasAttribute("formAction")){if(w=T,R=T[_t]||null)G=R.formAction;else if(A0(w)!==null)continue}else G=R.action;typeof G=="function"?m[g+1]=G:(m.splice(g,3),g-=3),FP(m)}}}function qP(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(R){return w=R})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),g||setTimeout(m,20)}function m(){if(!g&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function I0(o){this._internalRoot=o}V_.prototype.render=I0.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,g=Ui();jP(m,g,o,c,null,null)},V_.prototype.unmount=I0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;jP(o.current,2,null,o,null,null),v_(),c[Xr]=null}};function V_(o){this._internalRoot=o}V_.prototype.unstable_scheduleHydration=function(o){if(o){var c=$r();o={blockedOn:null,target:o,priority:c};for(var m=0;m<vl.length&&c!==0&&c<vl[m].priority;m++);vl.splice(m,0,o),m===0&&zP(o)}};var GP=e.version;if(GP!=="19.2.0")throw Error(r(527,GP,"19.2.0"));X.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var nH={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U_.isDisabled&&U_.supportsFiber)try{Nn=U_.inject(nH),bn=U_}catch{}}return Qh.createRoot=function(o,c){if(!i(o))throw Error(r(299));var m=!1,g="",w=QN,T=ZN,R=e2;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=MP(o,1,!1,null,null,m,g,null,w,T,R,qP),o[Xr]=c.current,c0(o),new I0(c)},Qh.hydrateRoot=function(o,c,m){if(!i(o))throw Error(r(299));var g=!1,w="",T=QN,R=ZN,G=e2,J=null;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(w=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(R=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(J=m.formState)),c=MP(o,1,!0,c,m??null,g,w,J,T,R,G,qP),c.context=DP(null),m=c.current,g=Ui(),g=sr(g),w=il(g),w.callback=null,sl(m,w,g),m=g,c.current.lanes=m,Rt(c,m),ga(c),o[Xr]=c.current,c0(o),new V_(c)},Qh.version="19.2.0",Qh}var tR;function pH(){if(tR)return R0.exports;tR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=mH(),R0.exports}var gH=pH();const _H=Is(gH);var Pe=(t=>(t.Dashboard="Dashboard",t.PitchGenerator="Pitch Generator",t.Pitches="Opgeslagen Pitches",t.PitchPractice="Pitch Oefenen",t.Clients="Klanten",t.CompetitorAnalysis="Concurrentieanalyse",t.CompetitorNotes="Concurrentie Notities",t.Goals="Doelen",t.Settings="Instellingen",t.MijnPriveTeam="Mijn Priv Team",t.Organization="Mijn Organisatie",t.MijnFiliaalTeam="Mijn Filiaal Team",t.Profile="Profiel",t.TeamKnowledgeBase="Team Kennisbank",t.OrganizationNews="Organisatie News",t.Planning="Planning",t.PackageManagement="Pakketbeheer",t.Billing="Facturatie",t.SalesAnalytics="Verkoopanalyse",t))(Pe||{});const yH=()=>{};var nR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},DV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|l>>4;let _=(l&15)<<2|d>>6,v=d&63;u||(v=64,a||(_=64)),r.push(n[h],n[p],n[_],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||p==null)throw new bH;const _=s<<2|l>>4;if(r.push(_),d!==64){const v=l<<4&240|d>>2;if(r.push(v),p!==64){const S=d<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xH=function(t){const e=MV(t);return DV.encodeByteArray(e,!0)},By=function(t){return xH(t).replace(/\./g,"")},jV=function(t){try{return DV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=()=>OV().__FIREBASE_DEFAULTS__,SH=()=>{if(typeof process>"u"||typeof nR>"u")return;const t=nR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jV(t[1]);return e&&JSON.parse(e)},fb=()=>{try{return yH()||wH()||SH()||TH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LV=t=>{var e,n;return(n=(e=fb())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$V=t=>{const e=LV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VV=()=>{var t;return(t=fb())==null?void 0:t.config},UV=t=>{var e;return(e=fb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[By(JSON.stringify(n)),By(JSON.stringify(a)),""].join(".")}const Cm={};function kH(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cm))Cm[e]?t.emulator.push(e):t.prod.push(e);return t}function IH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rR=!1;function X1(t,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||Cm[t]===e||Cm[t]||rR)return;Cm[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=kH().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function u(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{rR=!0,a()},_}function h(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function p(){const _=IH(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),I=n("preprendIcon"),j=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;l(M),h(A,E);const B=d();u(j,I),M.append(j,S,A,B),document.body.appendChild(M)}s?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function zV(){var e;const t=(e=fb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MH(){const t=ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BV(){return!zV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FV(){return!zV()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qV(){try{return typeof indexedDB=="object"}catch{return!1}}function DH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jH,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kp.prototype.create)}}class kp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?OH(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Js(i,l,r)}}function OH(t,e){return t.replace(LH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LH=/\{\$([^}]+)}/g;function $H(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(iR(s)&&iR(a)){if(!Hl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VH(t,e){const n=new UH(t,e);return n.subscribe.bind(n)}class UH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=O0),i.error===void 0&&(i.error=O0),i.complete===void 0&&(i.complete=O0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function O0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BH=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qH(e))try{this.getOrInitializeService({instanceIdentifier:Lc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lc){return this.instances.has(e)}getOptions(e=Lc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lc){return this.component?this.component.multipleInstances?e:Lc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FH(t){return t===Lc?void 0:t}function qH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const HH={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},KH=It.INFO,WH={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},YH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q1{constructor(e){this.name=e,this._logLevel=KH,this._logHandler=YH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const JH=(t,e)=>e.some(n=>t instanceof n);let sR,aR;function XH(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QH(){return aR||(aR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GV=new WeakMap,QT=new WeakMap,HV=new WeakMap,L0=new WeakMap,Z1=new WeakMap;function ZH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Vl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&GV.set(n,t)}).catch(()=>{}),Z1.set(e,t),e}function e7(t){if(QT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});QT.set(t,e)}let ZT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return QT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t7(t){ZT=t(ZT)}function n7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($0(this),e,...n);return HV.set(r,e.sort?e.sort():[e]),Vl(r)}:QH().includes(t)?function(...e){return t.apply($0(this),e),Vl(GV.get(this))}:function(...e){return Vl(t.apply($0(this),e))}}function r7(t){return typeof t=="function"?n7(t):(t instanceof IDBTransaction&&e7(t),JH(t,XH())?new Proxy(t,ZT):t)}function Vl(t){if(t instanceof IDBRequest)return ZH(t);if(L0.has(t))return L0.get(t);const e=r7(t);return e!==t&&(L0.set(t,e),Z1.set(e,t)),e}const $0=t=>Z1.get(t);function i7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Vl(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Vl(a.result),u.oldVersion,u.newVersion,Vl(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const s7=["get","getKey","getAll","getAllKeys","count"],a7=["put","add","delete","clear"],V0=new Map;function oR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(V0.get(e))return V0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=a7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s7.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return V0.set(e,s),s}t7(t=>({...t,get:(e,n,r)=>oR(e,n)||t.get(e,n,r),has:(e,n)=>!!oR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eE="@firebase/app",lR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Q1("@firebase/app"),c7="@firebase/app-compat",u7="@firebase/analytics-compat",d7="@firebase/analytics",f7="@firebase/app-check-compat",h7="@firebase/app-check",m7="@firebase/auth",p7="@firebase/auth-compat",g7="@firebase/database",_7="@firebase/data-connect",y7="@firebase/database-compat",v7="@firebase/functions",b7="@firebase/functions-compat",x7="@firebase/installations",w7="@firebase/installations-compat",S7="@firebase/messaging",T7="@firebase/messaging-compat",E7="@firebase/performance",A7="@firebase/performance-compat",k7="@firebase/remote-config",I7="@firebase/remote-config-compat",C7="@firebase/storage",N7="@firebase/storage-compat",P7="@firebase/firestore",R7="@firebase/ai",M7="@firebase/firestore-compat",D7="firebase",j7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="[DEFAULT]",O7={[eE]:"fire-core",[c7]:"fire-core-compat",[d7]:"fire-analytics",[u7]:"fire-analytics-compat",[h7]:"fire-app-check",[f7]:"fire-app-check-compat",[m7]:"fire-auth",[p7]:"fire-auth-compat",[g7]:"fire-rtdb",[_7]:"fire-data-connect",[y7]:"fire-rtdb-compat",[v7]:"fire-fn",[b7]:"fire-fn-compat",[x7]:"fire-iid",[w7]:"fire-iid-compat",[S7]:"fire-fcm",[T7]:"fire-fcm-compat",[E7]:"fire-perf",[A7]:"fire-perf-compat",[k7]:"fire-rc",[I7]:"fire-rc-compat",[C7]:"fire-gcs",[N7]:"fire-gcs-compat",[P7]:"fire-fst",[M7]:"fire-fst-compat",[R7]:"fire-vertex","fire-js":"fire-js",[D7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Map,L7=new Map,nE=new Map;function cR(t,e){try{t.container.addComponent(e)}catch(n){_o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kl(t){const e=t.name;if(nE.has(e))return _o.debug(`There were multiple attempts to register component ${e}.`),!1;nE.set(e,t);for(const n of Km.values())cR(n,t);for(const n of L7.values())cR(n,t);return!0}function Cp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ul=new kp("app","Firebase",$7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=j7;function eA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ul.create("bad-app-name",{appName:String(i)});if(n||(n=VV()),!n)throw Ul.create("no-options");const s=Km.get(i);if(s){if(Hl(n,s.options)&&Hl(r,s.config))return s;throw Ul.create("duplicate-app",{appName:i})}const a=new GH(i);for(const u of nE.values())a.addComponent(u);const l=new V7(n,r,a);return Km.set(i,l),l}function mb(t=tE){const e=Km.get(t);if(!e&&t===tE&&VV())return eA();if(!e)throw Ul.create("no-app",{appName:t});return e}function U7(){return Array.from(Km.values())}function ws(t,e,n){let r=O7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_o.warn(a.join(" "));return}Kl(new go(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="firebase-heartbeat-database",B7=1,Wm="firebase-heartbeat-store";let U0=null;function KV(){return U0||(U0=i7(z7,B7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ul.create("idb-open",{originalErrorMessage:t.message})})),U0}async function F7(t){try{const n=(await KV()).transaction(Wm),r=await n.objectStore(Wm).get(WV(t));return await n.done,r}catch(e){if(e instanceof Js)_o.warn(e.message);else{const n=Ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_o.warn(n.message)}}}async function uR(t,e){try{const r=(await KV()).transaction(Wm,"readwrite");await r.objectStore(Wm).put(e,WV(t)),await r.done}catch(n){if(n instanceof Js)_o.warn(n.message);else{const r=Ul.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_o.warn(r.message)}}}function WV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=1024,G7=30;class H7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>G7){const a=Y7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_o.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dR(),{heartbeatsToSend:r,unsentEntries:i}=K7(this._heartbeatsCache.heartbeats),s=By(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _o.warn(n),""}}}function dR(){return new Date().toISOString().substring(0,10)}function K7(t,e=q7){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),fR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qV()?DH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fR(t){return By(JSON.stringify({version:2,heartbeats:t})).length}function Y7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t){Kl(new go("platform-logger",e=>new o7(e),"PRIVATE")),Kl(new go("heartbeat",e=>new H7(e),"PRIVATE")),ws(eE,lR,t),ws(eE,lR,"esm2020"),ws("fire-js","")}J7("");var X7="firebase",Q7="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(X7,Q7,"app");function YV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z7=YV,JV=new kp("auth","Firebase",YV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Q1("@firebase/auth");function eK(t,...e){Fy.logLevel<=It.WARN&&Fy.warn(`Auth (${Tu}): ${t}`,...e)}function yy(t,...e){Fy.logLevel<=It.ERROR&&Fy.error(`Auth (${Tu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw tA(t,...e)}function Aa(t,...e){return tA(t,...e)}function XV(t,e,n){const r={...Z7(),[e]:n};return new kp("auth","Firebase",r).create(e,{appName:t.name})}function ho(t){return XV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JV.create(t,...e)}function tt(t,e,...n){if(!t)throw tA(e,...n)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yy(e),new Error(e)}function yo(t,e){t||oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function tK(){return hR()==="http:"||hR()==="https:"}function hR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tK()||PH()||"connection"in navigator)?navigator.onLine:!0}function rK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=CH()||RH()}get(){return nK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aK=new Np(3e4,6e4);function ec(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Po(t,e,n,r,i={}){return ZV(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Ip({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...s};return NH()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&$a(t.emulatorConfig.host)&&(d.credentials="include"),QV.fetch()(await eU(t,t.config.apiHost,n,l),d)})}async function ZV(t,e,n){t._canInitEmulator=!1;const r={...iK,...e};try{const i=new lK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw z_(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw z_(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw z_(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw z_(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw XV(t,h,d);Ks(t,h)}}catch(i){if(i instanceof Js)throw i;Ks(t,"network-request-failed",{message:String(i)})}}async function Pp(t,e,n,r,i={}){const s=await Po(t,e,n,r,i);return"mfaPendingCredential"in s&&Ks(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function eU(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?nA(t.config,i):`${t.config.apiScheme}://${i}`;return sK.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function oK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Aa(this.auth,"network-request-failed")),aK.get())})}}function z_(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Aa(t,e,r);return i.customData._tokenResponse=n,i}function mR(t){return t!==void 0&&t.enterprise!==void 0}class cK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uK(t,e){return Po(t,"GET","/v2/recaptchaConfig",ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dK(t,e){return Po(t,"POST","/v1/accounts:delete",e)}async function qy(t,e){return Po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fK(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=rA(r);tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nm(z0(i.auth_time)),issuedAtTime:Nm(z0(i.iat)),expirationTime:Nm(z0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function z0(t){return Number(t)*1e3}function rA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yy("JWT malformed, contained fewer than 3 sections"),null;try{const i=jV(n);return i?JSON.parse(i):(yy("Failed to decode base64 JWT payload"),null)}catch(i){return yy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pR(t){const e=rA(t);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&hK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nm(this.lastLoginAt),this.creationTime=Nm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gy(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Zd(t,qy(e,{idToken:n}));tt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?tU(i.providerUserInfo):[],a=gK(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new iE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function pK(t){const e=Jt(t);await Gy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(t,e){const n=await ZV(t,{},async()=>{const r=Ip({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await eU(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&$a(t.emulatorConfig.host)&&(u.credentials="include"),QV.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yK(t,e){return Po(t,"POST","/v2/accounts:revokeToken",ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const n=pR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _K(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new zd;return r&&(tt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(tt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(tt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zd,this.toJSON())}_performRefresh(){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t,e){tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Zd(this,this.stsTokenManager.getToken(this.auth,e));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fK(this,e)}reload(){return pK(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await Zd(this,dK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:_,isAnonymous:v,providerData:S,stsTokenManager:E}=n;tt(p&&E,e,"internal-error");const A=zd.fromJSON(this.name,E);tt(typeof p=="string",e,"internal-error"),xl(r,e.name),xl(i,e.name),tt(typeof _=="boolean",e,"internal-error"),tt(typeof v=="boolean",e,"internal-error"),xl(s,e.name),xl(a,e.name),xl(l,e.name),xl(u,e.name),xl(d,e.name),xl(h,e.name);const I=new Gs({uid:p,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:A,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(I.providerData=S.map(j=>({...j}))),u&&(I._redirectEventId=u),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new zd;i.updateFromServerResponse(n);const s=new Gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tU(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new zd;l.updateFromIdToken(r);const u=new Gs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new iE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Map;function lo(t){yo(t instanceof Function,"Expected a class definition");let e=gR.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nU.type="NONE";const _R=nU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e,n){return`firebase:${t}:${e}:${n}`}class Bd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vy(this.userKey,i.apiKey,s),this.fullPersistenceKey=vy("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qy(this.auth,{idToken:e}).catch(()=>{});return n?Gs._fromGetAccountInfoResponse(this.auth,n,e):null}return Gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bd(lo(_R),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||lo(_R);const a=vy(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let p;if(typeof h=="string"){const _=await qy(e,{idToken:h}).catch(()=>{});if(!_)break;p=await Gs._fromGetAccountInfoResponse(e,_,h)}else p=Gs._fromJSON(e,h);d!==s&&(l=p),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bd(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Bd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lU(e))return"Blackberry";if(cU(e))return"Webos";if(iU(e))return"Safari";if((e.includes("chrome/")||sU(e))&&!e.includes("edge/"))return"Chrome";if(oU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rU(t=ur()){return/firefox\//i.test(t)}function iU(t=ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sU(t=ur()){return/crios\//i.test(t)}function aU(t=ur()){return/iemobile/i.test(t)}function oU(t=ur()){return/android/i.test(t)}function lU(t=ur()){return/blackberry/i.test(t)}function cU(t=ur()){return/webos/i.test(t)}function iA(t=ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vK(t=ur()){var e;return iA(t)&&!!((e=window.navigator)!=null&&e.standalone)}function bK(){return MH()&&document.documentMode===10}function uU(t=ur()){return iA(t)||oU(t)||cU(t)||lU(t)||/windows phone/i.test(t)||aU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e=[]){let n;switch(t){case"Browser":n=yR(ur());break;case"Worker":n=`${yR(ur())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wK(t,e={}){return Po(t,"GET","/v2/passwordPolicy",ec(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=6;class TK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vR(this),this.idTokenSubscription=new vR(this),this.beforeStateQueue=new xK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Bd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qy(this,{idToken:e}),r=await Gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(bi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(ho(this));const n=e?Jt(e):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wK(this),n=new TK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lo(e)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await Bd.create(this,[lo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Eu(t){return Jt(t)}class vR{constructor(e){this.auth=e,this.observer=null,this.addObserver=VH(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AK(t){pb=t}function fU(t){return pb.loadJS(t)}function kK(){return pb.recaptchaEnterpriseScript}function IK(){return pb.gapiScript}function CK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class NK{constructor(){this.enterprise=new PK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RK="recaptcha-enterprise",hU="NO_RECAPTCHA";class MK{constructor(e){this.type=RK,this.auth=Eu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{uK(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new cK(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;mR(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(hU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NK().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&mR(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=kK();u.length!==0&&(u+=l),fU(u).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function bR(t,e,n,r=!1,i=!1){const s=new MK(t);let a;if(i)a=hU;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function sE(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bR(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await bR(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t,e){const n=Cp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hl(s,e??{}))return i;Ks(i,"already-initialized")}return n.initialize({options:e})}function jK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OK(t,e,n){const r=Eu(t);tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mU(e),{host:a,port:l}=LK(e),u=l===null?"":`:${l}`,d={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),tt(Hl(d,r.config.emulator)&&Hl(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,$a(a)?(hb(`${s}//${a}${u}`),X1("Auth",!0)):$K()}function mU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LK(t){const e=mU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xR(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:xR(a)}}}function xR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $K(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,n){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}async function VK(t,e){return Po(t,"POST","/v1/accounts:update",e)}async function UK(t,e){return Po(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zK(t,e){return Pp(t,"POST","/v1/accounts:signInWithPassword",ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BK(t,e){return Pp(t,"POST","/v1/accounts:signInWithEmailLink",ec(t,e))}async function FK(t,e){return Pp(t,"POST","/v1/accounts:signInWithEmailLink",ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends sA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ym(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ym(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sE(e,n,"signInWithPassword",zK);case"emailLink":return BK(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sE(e,r,"signUpPassword",UK);case"emailLink":return FK(e,{idToken:n,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t,e){return Pp(t,"POST","/v1/accounts:signInWithIdp",ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK="http://localhost";class lu extends sA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new lu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Fd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fd(e,n)}buildRequest(){const e={requestUri:qK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ip(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HK(t){const e=bm(xm(t)).link,n=e?bm(xm(e)).deep_link_id:null,r=bm(xm(t)).deep_link_id;return(r?bm(xm(r)).link:null)||r||n||e||t}class aA{constructor(e){const n=bm(xm(e)),r=n.apiKey??null,i=n.oobCode??null,s=GK(n.mode??null);tt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HK(e);try{return new aA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.providerId=Nf.PROVIDER_ID}static credential(e,n){return Ym._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=aA.parseLink(n);return tt(r,"argument-error"),Ym._fromEmailAndCode(e,r.code,r.tenantId)}}Nf.PROVIDER_ID="password";Nf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends pU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Rp{constructor(){super("facebook.com")}static credential(e){return lu._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cl.credential(e.oauthAccessToken)}catch{return null}}}Cl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Rp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lu._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nl.credentialFromTaggedObject(e)}static credentialFromError(e){return Nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nl.credential(n,r)}catch{return null}}}Nl.GOOGLE_SIGN_IN_METHOD="google.com";Nl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Rp{constructor(){super("github.com")}static credential(e){return lu._fromParams({providerId:Pl.PROVIDER_ID,signInMethod:Pl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pl.credentialFromTaggedObject(e)}static credentialFromError(e){return Pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pl.credential(e.oauthAccessToken)}catch{return null}}}Pl.GITHUB_SIGN_IN_METHOD="github.com";Pl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Rp{constructor(){super("twitter.com")}static credential(e,n){return lu._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rl.credential(n,r)}catch{return null}}}Rl.TWITTER_SIGN_IN_METHOD="twitter.com";Rl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(t,e){return Pp(t,"POST","/v1/accounts:signUp",ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gs._fromIdTokenResponse(e,r,i),a=wR(r);return new cu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wR(r);return new cu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends Js{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hy(e,n,r,i)}}function gU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hy._fromErrorAndOperation(t,s,e,r):s})}async function WK(t,e,n=!1){const r=await Zd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YK(t,e,n=!1){const{auth:r}=t;if(bi(r.app))return Promise.reject(ho(r));const i="reauthenticate";try{const s=await Zd(t,gU(r,i,e,t),n);tt(s.idToken,r,"internal-error");const a=rA(s.idToken);tt(a,r,"internal-error");const{sub:l}=a;return tt(t.uid===l,r,"user-mismatch"),cu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ks(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e,n=!1){if(bi(t.app))return Promise.reject(ho(t));const r="signIn",i=await gU(t,r,e),s=await cu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function JK(t,e){return _U(Eu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t){const e=Eu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B0(t,e,n){if(bi(t.app))return Promise.reject(ho(t));const r=Eu(t),a=await sE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KK).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&yU(t),u}),l=await cu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function XK(t,e,n){return bi(t.app)?Promise.reject(ho(t)):JK(Jt(t),Nf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yU(t),r})}function QK(t,e){return ZK(Jt(t),null,e)}async function ZK(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await Zd(t,VK(r,s));await t._updateTokensIfNecessary(a,!0)}function eW(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function tW(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function nW(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function Dc(t){return Jt(t).signOut()}const Ky="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ky,"1"),this.storage.removeItem(Ky),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=1e3,iW=10;class bU extends vU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);bK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iW):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bU.type="LOCAL";const sW=bU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU extends vU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xU.type="SESSION";const wU=xU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),u=await aW(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const d=oA("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const _=p;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(_.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return window}function lW(t){ka().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return typeof ka().WorkerGlobalScope<"u"&&typeof ka().importScripts=="function"}async function cW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function dW(){return SU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="firebaseLocalStorageDb",fW=1,Wy="firebaseLocalStorage",EU="fbase_key";class Mp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _b(t,e){return t.transaction([Wy],e?"readwrite":"readonly").objectStore(Wy)}function hW(){const t=indexedDB.deleteDatabase(TU);return new Mp(t).toPromise()}function aE(){const t=indexedDB.open(TU,fW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wy,{keyPath:EU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wy)?e(r):(r.close(),await hW(),e(await aE()))})})}async function SR(t,e,n){const r=_b(t,!0).put({[EU]:e,value:n});return new Mp(r).toPromise()}async function mW(t,e){const n=_b(t,!1).get(e),r=await new Mp(n).toPromise();return r===void 0?null:r.value}function TR(t,e){const n=_b(t,!0).delete(e);return new Mp(n).toPromise()}const pW=800,gW=3;class AU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gb._getInstance(dW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await cW(),!this.activeServiceWorker)return;this.sender=new oW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aE();return await SR(e,Ky,"1"),await TR(e,Ky),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_b(i,!1).getAll();return new Mp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AU.type="LOCAL";const _W=AU;new Np(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t,e){return e?lo(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends sA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vW(t){return _U(t.auth,new lA(t),t.bypassAuthState)}function bW(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),YK(n,new lA(t),t.bypassAuthState)}async function xW(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),WK(n,new lA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vW;case"linkViaPopup":case"linkViaRedirect":return xW;case"reauthViaPopup":case"reauthViaRedirect":return bW;default:Ks(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=new Np(2e3,1e4);class Ld extends kU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ld.currentPopupAction&&Ld.currentPopupAction.cancel(),Ld.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=oA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Aa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Aa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ld.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Aa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wW.get())};e()}}Ld.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="pendingRedirect",by=new Map;class TW extends kU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=by.get(this.auth._key());if(!e){try{const r=await EW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}by.set(this.auth._key(),e)}return this.bypassAuthState||by.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EW(t,e){const n=IW(e),r=kW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AW(t,e){by.set(t._key(),e)}function kW(t){return lo(t._redirectPersistence)}function IW(t){return vy(SW,t.config.apiKey,t.name)}async function CW(t,e,n=!1){if(bi(t.app))return Promise.reject(ho(t));const r=Eu(t),i=yW(r,e),a=await new TW(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=600*1e3;class PW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IU(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Aa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NW&&this.cachedEventUids.clear(),this.cachedEventUids.has(ER(e))}saveEventToCache(e){this.cachedEventUids.add(ER(e)),this.lastProcessedEventTime=Date.now()}}function ER(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IU({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IU(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t,e={}){return Po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jW=/^https?/;async function OW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MW(t);for(const n of e)try{if(LW(n))return}catch{}Ks(t,"unauthorized-domain")}function LW(t){const e=rE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!jW.test(n))return!1;if(DW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=new Np(3e4,6e4);function AR(){const t=ka().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VW(t){return new Promise((e,n)=>{var i,s,a;function r(){AR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AR(),n(Aa(t,"network-request-failed"))},timeout:$W.get()})}if((s=(i=ka().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=ka().gapi)!=null&&a.load)r();else{const l=CK("iframefcb");return ka()[l]=()=>{gapi.load?r():n(Aa(t,"network-request-failed"))},fU(`${IK()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw xy=null,e})}let xy=null;function UW(t){return xy=xy||VW(t),xy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new Np(5e3,15e3),BW="__/auth/iframe",FW="emulator/auth/iframe",qW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HW(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nA(e,FW):`https://${t.config.authDomain}/${BW}`,r={apiKey:e.apiKey,appName:t.name,v:Tu},i=GW.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ip(r).slice(1)}`}async function KW(t){const e=await UW(t),n=ka().gapi;return tt(n,t,"internal-error"),e.open({where:document.body,url:HW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Aa(t,"network-request-failed"),l=ka().setTimeout(()=>{s(a)},zW.get());function u(){ka().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YW=500,JW=600,XW="_blank",QW="http://localhost";class kR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZW(t,e,n,r=YW,i=JW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...WW,width:r.toString(),height:i.toString(),top:s,left:a},d=ur().toLowerCase();n&&(l=sU(d)?XW:n),rU(d)&&(e=e||QW,u.scrollbars="yes");const h=Object.entries(u).reduce((_,[v,S])=>`${_}${v}=${S},`,"");if(vK(d)&&l!=="_self")return eY(e||"",l),new kR(null);const p=window.open(e||"",l,h);tt(p,t,"popup-blocked");try{p.focus()}catch{}return new kR(p)}function eY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY="__/auth/handler",nY="emulator/auth/handler",rY=encodeURIComponent("fac");async function IR(t,e,n,r,i,s){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tu,eventId:i};if(e instanceof pU){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$H(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof Rp){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),d=u?`#${rY}=${encodeURIComponent(u)}`:"";return`${iY(t)}?${Ip(l).slice(1)}${d}`}function iY({config:t}){return t.emulator?nA(t,nY):`https://${t.authDomain}/${tY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="webStorageSupport";class sY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wU,this._completeRedirectFn=CW,this._overrideRedirectResult=AW}async _openPopup(e,n,r,i){var a;yo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await IR(e,n,r,rE(),i);return ZW(e,s,oA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await IR(e,n,r,rE(),i);return lW(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KW(e),r=new PW(e);return n.register("authEvent",i=>(tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(F0,{type:F0},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[F0];s!==void 0&&n(!!s),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uU()||iU()||iA()}}const aY=sY;var CR="@firebase/auth",NR="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cY(t){Kl(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;tt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dU(t)},d=new EK(r,i,s,u);return jK(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kl(new go("auth-internal",e=>{const n=Eu(e.getProvider("auth").getImmediate());return(r=>new oY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(CR,NR,lY(t)),ws(CR,NR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=300,dY=UV("authIdTokenMaxAge")||uY;let PR=null;const fY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dY)return;const i=n==null?void 0:n.token;PR!==i&&(PR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CU(t=mb()){const e=Cp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DK(t,{popupRedirectResolver:aY,persistence:[_W,sW,wU]}),r=UV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=fY(s.toString());tW(n,a,()=>a(n.currentUser)),eW(n,l=>a(l))}}const i=LV("auth");return i&&OK(n,`http://${i}`),n}function hY(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}AK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Aa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cY("Browser");var RR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zl,NU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function D(){}D.prototype=O.prototype,P.F=O.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(z,$,U){for(var q=Array(arguments.length-2),te=2;te<arguments.length;te++)q[te-2]=arguments[te];return O.prototype[$].apply(z,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,D){D||(D=0);const z=Array(16);if(typeof O=="string")for(var $=0;$<16;++$)z[$]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for($=0;$<16;++$)z[$]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=P.g[0],D=P.g[1],$=P.g[2];let U=P.g[3],q;q=O+(U^D&($^U))+z[0]+3614090360&4294967295,O=D+(q<<7&4294967295|q>>>25),q=U+($^O&(D^$))+z[1]+3905402710&4294967295,U=O+(q<<12&4294967295|q>>>20),q=$+(D^U&(O^D))+z[2]+606105819&4294967295,$=U+(q<<17&4294967295|q>>>15),q=D+(O^$&(U^O))+z[3]+3250441966&4294967295,D=$+(q<<22&4294967295|q>>>10),q=O+(U^D&($^U))+z[4]+4118548399&4294967295,O=D+(q<<7&4294967295|q>>>25),q=U+($^O&(D^$))+z[5]+1200080426&4294967295,U=O+(q<<12&4294967295|q>>>20),q=$+(D^U&(O^D))+z[6]+2821735955&4294967295,$=U+(q<<17&4294967295|q>>>15),q=D+(O^$&(U^O))+z[7]+4249261313&4294967295,D=$+(q<<22&4294967295|q>>>10),q=O+(U^D&($^U))+z[8]+1770035416&4294967295,O=D+(q<<7&4294967295|q>>>25),q=U+($^O&(D^$))+z[9]+2336552879&4294967295,U=O+(q<<12&4294967295|q>>>20),q=$+(D^U&(O^D))+z[10]+4294925233&4294967295,$=U+(q<<17&4294967295|q>>>15),q=D+(O^$&(U^O))+z[11]+2304563134&4294967295,D=$+(q<<22&4294967295|q>>>10),q=O+(U^D&($^U))+z[12]+1804603682&4294967295,O=D+(q<<7&4294967295|q>>>25),q=U+($^O&(D^$))+z[13]+4254626195&4294967295,U=O+(q<<12&4294967295|q>>>20),q=$+(D^U&(O^D))+z[14]+2792965006&4294967295,$=U+(q<<17&4294967295|q>>>15),q=D+(O^$&(U^O))+z[15]+1236535329&4294967295,D=$+(q<<22&4294967295|q>>>10),q=O+($^U&(D^$))+z[1]+4129170786&4294967295,O=D+(q<<5&4294967295|q>>>27),q=U+(D^$&(O^D))+z[6]+3225465664&4294967295,U=O+(q<<9&4294967295|q>>>23),q=$+(O^D&(U^O))+z[11]+643717713&4294967295,$=U+(q<<14&4294967295|q>>>18),q=D+(U^O&($^U))+z[0]+3921069994&4294967295,D=$+(q<<20&4294967295|q>>>12),q=O+($^U&(D^$))+z[5]+3593408605&4294967295,O=D+(q<<5&4294967295|q>>>27),q=U+(D^$&(O^D))+z[10]+38016083&4294967295,U=O+(q<<9&4294967295|q>>>23),q=$+(O^D&(U^O))+z[15]+3634488961&4294967295,$=U+(q<<14&4294967295|q>>>18),q=D+(U^O&($^U))+z[4]+3889429448&4294967295,D=$+(q<<20&4294967295|q>>>12),q=O+($^U&(D^$))+z[9]+568446438&4294967295,O=D+(q<<5&4294967295|q>>>27),q=U+(D^$&(O^D))+z[14]+3275163606&4294967295,U=O+(q<<9&4294967295|q>>>23),q=$+(O^D&(U^O))+z[3]+4107603335&4294967295,$=U+(q<<14&4294967295|q>>>18),q=D+(U^O&($^U))+z[8]+1163531501&4294967295,D=$+(q<<20&4294967295|q>>>12),q=O+($^U&(D^$))+z[13]+2850285829&4294967295,O=D+(q<<5&4294967295|q>>>27),q=U+(D^$&(O^D))+z[2]+4243563512&4294967295,U=O+(q<<9&4294967295|q>>>23),q=$+(O^D&(U^O))+z[7]+1735328473&4294967295,$=U+(q<<14&4294967295|q>>>18),q=D+(U^O&($^U))+z[12]+2368359562&4294967295,D=$+(q<<20&4294967295|q>>>12),q=O+(D^$^U)+z[5]+4294588738&4294967295,O=D+(q<<4&4294967295|q>>>28),q=U+(O^D^$)+z[8]+2272392833&4294967295,U=O+(q<<11&4294967295|q>>>21),q=$+(U^O^D)+z[11]+1839030562&4294967295,$=U+(q<<16&4294967295|q>>>16),q=D+($^U^O)+z[14]+4259657740&4294967295,D=$+(q<<23&4294967295|q>>>9),q=O+(D^$^U)+z[1]+2763975236&4294967295,O=D+(q<<4&4294967295|q>>>28),q=U+(O^D^$)+z[4]+1272893353&4294967295,U=O+(q<<11&4294967295|q>>>21),q=$+(U^O^D)+z[7]+4139469664&4294967295,$=U+(q<<16&4294967295|q>>>16),q=D+($^U^O)+z[10]+3200236656&4294967295,D=$+(q<<23&4294967295|q>>>9),q=O+(D^$^U)+z[13]+681279174&4294967295,O=D+(q<<4&4294967295|q>>>28),q=U+(O^D^$)+z[0]+3936430074&4294967295,U=O+(q<<11&4294967295|q>>>21),q=$+(U^O^D)+z[3]+3572445317&4294967295,$=U+(q<<16&4294967295|q>>>16),q=D+($^U^O)+z[6]+76029189&4294967295,D=$+(q<<23&4294967295|q>>>9),q=O+(D^$^U)+z[9]+3654602809&4294967295,O=D+(q<<4&4294967295|q>>>28),q=U+(O^D^$)+z[12]+3873151461&4294967295,U=O+(q<<11&4294967295|q>>>21),q=$+(U^O^D)+z[15]+530742520&4294967295,$=U+(q<<16&4294967295|q>>>16),q=D+($^U^O)+z[2]+3299628645&4294967295,D=$+(q<<23&4294967295|q>>>9),q=O+($^(D|~U))+z[0]+4096336452&4294967295,O=D+(q<<6&4294967295|q>>>26),q=U+(D^(O|~$))+z[7]+1126891415&4294967295,U=O+(q<<10&4294967295|q>>>22),q=$+(O^(U|~D))+z[14]+2878612391&4294967295,$=U+(q<<15&4294967295|q>>>17),q=D+(U^($|~O))+z[5]+4237533241&4294967295,D=$+(q<<21&4294967295|q>>>11),q=O+($^(D|~U))+z[12]+1700485571&4294967295,O=D+(q<<6&4294967295|q>>>26),q=U+(D^(O|~$))+z[3]+2399980690&4294967295,U=O+(q<<10&4294967295|q>>>22),q=$+(O^(U|~D))+z[10]+4293915773&4294967295,$=U+(q<<15&4294967295|q>>>17),q=D+(U^($|~O))+z[1]+2240044497&4294967295,D=$+(q<<21&4294967295|q>>>11),q=O+($^(D|~U))+z[8]+1873313359&4294967295,O=D+(q<<6&4294967295|q>>>26),q=U+(D^(O|~$))+z[15]+4264355552&4294967295,U=O+(q<<10&4294967295|q>>>22),q=$+(O^(U|~D))+z[6]+2734768916&4294967295,$=U+(q<<15&4294967295|q>>>17),q=D+(U^($|~O))+z[13]+1309151649&4294967295,D=$+(q<<21&4294967295|q>>>11),q=O+($^(D|~U))+z[4]+4149444226&4294967295,O=D+(q<<6&4294967295|q>>>26),q=U+(D^(O|~$))+z[11]+3174756917&4294967295,U=O+(q<<10&4294967295|q>>>22),q=$+(O^(U|~D))+z[2]+718787259&4294967295,$=U+(q<<15&4294967295|q>>>17),q=D+(U^($|~O))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+($+(q<<21&4294967295|q>>>11))&4294967295,P.g[2]=P.g[2]+$&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.v=function(P,O){O===void 0&&(O=P.length);const D=O-this.blockSize,z=this.C;let $=this.h,U=0;for(;U<O;){if($==0)for(;U<=D;)i(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<O;)if(z[$++]=P.charCodeAt(U++),$==this.blockSize){i(this,z),$=0;break}}else for(;U<O;)if(z[$++]=P[U++],$==this.blockSize){i(this,z),$=0;break}}this.h=$,this.o+=O},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;O=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=O&255,O/=256;for(this.v(P),P=Array(16),O=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)P[O++]=this.g[D]>>>z&255;return P};function s(P,O){var D=l;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=O(P)}function a(P,O){this.h=O;const D=[];let z=!0;for(let $=P.length-1;$>=0;$--){const U=P[$]|0;z&&U==O||(D[$]=U,z=!1)}this.g=D}var l={};function u(P){return-128<=P&&P<128?s(P,function(O){return new a([O|0],O<0?-1:0)}):new a([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return A(d(-P));const O=[];let D=1;for(let z=0;P>=D;z++)O[z]=P/D|0,D*=4294967296;return new a(O,0)}function h(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return A(h(P.substring(1),O));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(O,8));let z=p;for(let U=0;U<P.length;U+=8){var $=Math.min(8,P.length-U);const q=parseInt(P.substring(U,U+$),O);$<8?($=d(Math.pow(O,$)),z=z.j($).add(d(q))):(z=z.j(D),z=z.add(d(q)))}return z}var p=u(0),_=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(E(this))return-A(this).m();let P=0,O=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);P+=(z>=0?z:4294967296+z)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(E(this))return"-"+A(this).toString(P);const O=d(Math.pow(P,6));var D=this;let z="";for(;;){const $=B(D,O).g;D=I(D,$.j(O));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=$,S(D))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(let O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=I(this,P),E(P)?-1:S(P)?0:1};function A(P){const O=P.g.length,D=[];for(let z=0;z<O;z++)D[z]=~P.g[z];return new a(D,~P.h).add(_)}t.abs=function(){return E(this)?A(this):this},t.add=function(P){const O=Math.max(this.g.length,P.g.length),D=[];let z=0;for(let $=0;$<=O;$++){let U=z+(this.i($)&65535)+(P.i($)&65535),q=(U>>>16)+(this.i($)>>>16)+(P.i($)>>>16);z=q>>>16,U&=65535,q&=65535,D[$]=q<<16|U}return new a(D,D[D.length-1]&-2147483648?-1:0)};function I(P,O){return P.add(A(O))}t.j=function(P){if(S(this)||S(P))return p;if(E(this))return E(P)?A(this).j(A(P)):A(A(this).j(P));if(E(P))return A(this.j(A(P)));if(this.l(v)<0&&P.l(v)<0)return d(this.m()*P.m());const O=this.g.length+P.g.length,D=[];for(var z=0;z<2*O;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let $=0;$<P.g.length;$++){const U=this.i(z)>>>16,q=this.i(z)&65535,te=P.i($)>>>16,ee=P.i($)&65535;D[2*z+2*$]+=q*ee,j(D,2*z+2*$),D[2*z+2*$+1]+=U*ee,j(D,2*z+2*$+1),D[2*z+2*$+1]+=q*te,j(D,2*z+2*$+1),D[2*z+2*$+2]+=U*te,j(D,2*z+2*$+2)}for(P=0;P<O;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=O;P<2*O;P++)D[P]=0;return new a(D,0)};function j(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function M(P,O){this.g=P,this.h=O}function B(P,O){if(S(O))throw Error("division by zero");if(S(P))return new M(p,p);if(E(P))return O=B(A(P),O),new M(A(O.g),A(O.h));if(E(O))return O=B(P,A(O)),new M(A(O.g),O.h);if(P.g.length>30){if(E(P)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var D=_,z=O;z.l(P)<=0;)D=V(D),z=V(z);var $=N(D,1),U=N(z,1);for(z=N(z,2),D=N(D,2);!S(z);){var q=U.add(z);q.l(P)<=0&&($=$.add(D),U=q),z=N(z,1),D=N(D,1)}return O=I(P,$.j(O)),new M($,O)}for($=p;P.l(O)>=0;){for(D=Math.max(1,Math.floor(P.m()/O.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=d(D),q=U.j(O);E(q)||q.l(P)>0;)D-=z,U=d(D),q=U.j(O);S(U)&&(U=_),$=$.add(U),P=I(P,q)}return new M($,P)}t.B=function(P){return B(this,P).h},t.and=function(P){const O=Math.max(this.g.length,P.g.length),D=[];for(let z=0;z<O;z++)D[z]=this.i(z)&P.i(z);return new a(D,this.h&P.h)},t.or=function(P){const O=Math.max(this.g.length,P.g.length),D=[];for(let z=0;z<O;z++)D[z]=this.i(z)|P.i(z);return new a(D,this.h|P.h)},t.xor=function(P){const O=Math.max(this.g.length,P.g.length),D=[];for(let z=0;z<O;z++)D[z]=this.i(z)^P.i(z);return new a(D,this.h^P.h)};function V(P){const O=P.g.length+1,D=[];for(let z=0;z<O;z++)D[z]=P.i(z)<<1|P.i(z-1)>>>31;return new a(D,P.h)}function N(P,O){const D=O>>5;O%=32;const z=P.g.length-D,$=[];for(let U=0;U<z;U++)$[U]=O>0?P.i(U+D)>>>O|P.i(U+D+1)<<32-O:P.i(U+D);return new a($,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NU=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,zl=a}).apply(typeof RR<"u"?RR:typeof self<"u"?self:typeof window<"u"?window:{});var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PU,wm,RU,wy,oE,MU,DU,jU;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof B_=="object"&&B_];for(var C=0;C<x.length;++C){var L=x[C];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(x,C){if(C)e:{var L=r;x=x.split(".");for(var W=0;W<x.length-1;W++){var oe=x[W];if(!(oe in L))break e;L=L[oe]}x=x[x.length-1],W=L[x],C=C(W),C!=W&&C!=null&&e(L,x,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(C){var L=[],W;for(W in C)Object.prototype.hasOwnProperty.call(C,W)&&L.push([W,C[W]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(x){var C=typeof x;return C=="object"&&x!=null||C=="function"}function u(x,C,L){return x.call.apply(x.bind,arguments)}function d(x,C,L){return d=u,d.apply(null,arguments)}function h(x,C){var L=Array.prototype.slice.call(arguments,1);return function(){var W=L.slice();return W.push.apply(W,arguments),x.apply(this,W)}}function p(x,C){function L(){}L.prototype=C.prototype,x.Z=C.prototype,x.prototype=new L,x.prototype.constructor=x,x.Ob=function(W,oe,he){for(var De=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)De[lt-2]=arguments[lt];return C.prototype[oe].apply(W,De)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function v(x){const C=x.length;if(C>0){const L=Array(C);for(let W=0;W<C;W++)L[W]=x[W];return L}return[]}function S(x,C){for(let W=1;W<arguments.length;W++){const oe=arguments[W];var L=typeof oe;if(L=L!="object"?L:oe?Array.isArray(oe)?"array":L:"null",L=="array"||L=="object"&&typeof oe.length=="number"){L=x.length||0;const he=oe.length||0;x.length=L+he;for(let De=0;De<he;De++)x[L+De]=oe[De]}else x.push(oe)}}class E{constructor(C,L){this.i=C,this.j=L,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(x){a.setTimeout(()=>{throw x},0)}function I(){var x=P;let C=null;return x.g&&(C=x.g,x.g=x.g.next,x.g||(x.h=null),C.next=null),C}class j{constructor(){this.h=this.g=null}add(C,L){const W=M.get();W.set(C,L),this.h?this.h.next=W:this.g=W,this.h=W}}var M=new E(()=>new B,x=>x.reset());class B{constructor(){this.next=this.g=this.h=null}set(C,L){this.h=C,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let V,N=!1,P=new j,O=()=>{const x=Promise.resolve(void 0);V=()=>{x.then(D)}};function D(){for(var x;x=I();){try{x.h.call(x.g)}catch(L){A(L)}var C=M;C.j(x),C.h<100&&(C.h++,x.next=C.g,C.g=x)}N=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(x,C){this.type=x,this.g=this.target=C,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var x=!1,C=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const L=()=>{};a.addEventListener("test",L,C),a.removeEventListener("test",L,C)}catch{}return x})();function q(x){return/^[\s\xa0]*$/.test(x)}function te(x,C){$.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,C)}p(te,$),te.prototype.init=function(x,C){const L=this.type=x.type,W=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=C,C=x.relatedTarget,C||(L=="mouseover"?C=x.fromElement:L=="mouseout"&&(C=x.toElement)),this.relatedTarget=C,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),Y=0;function X(x,C,L,W,oe){this.listener=x,this.proxy=null,this.src=C,this.type=L,this.capture=!!W,this.ha=oe,this.key=++Y,this.da=this.fa=!1}function fe(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function be(x,C,L){for(const W in x)C.call(L,x[W],W,x)}function F(x,C){for(const L in x)C.call(void 0,x[L],L,x)}function K(x){const C={};for(const L in x)C[L]=x[L];return C}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(x,C){let L,W;for(let oe=1;oe<arguments.length;oe++){W=arguments[oe];for(L in W)x[L]=W[L];for(let he=0;he<Q.length;he++)L=Q[he],Object.prototype.hasOwnProperty.call(W,L)&&(x[L]=W[L])}}function ge(x){this.src=x,this.g={},this.h=0}ge.prototype.add=function(x,C,L,W,oe){const he=x.toString();x=this.g[he],x||(x=this.g[he]=[],this.h++);const De=se(x,C,W,oe);return De>-1?(C=x[De],L||(C.fa=!1)):(C=new X(C,this.src,he,!!W,oe),C.fa=L,x.push(C)),C};function Ee(x,C){const L=C.type;if(L in x.g){var W=x.g[L],oe=Array.prototype.indexOf.call(W,C,void 0),he;(he=oe>=0)&&Array.prototype.splice.call(W,oe,1),he&&(fe(C),x.g[L].length==0&&(delete x.g[L],x.h--))}}function se(x,C,L,W){for(let oe=0;oe<x.length;++oe){const he=x[oe];if(!he.da&&he.listener==C&&he.capture==!!L&&he.ha==W)return oe}return-1}var re="closure_lm_"+(Math.random()*1e6|0),$e={};function ae(x,C,L,W,oe){if(Array.isArray(C)){for(let he=0;he<C.length;he++)ae(x,C[he],L,W,oe);return null}return L=vt(L),x&&x[ee]?x.J(C,L,l(W)?!!W.capture:!1,oe):Re(x,C,L,!1,W,oe)}function Re(x,C,L,W,oe,he){if(!C)throw Error("Invalid event type");const De=l(oe)?!!oe.capture:!!oe;let lt=pt(x);if(lt||(x[re]=lt=new ge(x)),L=lt.add(C,L,W,De,he),L.proxy)return L;if(W=Me(),L.proxy=W,W.src=x,W.listener=L,x.addEventListener)U||(oe=De),oe===void 0&&(oe=!1),x.addEventListener(C.toString(),W,oe);else if(x.attachEvent)x.attachEvent(Ge(C.toString()),W);else if(x.addListener&&x.removeListener)x.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Me(){function x(L){return C.call(x.src,x.listener,L)}const C=mt;return x}function le(x,C,L,W,oe){if(Array.isArray(C))for(var he=0;he<C.length;he++)le(x,C[he],L,W,oe);else W=l(W)?!!W.capture:!!W,L=vt(L),x&&x[ee]?(x=x.i,he=String(C).toString(),he in x.g&&(C=x.g[he],L=se(C,L,W,oe),L>-1&&(fe(C[L]),Array.prototype.splice.call(C,L,1),C.length==0&&(delete x.g[he],x.h--)))):x&&(x=pt(x))&&(C=x.g[C.toString()],x=-1,C&&(x=se(C,L,W,oe)),(L=x>-1?C[x]:null)&&nt(L))}function nt(x){if(typeof x!="number"&&x&&!x.da){var C=x.src;if(C&&C[ee])Ee(C.i,x);else{var L=x.type,W=x.proxy;C.removeEventListener?C.removeEventListener(L,W,x.capture):C.detachEvent?C.detachEvent(Ge(L),W):C.addListener&&C.removeListener&&C.removeListener(W),(L=pt(C))?(Ee(L,x),L.h==0&&(L.src=null,C[re]=null)):fe(x)}}}function Ge(x){return x in $e?$e[x]:$e[x]="on"+x}function mt(x,C){if(x.da)x=!0;else{C=new te(C,this);const L=x.listener,W=x.ha||x.src;x.fa&&nt(x),x=L.call(W,C)}return x}function pt(x){return x=x[re],x instanceof ge?x:null}var Pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function vt(x){return typeof x=="function"?x:(x[Pt]||(x[Pt]=function(C){return x.handleEvent(C)}),x[Pt])}function Fe(){z.call(this),this.i=new ge(this),this.M=this,this.G=null}p(Fe,z),Fe.prototype[ee]=!0,Fe.prototype.removeEventListener=function(x,C,L,W){le(this,x,C,L,W)};function Ae(x,C){var L,W=x.G;if(W)for(L=[];W;W=W.G)L.push(W);if(x=x.M,W=C.type||C,typeof C=="string")C=new $(C,x);else if(C instanceof $)C.target=C.target||x;else{var oe=C;C=new $(W,x),H(C,oe)}oe=!0;let he,De;if(L)for(De=L.length-1;De>=0;De--)he=C.g=L[De],oe=ot(he,W,!0,C)&&oe;if(he=C.g=x,oe=ot(he,W,!0,C)&&oe,oe=ot(he,W,!1,C)&&oe,L)for(De=0;De<L.length;De++)he=C.g=L[De],oe=ot(he,W,!1,C)&&oe}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var x=this.i;for(const C in x.g){const L=x.g[C];for(let W=0;W<L.length;W++)fe(L[W]);delete x.g[C],x.h--}}this.G=null},Fe.prototype.J=function(x,C,L,W){return this.i.add(String(x),C,!1,L,W)},Fe.prototype.K=function(x,C,L,W){return this.i.add(String(x),C,!0,L,W)};function ot(x,C,L,W){if(C=x.i.g[String(C)],!C)return!0;C=C.concat();let oe=!0;for(let he=0;he<C.length;++he){const De=C[he];if(De&&!De.da&&De.capture==L){const lt=De.listener,Vn=De.ha||De.src;De.fa&&Ee(x.i,De),oe=lt.call(Vn,W)!==!1&&oe}}return oe&&!W.defaultPrevented}function Er(x,C){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:a.setTimeout(x,C||0)}function Lr(x){x.g=Er(()=>{x.g=null,x.i&&(x.i=!1,Lr(x))},x.l);const C=x.h;x.h=null,x.m.apply(null,C)}class vn extends z{constructor(C,L){super(),this.m=C,this.l=L,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(x){z.call(this),this.h=x,this.g={}}p(ea,z);var ve=[];function Ne(x){be(x.g,function(C,L){this.g.hasOwnProperty(L)&&nt(C)},x),x.g={}}ea.prototype.N=function(){ea.Z.N.call(this),Ne(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=a.JSON.stringify,gt=a.JSON.parse,Dt=class{stringify(x){return a.JSON.stringify(x,void 0)}parse(x){return a.JSON.parse(x,void 0)}};function Ar(){}function Pi(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bn(){$.call(this,"d")}p(bn,$);function ir(){$.call(this,"c")}p(ir,$);var Tt={},es=null;function kr(){return es=es||new Fe}Tt.Ia="serverreachability";function Zf(x){$.call(this,Tt.Ia,x)}p(Zf,$);function Ns(x){const C=kr();Ae(C,new Zf(C))}Tt.STAT_EVENT="statevent";function Fo(x,C){$.call(this,Tt.STAT_EVENT,x),this.stat=C}p(Fo,$);function Ln(x){const C=kr();Ae(C,new Fo(C,x))}Tt.Ja="timingevent";function ts(x,C){$.call(this,Tt.Ja,x),this.size=C}p(ts,$);function ke(x,C){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){x()},C)}function Te(){this.g=!0}Te.prototype.ua=function(){this.g=!1};function et(x,C,L,W,oe,he){x.info(function(){if(x.g)if(he){var De="",lt=he.split("&");for(let Vt=0;Vt<lt.length;Vt++){var Vn=lt[Vt].split("=");if(Vn.length>1){const wn=Vn[0];Vn=Vn[1];const ss=wn.split("_");De=ss.length>=2&&ss[1]=="type"?De+(wn+"="+Vn+"&"):De+(wn+"=redacted&")}}}else De=null;else De=he;return"XMLHTTP REQ ("+W+") [attempt "+oe+"]: "+C+`
`+L+`
`+De})}function je(x,C,L,W,oe,he,De){x.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+oe+"]: "+C+`
`+L+`
`+he+" "+De})}function ut(x,C,L,W){x.info(function(){return"XMLHTTP TEXT ("+C+"): "+Et(x,L)+(W?" "+W:"")})}function Rt(x,C){x.info(function(){return"TIMEOUT: "+C})}Te.prototype.info=function(){};function Et(x,C){if(!x.g)return C;if(!C)return null;try{const he=JSON.parse(C);if(he){for(x=0;x<he.length;x++)if(Array.isArray(he[x])){var L=he[x];if(!(L.length<2)){var W=L[1];if(Array.isArray(W)&&!(W.length<1)){var oe=W[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let De=1;De<W.length;De++)W[De]=""}}}}return Qe(he)}catch{return C}}var rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function sr(){}p(sr,Ar),sr.prototype.g=function(){return new XMLHttpRequest},$n=new sr;function ar(x){return encodeURIComponent(String(x))}function $r(x){var C=1;x=x.split(":");const L=[];for(;C>0&&x.length;)L.push(x.shift()),C--;return x.length&&L.push(x.join(":")),L}function hn(x,C,L,W){this.j=x,this.i=C,this.l=L,this.S=W||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var dt={},_t={};function Xr(x,C,L){x.M=1,x.A=uc(Kn(C)),x.u=L,x.R=!0,Ps(x,null)}function Ps(x,C){x.F=Date.now(),ta(x),x.B=Kn(x.A);var L=x.B,W=x.S;Array.isArray(W)||(W=[String(W)]),Lu(L.i,"t",W),x.C=0,L=x.j.L,x.h=new xn,x.g=Dg(x.j,L?C:null,!x.u),x.P>0&&(x.O=new vn(d(x.Y,x,x.g),x.P)),C=x.V,L=x.g,W=x.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(ve[0]=oe.toString()),oe=ve);for(let he=0;he<oe.length;he++){const De=ae(L,oe[he],W||C.handleEvent,!1,C.h||C);if(!De)break;C.g[De.key]=De}C=x.J?K(x.J):{},x.u?(x.v||(x.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,C)):(x.v="GET",x.g.ea(x.B,x.v,null,C)),Ns(),et(x.i,x.v,x.B,x.l,x.S,x.u)}hn.prototype.ba=function(x){x=x.target;const C=this.O;C&&Ds(x)==3?C.j():this.Y(x)},hn.prototype.Y=function(x){try{if(x==this.g)e:{const lt=Ds(this.g),Vn=this.g.ya(),Vt=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||Ir(this.g)))){this.K||lt!=4||Vn==7||(Vn==8||Vt<=0?Ns(3):Ns(2)),na(this);var C=this.g.ca();this.X=C;var L=Mu(this);if(this.o=C==200,je(this.i,this.v,this.B,this.l,this.S,lt,C),this.o){if(this.U&&!this.L){t:{if(this.g){var W,oe=this.g;if((W=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(W)){var he=W;break t}}he=null}if(x=he)ut(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ra(this,x);else{this.o=!1,this.m=3,Ln(12),Ri(this),ns(this);break e}}if(this.R){x=!0;let wn;for(;!this.K&&this.C<L.length;)if(wn=xg(this,L),wn==_t){lt==4&&(this.m=4,Ln(14),x=!1),ut(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==dt){this.m=4,Ln(15),ut(this.i,this.l,L,"[Invalid Chunk]"),x=!1;break}else ut(this.i,this.l,wn,null),ra(this,wn);if(bg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||L.length!=0||this.h.h||(this.m=1,Ln(16),x=!1),this.o=this.o&&x,!x)ut(this.i,this.l,L,"[Invalid Chunked Response]"),Ri(this),ns(this);else if(L.length>0&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.aa&&!De.P&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),mh(De),De.P=!0,Ln(11))}}else ut(this.i,this.l,L,null),ra(this,L);lt==4&&Ri(this),this.o&&!this.K&&(lt==4?Ng(this.j,this):(this.o=!1,ta(this)))}else za(this.g),C==400&&L.indexOf("Unknown SID")>0?(this.m=3,Ln(12)):(this.m=0,Ln(13)),Ri(this),ns(this)}}}catch{}finally{}};function Mu(x){if(!bg(x))return x.g.la();const C=Ir(x.g);if(C==="")return"";let L="";const W=C.length,oe=Ds(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Ri(x),ns(x),"";x.h.i=new a.TextDecoder}for(let he=0;he<W;he++)x.h.h=!0,L+=x.h.i.decode(C[he],{stream:!(oe&&he==W-1)});return C.length=0,x.h.g+=L,x.C=0,x.h.g}function bg(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function xg(x,C){var L=x.C,W=C.indexOf(`
`,L);return W==-1?_t:(L=Number(C.substring(L,W)),isNaN(L)?dt:(W+=1,W+L>C.length?_t:(C=C.slice(W,W+L),x.C=W+L,C)))}hn.prototype.cancel=function(){this.K=!0,Ri(this)};function ta(x){x.T=Date.now()+x.H,Du(x,x.H)}function Du(x,C){if(x.D!=null)throw Error("WatchDog timer not null");x.D=ke(d(x.aa,x),C)}function na(x){x.D&&(a.clearTimeout(x.D),x.D=null)}hn.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(Ns(),Ln(17)),Ri(this),this.m=2,ns(this)):Du(this,this.T-x)};function ns(x){x.j.I==0||x.K||Ng(x.j,x)}function Ri(x){na(x);var C=x.O;C&&typeof C.dispose=="function"&&C.dispose(),x.O=null,Ne(x.V),x.g&&(C=x.g,x.g=null,C.abort(),C.dispose())}function ra(x,C){try{var L=x.j;if(L.I!=0&&(L.g==x||sa(L.h,x))){if(!x.L&&sa(L.h,x)&&L.I==3){try{var W=L.Ba.g.parse(C)}catch{W=null}if(Array.isArray(W)&&W.length==3){var oe=W;if(oe[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<x.F)Bu(L),Xo(L);else break e;_c(L),Ln(18)}}else L.xa=oe[1],0<L.xa-L.K&&oe[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=ke(d(L.Va,L),6e3));ia(L.h)<=1&&L.ta&&(L.ta=void 0)}else da(L,11)}else if((x.L||L.g==x)&&Bu(L),!q(C))for(oe=L.Ba.g.parse(C),C=0;C<oe.length;C++){let Vt=oe[C];const wn=Vt[0];if(!(wn<=L.K))if(L.K=wn,Vt=Vt[1],L.I==2)if(Vt[0]=="c"){L.M=Vt[1],L.ba=Vt[2];const ss=Vt[3];ss!=null&&(L.ka=ss,L.j.info("VER="+L.ka));const fa=Vt[4];fa!=null&&(L.za=fa,L.j.info("SVER="+L.za));const js=Vt[5];js!=null&&typeof js=="number"&&js>0&&(W=1.5*js,L.O=W,L.j.info("backChannelRequestTimeoutMs_="+W)),W=L;const Os=x.g;if(Os){const yc=Os.g?Os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yc){var he=W.h;he.g||yc.indexOf("spdy")==-1&&yc.indexOf("quic")==-1&&yc.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(nh(he,he.h),he.h=null))}if(W.G){const Fu=Os.g?Os.g.getResponseHeader("X-HTTP-Session-Id"):null;Fu&&(W.wa=Fu,Ft(W.J,W.G,Fu))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-x.F,L.j.info("Handshake RTT: "+L.T+"ms")),W=L;var De=x;if(W.na=Mg(W,W.L?W.ba:null,W.W),De.L){rh(W.h,De);var lt=De,Vn=W.O;Vn&&(lt.H=Vn),lt.D&&(na(lt),ta(lt)),W.g=De}else Ig(W);L.i.length>0&&ua(L)}else Vt[0]!="stop"&&Vt[0]!="close"||da(L,7);else L.I==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?da(L,7):fh(L):Vt[0]!="noop"&&L.l&&L.l.qa(Vt),L.A=0)}}Ns(4)}catch{}}var Hn=class{constructor(x,C){this.g=x,this.map=C}};function eh(x){this.l=x||10,a.PerformanceNavigationTiming?(x=a.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function th(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function ia(x){return x.h?1:x.g?x.g.size:0}function sa(x,C){return x.h?x.h==C:x.g?x.g.has(C):!1}function nh(x,C){x.g?x.g.add(C):x.h=C}function rh(x,C){x.h&&x.h==C?x.h=null:x.g&&x.g.has(C)&&x.g.delete(C)}eh.prototype.cancel=function(){if(this.i=ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ih(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let C=x.i;for(const L of x.g.values())C=C.concat(L.G);return C}return v(x.i)}var wg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ju(x,C){if(x){x=x.split("&");for(let L=0;L<x.length;L++){const W=x[L].indexOf("=");let oe,he=null;W>=0?(oe=x[L].substring(0,W),he=x[L].substring(W+1)):oe=x[L],C(oe,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Mi(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;x instanceof Mi?(this.l=x.l,gr(this,x.j),this.o=x.o,this.g=x.g,qo(this,x.u),this.h=x.h,sh(this,Ag(x.i)),this.m=x.m):x&&(C=String(x).match(wg))?(this.l=!1,gr(this,C[1]||"",!0),this.o=aa(C[2]||""),this.g=aa(C[3]||"",!0),qo(this,C[4]),this.h=aa(C[5]||"",!0),sh(this,C[6]||"",!0),this.m=aa(C[7]||"")):(this.l=!1,this.i=new Ho(null,this.l))}Mi.prototype.toString=function(){const x=[];var C=this.j;C&&x.push(dc(C,Ou,!0),":");var L=this.g;return(L||C=="file")&&(x.push("//"),(C=this.o)&&x.push(dc(C,Ou,!0),"@"),x.push(ar(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&x.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&x.push("/"),x.push(dc(L,L.charAt(0)=="/"?ah:Sg,!0))),(L=this.i.toString())&&x.push("?",L),(L=this.m)&&x.push("#",dc(L,Tg)),x.join("")},Mi.prototype.resolve=function(x){const C=Kn(this);let L=!!x.j;L?gr(C,x.j):L=!!x.o,L?C.o=x.o:L=!!x.g,L?C.g=x.g:L=x.u!=null;var W=x.h;if(L)qo(C,x.u);else if(L=!!x.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var oe=C.h.lastIndexOf("/");oe!=-1&&(W=C.h.slice(0,oe+1)+W)}if(oe=W,oe==".."||oe==".")W="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){W=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const he=[];for(let De=0;De<oe.length;){const lt=oe[De++];lt=="."?W&&De==oe.length&&he.push(""):lt==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),W&&De==oe.length&&he.push("")):(he.push(lt),W=!0)}W=he.join("/")}else W=oe}return L?C.h=W:L=x.i.toString()!=="",L?sh(C,Ag(x.i)):L=!!x.m,L&&(C.m=x.m),C};function Kn(x){return new Mi(x)}function gr(x,C,L){x.j=L?aa(C,!0):C,x.j&&(x.j=x.j.replace(/:$/,""))}function qo(x,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);x.u=C}else x.u=null}function sh(x,C,L){C instanceof Ho?(x.i=C,$u(x.i,x.l)):(L||(C=dc(C,Go)),x.i=new Ho(C,x.l))}function Ft(x,C,L){x.i.set(C,L)}function uc(x){return Ft(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function aa(x,C){return x?C?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function dc(x,C,L){return typeof x=="string"?(x=encodeURI(x).replace(C,ci),L&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ci(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Ou=/[#\/\?@]/g,Sg=/[#\?:]/g,ah=/[#\?]/g,Go=/[#\?@]/g,Tg=/#/g;function Ho(x,C){this.h=this.g=null,this.i=x||null,this.j=!!C}function ui(x){x.g||(x.g=new Map,x.h=0,x.i&&ju(x.i,function(C,L){x.add(decodeURIComponent(C.replace(/\+/g," ")),L)}))}t=Ho.prototype,t.add=function(x,C){ui(this),this.i=null,x=Ko(this,x);let L=this.g.get(x);return L||this.g.set(x,L=[]),L.push(C),this.h+=1,this};function Eg(x,C){ui(x),C=Ko(x,C),x.g.has(C)&&(x.i=null,x.h-=x.g.get(C).length,x.g.delete(C))}function oh(x,C){return ui(x),C=Ko(x,C),x.g.has(C)}t.forEach=function(x,C){ui(this),this.g.forEach(function(L,W){L.forEach(function(oe){x.call(C,oe,W,this)},this)},this)};function lh(x,C){ui(x);let L=[];if(typeof C=="string")oh(x,C)&&(L=L.concat(x.g.get(Ko(x,C))));else for(x=Array.from(x.g.values()),C=0;C<x.length;C++)L=L.concat(x[C]);return L}t.set=function(x,C){return ui(this),this.i=null,x=Ko(this,x),oh(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[C]),this.h+=1,this},t.get=function(x,C){return x?(x=lh(this,x),x.length>0?String(x[0]):C):C};function Lu(x,C,L){Eg(x,C),L.length>0&&(x.i=null,x.g.set(Ko(x,C),v(L)),x.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],C=Array.from(this.g.keys());for(let W=0;W<C.length;W++){var L=C[W];const oe=ar(L);L=lh(this,L);for(let he=0;he<L.length;he++){let De=oe;L[he]!==""&&(De+="="+ar(L[he])),x.push(De)}}return this.i=x.join("&")};function Ag(x){const C=new Ho;return C.i=x.i,x.g&&(C.g=new Map(x.g),C.h=x.h),C}function Ko(x,C){return C=String(C),x.j&&(C=C.toLowerCase()),C}function $u(x,C){C&&!x.j&&(ui(x),x.i=null,x.g.forEach(function(L,W){const oe=W.toLowerCase();W!=oe&&(Eg(this,W),Lu(this,oe,L))},x)),x.j=C}function Rs(x,C){const L=new Te;if(a.Image){const W=new Image;W.onload=h(rs,L,"TestLoadImage: loaded",!0,C,W),W.onerror=h(rs,L,"TestLoadImage: error",!1,C,W),W.onabort=h(rs,L,"TestLoadImage: abort",!1,C,W),W.ontimeout=h(rs,L,"TestLoadImage: timeout",!1,C,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=x}else C(!1)}function ch(x,C){const L=new Te,W=new AbortController,oe=setTimeout(()=>{W.abort(),rs(L,"TestPingServer: timeout",!1,C)},1e4);fetch(x,{signal:W.signal}).then(he=>{clearTimeout(oe),he.ok?rs(L,"TestPingServer: ok",!0,C):rs(L,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(oe),rs(L,"TestPingServer: error",!1,C)})}function rs(x,C,L,W,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),W(L)}catch{}}function Wo(){this.g=new Dt}function oa(x){this.i=x.Sb||null,this.h=x.ab||!1}p(oa,Ar),oa.prototype.g=function(){return new fc(this.i,this.h)};function fc(x,C){Fe.call(this),this.H=x,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(fc,Fe),t=fc.prototype,t.open=function(x,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=C,this.readyState=1,Ms(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(C.body=x),(this.H||a).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vu(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vu(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var C=x.value?x.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!x.done}))&&(this.response=this.responseText+=C)}x.done?Yo(this):Ms(this),this.readyState==3&&Vu(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Yo(this))},t.Na=function(x){this.g&&(this.response=x,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Ms(x)}t.setRequestHeader=function(x,C){this.A.append(x,C)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],C=this.h.entries();for(var L=C.next();!L.done;)L=L.value,x.push(L[0]+": "+L[1]),L=C.next();return x.join(`\r
`)};function Ms(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function is(x){let C="";return be(x,function(L,W){C+=W,C+=":",C+=L,C+=`\r
`}),C}function hc(x,C,L){e:{for(W in L){var W=!1;break e}W=!0}W||(L=is(L),typeof x=="string"?L!=null&&ar(L):Ft(x,C,L))}function Qt(x){Fe.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Qt,Fe);var la=/^https?$/i,uh=["POST","PUT"];t=Qt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,C,L,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);C=C?C.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(x),!0),this.B=!1}catch(he){mc(this,he);return}if(x=L||"",L=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var oe in W)L.set(oe,W[oe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const he of W.keys())L.set(he,W.get(he));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(L.keys()).find(he=>he.toLowerCase()=="content-type"),oe=a.FormData&&x instanceof a.FormData,!(Array.prototype.indexOf.call(uh,C,void 0)>=0)||W||oe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,De]of L)this.g.setRequestHeader(he,De);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(he){mc(this,he)}};function mc(x,C){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=C,x.o=5,dh(x),Ua(x)}function dh(x){x.A||(x.A=!0,Ae(x,"complete"),Ae(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Ae(this,"complete"),Ae(this,"abort"),Ua(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ua(this,!0)),Qt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pc(this):this.Xa())},t.Xa=function(){pc(this)};function pc(x){if(x.h&&typeof s<"u"){if(x.v&&Ds(x)==4)setTimeout(x.Ca.bind(x),0);else if(Ae(x,"readystatechange"),Ds(x)==4){x.h=!1;try{const he=x.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var L;if(!(L=C)){var W;if(W=he===0){let De=String(x.D).match(wg)[1]||null;!De&&a.self&&a.self.location&&(De=a.self.location.protocol.slice(0,-1)),W=!la.test(De?De.toLowerCase():"")}L=W}if(L)Ae(x,"complete"),Ae(x,"success");else{x.o=6;try{var oe=Ds(x)>2?x.g.statusText:""}catch{oe=""}x.l=oe+" ["+x.ca()+"]",dh(x)}}finally{Ua(x)}}}}function Ua(x,C){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const L=x.g;x.g=null,C||Ae(x,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ds(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var C=this.g.responseText;return x&&C.indexOf(x)==0&&(C=C.substring(x.length)),gt(C)}};function Ir(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function za(x){const C={};x=(x.g&&Ds(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<x.length;W++){if(q(x[W]))continue;var L=$r(x[W]);const oe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const he=C[oe]||[];C[oe]=he,he.push(L)}F(C,function(W){return W.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(x,C,L){return L&&L.internalChannelParams&&L.internalChannelParams[x]||C}function Jo(x){this.za=0,this.i=[],this.j=new Te,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ca("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ca("baseRetryDelayMs",5e3,x),this.Za=ca("retryDelaySeedMs",1e4,x),this.Ta=ca("forwardChannelMaxRetries",2,x),this.va=ca("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new eh(x&&x.concurrentRequestLimit),this.Ba=new Wo,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jo.prototype,t.ka=8,t.I=1,t.connect=function(x,C,L,W){Ln(0),this.W=x,this.H=C||{},L&&W!==void 0&&(this.H.OSID=L,this.H.OAID=W),this.F=this.X,this.J=Mg(this,null,this.W),ua(this)};function fh(x){if(Uu(x),x.I==3){var C=x.V++,L=Kn(x.J);if(Ft(L,"SID",x.M),Ft(L,"RID",C),Ft(L,"TYPE","terminate"),gc(x,L),C=new hn(x,x.j,C),C.M=2,C.A=uc(Kn(L)),L=!1,a.navigator&&a.navigator.sendBeacon)try{L=a.navigator.sendBeacon(C.A.toString(),"")}catch{}!L&&a.Image&&(new Image().src=C.A,L=!0),L||(C.g=Dg(C.j,null),C.g.ea(C.A)),C.F=Date.now(),ta(C)}Rg(x)}function Xo(x){x.g&&(mh(x),x.g.cancel(),x.g=null)}function Uu(x){Xo(x),x.v&&(a.clearTimeout(x.v),x.v=null),Bu(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&a.clearTimeout(x.m),x.m=null)}function ua(x){if(!th(x.h)&&!x.m){x.m=!0;var C=x.Ea;V||O(),N||(V(),N=!0),P.add(C,x),x.D=0}}function zu(x,C){return ia(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=C.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=ke(d(x.Ea,x,C),Pg(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const oe=new hn(this,this.j,x);let he=this.o;if(this.U&&(he?(he=K(he),H(he,this.U)):he=this.U),this.u!==null||this.R||(oe.J=he,he=null),this.S)e:{for(var C=0,L=0;L<this.i.length;L++){t:{var W=this.i[L];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(C+=W,C>4096){C=L;break e}if(C===4096||L===this.i.length-1){C=L+1;break e}}C=1e3}else C=1e3;C=kg(this,oe,C),L=Kn(this.J),Ft(L,"RID",x),Ft(L,"CVER",22),this.G&&Ft(L,"X-HTTP-Session-Id",this.G),gc(this,L),he&&(this.R?C="headers="+ar(is(he))+"&"+C:this.u&&hc(L,this.u,he)),nh(this.h,oe),this.Ra&&Ft(L,"TYPE","init"),this.S?(Ft(L,"$req",C),Ft(L,"SID","null"),oe.U=!0,Xr(oe,L,null)):Xr(oe,L,C),this.I=2}}else this.I==3&&(x?hh(this,x):this.i.length==0||th(this.h)||hh(this))};function hh(x,C){var L;C?L=C.l:L=x.V++;const W=Kn(x.J);Ft(W,"SID",x.M),Ft(W,"RID",L),Ft(W,"AID",x.K),gc(x,W),x.u&&x.o&&hc(W,x.u,x.o),L=new hn(x,x.j,L,x.D+1),x.u===null&&(L.J=x.o),C&&(x.i=C.G.concat(x.i)),C=kg(x,L,1e3),L.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),nh(x.h,L),Xr(L,W,C)}function gc(x,C){x.H&&be(x.H,function(L,W){Ft(C,W,L)}),x.l&&be({},function(L,W){Ft(C,W,L)})}function kg(x,C,L){L=Math.min(x.i.length,L);const W=x.l?d(x.l.Ka,x.l,x):null;e:{var oe=x.i;let lt=-1;for(;;){const Vn=["count="+L];lt==-1?L>0?(lt=oe[0].g,Vn.push("ofs="+lt)):lt=0:Vn.push("ofs="+lt);let Vt=!0;for(let wn=0;wn<L;wn++){var he=oe[wn].g;const ss=oe[wn].map;if(he-=lt,he<0)lt=Math.max(0,oe[wn].g-100),Vt=!1;else try{he="req"+he+"_"||"";try{var De=ss instanceof Map?ss:Object.entries(ss);for(const[fa,js]of De){let Os=js;l(js)&&(Os=Qe(js)),Vn.push(he+fa+"="+encodeURIComponent(Os))}}catch(fa){throw Vn.push(he+"type="+encodeURIComponent("_badmap")),fa}}catch{W&&W(ss)}}if(Vt){De=Vn.join("&");break e}}De=void 0}return x=x.i.splice(0,L),C.G=x,De}function Ig(x){if(!x.g&&!x.v){x.Y=1;var C=x.Da;V||O(),N||(V(),N=!0),P.add(C,x),x.A=0}}function _c(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=ke(d(x.Da,x),Pg(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,Cg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=ke(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ln(10),Xo(this),Cg(this))};function mh(x){x.B!=null&&(a.clearTimeout(x.B),x.B=null)}function Cg(x){x.g=new hn(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var C=Kn(x.na);Ft(C,"RID","rpc"),Ft(C,"SID",x.M),Ft(C,"AID",x.K),Ft(C,"CI",x.F?"0":"1"),!x.F&&x.ia&&Ft(C,"TO",x.ia),Ft(C,"TYPE","xmlhttp"),gc(x,C),x.u&&x.o&&hc(C,x.u,x.o),x.O&&(x.g.H=x.O);var L=x.g;x=x.ba,L.M=1,L.A=uc(Kn(C)),L.u=null,L.R=!0,Ps(L,x)}t.Va=function(){this.C!=null&&(this.C=null,Xo(this),_c(this),Ln(19))};function Bu(x){x.C!=null&&(a.clearTimeout(x.C),x.C=null)}function Ng(x,C){var L=null;if(x.g==C){Bu(x),mh(x),x.g=null;var W=2}else if(sa(x.h,C))L=C.G,rh(x.h,C),W=1;else return;if(x.I!=0){if(C.o)if(W==1){L=C.u?C.u.length:0,C=Date.now()-C.F;var oe=x.D;W=kr(),Ae(W,new ts(W,L)),ua(x)}else Ig(x);else if(oe=C.m,oe==3||oe==0&&C.X>0||!(W==1&&zu(x,C)||W==2&&_c(x)))switch(L&&L.length>0&&(C=x.h,C.i=C.i.concat(L)),oe){case 1:da(x,5);break;case 4:da(x,10);break;case 3:da(x,6);break;default:da(x,2)}}}function Pg(x,C){let L=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(L*=2),L*C}function da(x,C){if(x.j.info("Error code "+C),C==2){var L=d(x.bb,x),W=x.Ua;const oe=!W;W=new Mi(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gr(W,"https"),uc(W),oe?Rs(W.toString(),L):ch(W.toString(),L)}else Ln(2);x.I=0,x.l&&x.l.pa(C),Rg(x),Uu(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function Rg(x){if(x.I=0,x.ja=[],x.l){const C=ih(x.h);(C.length!=0||x.i.length!=0)&&(S(x.ja,C),S(x.ja,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.oa()}}function Mg(x,C,L){var W=L instanceof Mi?Kn(L):new Mi(L);if(W.g!="")C&&(W.g=C+"."+W.g),qo(W,W.u);else{var oe=a.location;W=oe.protocol,C=C?C+"."+oe.hostname:oe.hostname,oe=+oe.port;const he=new Mi(null);W&&gr(he,W),C&&(he.g=C),oe&&qo(he,oe),L&&(he.h=L),W=he}return L=x.G,C=x.wa,L&&C&&Ft(W,L,C),Ft(W,"VER",x.ka),gc(x,W),W}function Dg(x,C,L){if(C&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=x.Aa&&!x.ma?new Qt(new oa({ab:L})):new Qt(x.ma),C.Fa(x.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jg(){}t=jg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qo(){}Qo.prototype.g=function(x,C){return new Qr(x,C)};function Qr(x,C){Fe.call(this),this.g=new Jo(C),this.l=x,this.h=C&&C.messageUrlParams||null,x=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(x?x["X-WebChannel-Content-Type"]=C.messageContentType:x={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(x?x["X-WebChannel-Client-Profile"]=C.sa:x={"X-WebChannel-Client-Profile":C.sa}),this.g.U=x,(x=C&&C.Qb)&&!q(x)&&(this.g.u=x),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!q(C)&&(this.g.G=C,x=this.h,x!==null&&C in x&&(x=this.h,C in x&&delete x[C])),this.j=new Ba(this)}p(Qr,Fe),Qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qr.prototype.close=function(){fh(this.g)},Qr.prototype.o=function(x){var C=this.g;if(typeof x=="string"){var L={};L.__data__=x,x=L}else this.v&&(L={},L.__data__=Qe(x),x=L);C.i.push(new Hn(C.Ya++,x)),C.I==3&&ua(C)},Qr.prototype.N=function(){this.g.l=null,delete this.j,fh(this.g),delete this.g,Qr.Z.N.call(this)};function Og(x){bn.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var C=x.__sm__;if(C){e:{for(const L in C){x=L;break e}x=void 0}(this.i=x)&&(x=this.i,C=C!==null&&x in C?C[x]:void 0),this.data=C}else this.data=x}p(Og,bn);function Lg(){ir.call(this),this.status=1}p(Lg,ir);function Ba(x){this.g=x}p(Ba,jg),Ba.prototype.ra=function(){Ae(this.g,"a")},Ba.prototype.qa=function(x){Ae(this.g,new Og(x))},Ba.prototype.pa=function(x){Ae(this.g,new Lg)},Ba.prototype.oa=function(){Ae(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,Qr.prototype.send=Qr.prototype.o,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,jU=function(){return new Qo},DU=function(){return kr()},MU=Tt,oE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,wy=rn,sn.COMPLETE="complete",RU=sn,Pi.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,wm=Pi,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,PU=Qt}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});const MR="@firebase/firestore",DR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Q1("@firebase/firestore");function Rd(){return uu.logLevel}function Se(t,...e){if(uu.logLevel<=It.DEBUG){const n=e.map(cA);uu.debug(`Firestore (${Pf}): ${t}`,...n)}}function Fn(t,...e){if(uu.logLevel<=It.ERROR){const n=e.map(cA);uu.error(`Firestore (${Pf}): ${t}`,...n)}}function Jm(t,...e){if(uu.logLevel<=It.WARN){const n=e.map(cA);uu.warn(`Firestore (${Pf}): ${t}`,...n)}}function cA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OU(t,r,n)}function OU(t,e,n){let r=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fn(r),new Error(r)}function He(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OU(e,i,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Br.UNAUTHENTICATED)))}shutdown(){}}class gY{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ia,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ia)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new mY(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Br(e)}}class _Y{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _Y(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=s=>{s.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function lE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return q0(i)===q0(s)?it(i,s):q0(i)?1:-1}return it(t.length,e.length)}const xY=55296,wY=57343;function q0(t){const e=t.charCodeAt(0);return e>=xY&&e<=wY}function ef(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function LU(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="__name__";class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=va.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return it(e.length,n.length)}static compareSegments(e,n){const r=va.isNumericId(e),i=va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?va.extractNumericId(e).compare(va.extractNumericId(n)):lE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zl.fromString(e.substring(4,e.length-2))}}class zt extends va{construct(e,n,r){return new zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new zt(n)}static emptyPath(){return new zt([])}}const SY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends va{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return SY.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OR}static keyField(){return new In([OR])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ce(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ce(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Ce(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(zt.fromString(e))}static fromName(e){return new Oe(zt.fromString(e).popFirst(5))}static empty(){return new Oe(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e,n){if(!n)throw new Ce(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TY(t,e,n,r){if(e===!0&&r===!0)throw new Ce(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LR(t){if(!Oe.isDocumentKey(t))throw new Ce(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $R(t){if(Oe.isDocumentKey(t))throw new Ce(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yb(t);throw new Ce(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dp(t,e){if(!VU(t))throw new Ce(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ce(_e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=-62135596800,UR=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UR);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VR)throw new Ce(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UR}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dp(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:nr("string",Kt._jsonSchemaVersion),seconds:nr("number"),nanoseconds:nr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Kt(0,0))}static max(){return new Je(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=-1;class Yy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function cE(t){return t.fields.find((e=>e.kind===2))}function $c(t){return t.fields.filter((e=>e.kind!==2))}Yy.UNKNOWN_ID=-1;class Sy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xm(0,Ji.min())}}function UU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Ji(i,Oe.empty(),e)}function zU(t){return new Ji(t.readTime,t.key,tf)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(Je.min(),Oe.empty(),tf)}static max(){return new Ji(Je.max(),Oe.empty(),tf)}}function dA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==BU)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(u=>r(u)))})),a=!0,s===i&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((i=>i?ie.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next((h=>{a[d]=h,++l,l===s&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new ie(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="SimpleDb";class vb{static open(e,n,r,i){try{return new vb(n,e.transaction(i,r))}catch(s){throw new Pm(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ia,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Pm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=fA(r.target.error);this.S.reject(new Pm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Se(Bi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new AY(n)}}class Bl{static delete(e){return Se(Bi,"Removing database:",e),Fc(OV().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!qV())return!1;if(Bl.F())return!0;const e=ur(),n=Bl.M(e),r=0<n&&n<10,i=qU(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Bl.M(ur())===12.2&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Se(Bi,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Pm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Ce(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Ce(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Pm(e,a))},i.onupgradeneeded=s=>{Se(Bi,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{Se(Bi,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=vb.open(this.db,e,s?"readonly":"readwrite",r),u=i(l).next((d=>(l.C(),d))).catch((d=>(l.abort(d),ie.reject(d)))).toPromise();return u.catch((()=>{})),await l.D,u}catch(l){const u=l,d=u.name!=="FirebaseError"&&a<3;if(Se(Bi,"Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class EY{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Fc(this.U.delete())}}class Pm extends Ce{constructor(e,n){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function nc(t){return t.name==="IndexedDbTransactionError"}class AY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Se(Bi,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Se(Bi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Fc(r)}add(e){return Se(Bi,"ADD",this.store.name,e,e),Fc(this.store.add(e))}get(e){return Fc(this.store.get(e)).next((n=>(n===void 0&&(n=null),Se(Bi,"GET",this.store.name,e,n),n)))}delete(e){return Se(Bi,"DELETE",this.store.name,e),Fc(this.store.delete(e))}count(){return Se(Bi,"COUNT",this.store.name),Fc(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ie(((a,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{a(u.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((l,u)=>{a.push(u)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ie(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){Se(Bi,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new ie(((r,i)=>{n.onerror=s=>{const a=fA(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((l=>{l?a.continue():r()})):r()}}))}H(e,n){const r=[];return new ie(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const u=new EY(l),d=n(l.primaryKey,l.value,u);if(d instanceof ie){const h=d.catch((p=>(u.done(),ie.reject(p))));r.push(h)}u.isDone?i():u.G===null?l.continue():l.continue(u.G)}})).next((()=>ie.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Fc(t){return new ie(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=fA(r.target.error);n(i)}}))}let zR=!1;function fA(t){const e=Bl.M(ur());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zR||(zR=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Rm="IndexBackfiller";class kY{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Se(Rm,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();Se(Rm,`Documents written: ${n}`)}catch(n){nc(n)?Se(Rm,"Ignoring IndexedDB error during index backfill: ",n):await tc(n)}await this.re(6e4)}))}}class IY{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return ie.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return Se(Rm,`Processing collection: ${a}`),this.oe(e,a,i).next((l=>{i-=l,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((l=>(Se(Rm,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=zU(s);dA(a,r)>0&&(r=a)})),new Ji(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function bb(t){return t==null}function Qm(t){return t===0&&1/t==-1/0}function GU(t){return typeof t=="number"&&Number.isInteger(t)&&!Qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="";function Kr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BR(e)),e=CY(t.get(n),e);return BR(e)}function CY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Jy:n+="";break;default:n+=s}}return n}function BR(t){return t+Jy+""}function wa(t){const e=t.length;if(He(e>=2,64408,{path:t}),e===2)return He(t.charAt(0)===Jy&&t.charAt(1)==="",56145,{path:t}),zt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(Jy,s);switch((a<0||a>n)&&Ve(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(s,a);let u;i.length===0?u=l:(i+=l,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Ve(61167,{path:t})}s=a+2}return new zt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="remoteDocuments",jp="owner",vd="owner",Zm="mutationQueues",NY="userId",Bs="mutations",FR="batchId",Kc="userMutationsIndex",qR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){return[t,Kr(e)]}function HU(t,e,n){return[t,Kr(e),n]}const PY={},nf="documentMutations",Xy="remoteDocumentsV14",RY=["prefixPath","collectionGroup","readTime","documentId"],Ey="documentKeyIndex",MY=["prefixPath","collectionGroup","documentId"],KU="collectionGroupIndex",DY=["collectionGroup","readTime","prefixPath","documentId"],ep="remoteDocumentGlobal",uE="remoteDocumentGlobalKey",rf="targets",WU="queryTargetsIndex",jY=["canonicalId","targetId"],sf="targetDocuments",OY=["targetId","path"],hA="documentTargetsIndex",LY=["path","targetId"],Qy="targetGlobalKey",Zc="targetGlobal",tp="collectionParents",$Y=["collectionId","parent"],af="clientMetadata",VY="clientId",xb="bundles",UY="bundleId",wb="namedQueries",zY="name",mA="indexConfiguration",BY="indexId",dE="collectionGroupIndex",FY="collectionGroup",Mm="indexState",qY=["indexId","uid"],YU="sequenceNumberIndex",GY=["uid","sequenceNumber"],Dm="indexEntries",HY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JU="documentKeyIndex",KY=["indexId","uid","orderedDocumentKey"],Sb="documentOverlays",WY=["userId","collectionPath","documentId"],fE="collectionPathOverlayIndex",YY=["userId","collectionPath","largestBatchId"],XU="collectionGroupOverlayIndex",JY=["userId","collectionGroup","largestBatchId"],pA="globals",XY="name",QU=[Zm,Bs,nf,Vc,rf,jp,Zc,sf,af,ep,tp,xb,wb],QY=[...QU,Sb],ZU=[Zm,Bs,nf,Xy,rf,jp,Zc,sf,af,ep,tp,xb,wb,Sb],ez=ZU,gA=[...ez,mA,Mm,Dm],ZY=gA,tz=[...gA,pA],eJ=tz;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends FU{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function dr(t,e){const n=Be(t);return Bl.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||Dr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new F_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new F_(this.root,e,this.comparator,!1)}getReverseIterator(){return new F_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new F_(this.root,e,this.comparator,!0)}}class F_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HR(this.data.getIterator())}getIteratorFrom(e){return new HR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class HR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bd(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new wi([])}unionWith(e){let n=new Yt(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ef(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rz("Invalid base64 string: "+s):s}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const tJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=tJ.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="server_timestamp",sz="__type__",az="__previous_value__",oz="__local_write_time__";function _A(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sz])==null?void 0:r.stringValue)===iz}function Tb(t){const e=t.mapValue.fields[az];return _A(e)?Tb(e):e}function np(t){const e=vo(t.mapValue.fields[oz].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n,r,i,s,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Zy="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||Zy}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Zy}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="__type__",lz="__max__",Ll={mapValue:{fields:{__type__:{stringValue:lz}}}},vA="__vector__",of="value",Ay={nullValue:"NULL_VALUE"};function Wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_A(t)?4:cz(t)?9007199254740991:Eb(t)?10:11:Ve(28295,{value:t})}function Ra(t,e){if(t===e)return!0;const n=Wl(t);if(n!==Wl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return np(t).isEqual(np(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=vo(i.timestampValue),l=vo(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return bo(i.bytesValue).isEqual(bo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return En(i.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return En(i.integerValue)===En(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=En(i.doubleValue),l=En(s.doubleValue);return a===l?Qm(a)===Qm(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return ef(t.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(GR(a)!==GR(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ra(a[u],l[u])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function rp(t,e){return(t.values||[]).find((n=>Ra(n,e)))!==void 0}function Yl(t,e){if(t===e)return 0;const n=Wl(t),r=Wl(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=En(s.integerValue||s.doubleValue),u=En(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return KR(t.timestampValue,e.timestampValue);case 4:return KR(np(t),np(e));case 5:return lE(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=bo(s),u=bo(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=it(l[d],u[d]);if(h!==0)return h}return it(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=it(En(s.latitude),En(a.latitude));return l!==0?l:it(En(s.longitude),En(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WR(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var _,v,S,E;const l=s.fields||{},u=a.fields||{},d=(_=l[of])==null?void 0:_.arrayValue,h=(v=u[of])==null?void 0:v.arrayValue,p=it(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return p!==0?p:WR(d,h)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Ll.mapValue&&a===Ll.mapValue)return 0;if(s===Ll.mapValue)return 1;if(a===Ll.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=a.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const _=lE(u[p],h[p]);if(_!==0)return _;const v=Yl(l[u[p]],d[h[p]]);if(v!==0)return v}return it(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function KR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=vo(t),r=vo(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function WR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yl(n[i],r[i]);if(s)return s}return it(n.length,r.length)}function lf(t){return mE(t)}function mE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return bo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mE(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${mE(n.fields[a])}`;return i+"}"})(t.mapValue):Ve(61005,{value:t})}function ky(t){switch(Wl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tb(t);return e?16+ky(e):16;case 5:return 2*t.stringValue.length;case 6:return bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+ky(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return rc(r.fields,((s,a)=>{i+=s.length+ky(a)})),i})(t.mapValue);default:throw Ve(13486,{value:t})}}function ip(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pE(t){return!!t&&"integerValue"in t}function sp(t){return!!t&&"arrayValue"in t}function YR(t){return!!t&&"nullValue"in t}function JR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iy(t){return!!t&&"mapValue"in t}function Eb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yA])==null?void 0:r.stringValue)===vA}function jm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return rc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jm(t.arrayValue.values[n]);return e}return{...t}}function cz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lz}const uz={mapValue:{fields:{[yA]:{stringValue:vA},[of]:{arrayValue:{}}}}};function rJ(t){return"nullValue"in t?Ay:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ip(du.empty(),Oe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Eb(t)?uz:{mapValue:{}}:Ve(35942,{value:t})}function iJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ip(du.empty(),Oe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?uz:"mapValue"in t?Eb(t)?{mapValue:{}}:Ll:Ve(61959,{value:t})}function XR(t,e){const n=Yl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function QR(t,e){const n=Yl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Iy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jm(n)}setAll(e){let n=In.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=jm(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Iy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gr(jm(this.value))}}function dz(t){const e=[];return rc(t.fields,((n,r)=>{const i=new In([n]);if(Iy(r)){const s=dz(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Mn(e,0,Je.min(),Je.min(),Je.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,Je.min(),Je.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Je.min(),Je.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.position=e,this.inclusive=n}}function ZR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Oe.comparator(Oe.fromName(a.referenceValue),n.key):r=Yl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n="asc"){this.field=e,this.dir=n}}function sJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{}class Ct extends fz{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aJ(e,n,r):n==="array-contains"?new cJ(e,r):n==="in"?new yz(e,r):n==="not-in"?new uJ(e,r):n==="array-contains-any"?new dJ(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oJ(e,r):new lJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&Wl(this.value)===Wl(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wt extends fz{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wt(e,n)}matches(e){return uf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uf(t){return t.op==="and"}function gE(t){return t.op==="or"}function bA(t){return hz(t)&&uf(t)}function hz(t){for(const e of t.filters)if(e instanceof Wt)return!1;return!0}function _E(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+lf(t.value);if(bA(t))return t.filters.map((e=>_E(e))).join(",");{const e=t.filters.map((n=>_E(n))).join(",");return`${t.op}(${e})`}}function mz(t,e){return t instanceof Ct?(function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Ra(r.value,i.value)})(t,e):t instanceof Wt?(function(r,i){return i instanceof Wt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&mz(a,i.filters[l])),!0):!1})(t,e):void Ve(19439)}function pz(t,e){const n=t.filters.concat(e);return Wt.create(n,t.op)}function gz(t){return t instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${lf(n.value)}`})(t):t instanceof Wt?(function(n){return n.op.toString()+" {"+n.getFilters().map(gz).join(" ,")+"}"})(t):"Filter"}class aJ extends Ct{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class oJ extends Ct{constructor(e,n){super(e,"in",n),this.keys=_z("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lJ extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=_z("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _z(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Oe.fromName(r.referenceValue)))}class cJ extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&rp(n.arrayValue,this.value)}}class yz extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rp(this.value.arrayValue,n)}}class uJ extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rp(this.value.arrayValue,n)}}class dJ extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function yE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new fJ(t,e,n,r,i,s,a)}function fu(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_E(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),bb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>lf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>lf(r))).join(",")),e.Te=n}return e.Te}function Op(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mz(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eM(t.startAt,e.startAt)&&eM(t.endAt,e.endAt)}function tv(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function nv(t,e){return t.filters.filter((n=>n instanceof Ct&&n.field.isEqual(e)))}function tM(t,e,n){let r=Ay,i=!0;for(const s of nv(t,e)){let a=Ay,l=!0;switch(s.op){case"<":case"<=":a=rJ(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=Ay}XR({value:r,inclusive:i},{value:a,inclusive:l})<0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];XR({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function nM(t,e,n){let r=Ll,i=!0;for(const s of nv(t,e)){let a=Ll,l=!0;switch(s.op){case">=":case">":a=iJ(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=Ll}QR({value:r,inclusive:i},{value:a,inclusive:l})>0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];QR({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vz(t,e,n,r,i,s,a,l){return new Lp(t,e,n,r,i,s,a,l)}function $p(t){return new Lp(t)}function rM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bz(t){return t.collectionGroup!==null}function Om(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Yt(In.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ev(s,r))})),n.has(In.keyField().canonicalString())||e.Ie.push(new ev(In.keyField(),r))}return e.Ie}function Wi(t){const e=Be(t);return e.Ee||(e.Ee=hJ(e,Om(t))),e.Ee}function hJ(t,e){if(t.limitType==="F")return yE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new ev(i.field,s)}));const n=t.endAt?new cf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cf(t.startAt.position,t.startAt.inclusive):null;return yE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vE(t,e){const n=t.filters.concat([e]);return new Lp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bE(t,e,n){return new Lp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ab(t,e){return Op(Wi(t),Wi(e))&&t.limitType===e.limitType}function xz(t){return`${fu(Wi(t))}|lt:${t.limitType}`}function Md(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>gz(i))).join(", ")}]`),bb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>lf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>lf(i))).join(",")),`Target(${r})`})(Wi(t))}; limitType=${t.limitType})`}function Vp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Om(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,u){const d=ZR(a,l,u);return a.inclusive?d<=0:d<0})(r.startAt,Om(r),i)||r.endAt&&!(function(a,l,u){const d=ZR(a,l,u);return a.inclusive?d>=0:d>0})(r.endAt,Om(r),i))})(t,e)}function wz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sz(t){return(e,n)=>{let r=!1;for(const i of Om(t)){const s=mJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mJ(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):(function(s,a,l){const u=a.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Yl(u,d):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return nz(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=new dn(Oe.comparator);function Gi(){return pJ}const Tz=new dn(Oe.comparator);function Sm(...t){let e=Tz;for(const n of t)e=e.insert(n.key,n);return e}function Ez(t){let e=Tz;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Sa(){return Lm()}function Az(){return Lm()}function Lm(){return new Ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gJ=new dn(Oe.comparator),_J=new Yt(Oe.comparator);function yt(...t){let e=_J;for(const n of t)e=e.add(n);return e}const yJ=new Yt(it);function xA(){return yJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function kz(t){return{integerValue:""+t}}function vJ(t,e){return GU(e)?kz(e):wA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._=void 0}}function bJ(t,e,n){return t instanceof ap?(function(i,s){const a={fields:{[sz]:{stringValue:iz},[oz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_A(s)&&(s=Tb(s)),s&&(a.fields[az]=s),{mapValue:a}})(n,e):t instanceof hu?Cz(t,e):t instanceof df?Nz(t,e):(function(i,s){const a=Iz(i,s),l=iM(a)+iM(i.Ae);return pE(a)&&pE(i.Ae)?kz(l):wA(i.serializer,l)})(t,e)}function xJ(t,e,n){return t instanceof hu?Cz(t,e):t instanceof df?Nz(t,e):n}function Iz(t,e){return t instanceof op?(function(r){return pE(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class ap extends kb{}class hu extends kb{constructor(e){super(),this.elements=e}}function Cz(t,e){const n=Pz(e);for(const r of t.elements)n.some((i=>Ra(i,r)))||n.push(r);return{arrayValue:{values:n}}}class df extends kb{constructor(e){super(),this.elements=e}}function Nz(t,e){let n=Pz(e);for(const r of t.elements)n=n.filter((i=>!Ra(i,r)));return{arrayValue:{values:n}}}class op extends kb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iM(t){return En(t.integerValue||t.doubleValue)}function Pz(t){return sp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n){this.field=e,this.transform=n}}function wJ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof hu&&i instanceof hu||r instanceof df&&i instanceof df?ef(r.elements,i.elements,Ra):r instanceof op&&i instanceof op?Ra(r.Ae,i.Ae):r instanceof ap&&i instanceof ap})(t.transform,e.transform)}class SJ{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ib{}function Mz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Up(t.key,cr.none()):new Rf(t.key,t.data,cr.none());{const n=t.data,r=Gr.empty();let i=new Yt(In.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Mo(t.key,r,new wi(i.toArray()),cr.none())}}function TJ(t,e,n){t instanceof Rf?(function(i,s,a){const l=i.value.clone(),u=aM(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Mo?(function(i,s,a){if(!Cy(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=aM(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(Dz(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function $m(t,e,n,r){return t instanceof Rf?(function(s,a,l,u){if(!Cy(s.precondition,a))return l;const d=s.value.clone(),h=oM(s.fieldTransforms,u,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Mo?(function(s,a,l,u){if(!Cy(s.precondition,a))return l;const d=oM(s.fieldTransforms,u,a),h=a.data;return h.setAll(Dz(s)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,a,l){return Cy(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function EJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Iz(r.transform,i||null);s!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,s))}return n||null}function sM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ef(r,i,((s,a)=>wJ(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rf extends Ib{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mo extends Ib{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function aM(t,e,n){const r=new Map;He(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,xJ(a,l,n[i]))}return r}function oM(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,bJ(s,a,e))}return r}class Up extends Ib{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jz extends Ib{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TJ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$m(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$m(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Az();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=Mz(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yt())}isEqual(e){return this.batchId===e.batchId&&ef(this.mutations,e.mutations,((n,r)=>sM(n,r)))&&ef(this.baseMutations,e.baseMutations,((n,r)=>sM(n,r)))}}class TA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return gJ})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new TA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,Mt;function kJ(t){switch(t){case _e.OK:return Ve(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function Oz(t){if(t===void 0)return Fn("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Zn.OK:return _e.OK;case Zn.CANCELLED:return _e.CANCELLED;case Zn.UNKNOWN:return _e.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return _e.INTERNAL;case Zn.UNAVAILABLE:return _e.UNAVAILABLE;case Zn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Zn.NOT_FOUND:return _e.NOT_FOUND;case Zn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Zn.ABORTED:return _e.ABORTED;case Zn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Zn.DATA_LOSS:return _e.DATA_LOSS;default:return Ve(39323,{code:t})}}(Mt=Zn||(Zn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=new zl([4294967295,4294967295],0);function lM(t){const e=IJ().encode(t),n=new NU;return n.update(e),new Uint8Array(n.digest())}function cM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zl([n,r],0),new zl([i,s],0)]}class AA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tm(`Invalid padding: ${n}`);if(r<0)throw new Tm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(zl.fromNumber(r)));return i.compare(CJ)===1&&(i=new zl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lM(e),[r,i]=cM(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new AA(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=lM(e),[r,i]=cM(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zp(Je.min(),i,new dn(it),Gi(),yt())}}class Bp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bp(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Lz{constructor(e,n){this.targetId=e,this.Ce=n}}class $z{constructor(e,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uM{constructor(){this.ve=0,this.Fe=dM(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),n=yt(),r=yt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:s})}})),new Bp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=dM()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=q_(),this.He=q_(),this.Ye=new dn(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(tv(s))if(r===0){const a=new Oe(s.path);this.et(n,a,Mn.newNoDocument(a,Je.min()))}else He(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=bo(r).toUint8Array()}catch(u){if(u instanceof rz)return Jm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new AA(a,i,s)}catch(u){return Jm(u instanceof Tm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&tv(l.target)){const u=new Oe(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Mn.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=yt();this.He.forEach(((s,a)=>{let l=!0;a.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new zp(e,n,this.Ye,this.je,r);return this.je=Gi(),this.Je=q_(),this.He=q_(),this.Ye=new dn(it),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uM),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function q_(){return new dn(Oe.comparator)}function dM(){return new dn(Oe.comparator)}const PJ={asc:"ASCENDING",desc:"DESCENDING"},RJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MJ={and:"AND",or:"OR"};class DJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xE(t,e){return t.useProto3Json||bb(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jJ(t,e){return ff(t,e.toTimestamp())}function ii(t){return He(!!t,49232),Je.fromTimestamp((function(n){const r=vo(n);return new Kt(r.seconds,r.nanos)})(t))}function kA(t,e){return wE(t,e).canonicalString()}function wE(t,e){const n=(function(i){return new zt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Uz(t){const e=zt.fromString(t);return He(Yz(e),10190,{key:e.toString()}),e}function rv(t,e){return kA(t.databaseId,e.path)}function eu(t,e){const n=Uz(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(Fz(n))}function zz(t,e){return kA(t.databaseId,e)}function Bz(t){const e=Uz(t);return e.length===4?zt.emptyPath():Fz(e)}function SE(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fz(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fM(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function OJ(t,e,n){const r=eu(t,e.name),i=ii(e.updateTime),s=e.createTime?ii(e.createTime):Je.min(),a=new Gr({mapValue:{fields:e.fields}}),l=Mn.newFoundDocument(r,i,s,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function LJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(He(h===void 0||typeof h=="string",58123),qn.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const h=d.code===void 0?_e.UNKNOWN:Oz(d.code);return new Ce(h,d.message||"")})(a);n=new $z(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eu(t,r.document.name),s=ii(r.document.updateTime),a=r.document.createTime?ii(r.document.createTime):Je.min(),l=new Gr({mapValue:{fields:r.document.fields}}),u=Mn.newFoundDocument(i,s,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ny(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eu(t,r.document),s=r.readTime?ii(r.readTime):Je.min(),a=Mn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ny([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eu(t,r.document),s=r.removedTargetIds||[];n=new Ny([],s,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new AJ(i,s),l=r.targetId;n=new Lz(l,a)}}return n}function iv(t,e){let n;if(e instanceof Rf)n={update:fM(t,e.key,e.value)};else if(e instanceof Up)n={delete:rv(t,e.key)};else if(e instanceof Mo)n={update:fM(t,e.key,e.data),updateMask:FJ(e.fieldMask)};else{if(!(e instanceof jz))return Ve(16599,{Vt:e.type});n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof ap)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof df)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof op)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ve(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:jJ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ve(27497)})(t,e.precondition)),n}function TE(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?cr.updateTime(ii(s.updateTime)):s.exists!==void 0?cr.exists(s.exists):cr.none()})(e.currentDocument):cr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,l){let u=null;if("setToServerValue"in l)He(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),u=new ap;else if("appendMissingElements"in l){const h=l.appendMissingElements.values||[];u=new hu(h)}else if("removeAllFromArray"in l){const h=l.removeAllFromArray.values||[];u=new df(h)}else"increment"in l?u=new op(a,l.increment):Ve(16584,{proto:l});const d=In.fromServerFormat(l.fieldPath);return new Rz(d,u)})(t,i))):[];if(e.update){e.update.name;const i=eu(t,e.update.name),s=new Gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const d=u.fieldPaths||[];return new wi(d.map((h=>In.fromServerFormat(h))))})(e.updateMask);return new Mo(i,s,a,n,r)}return new Rf(i,s,n,r)}if(e.delete){const i=eu(t,e.delete);return new Up(i,n)}if(e.verify){const i=eu(t,e.verify);return new jz(i,n)}return Ve(1463,{proto:e})}function $J(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?ii(i.updateTime):ii(s);return a.isEqual(Je.min())&&(a=ii(s)),new SJ(a,i.transformResults||[])})(n,e)))):[]}function qz(t,e){return{documents:[zz(t,e.path)]}}function Gz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zz(t,i);const s=(function(d){if(d.length!==0)return Wz(Wt.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((h=>(function(_){return{field:Dd(_.field),direction:UJ(_.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=xE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Hz(t){let e=Bz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=(function(p){const _=Kz(p);return _ instanceof Wt&&bA(_)?_.getFilters():[_]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((_=>(function(S){return new ev(jd(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let _;return _=typeof p=="object"?p.value:p,bb(_)?null:_})(n.limit));let u=null;n.startAt&&(u=(function(p){const _=!!p.before,v=p.values||[];return new cf(v,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const _=!p.before,v=p.values||[];return new cf(v,_)})(n.endAt)),vz(e,i,a,s,l,"F",u,d)}function VJ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jd(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jd(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jd(n.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=jd(n.unaryFilter.field);return Ct.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ct.create(jd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Wt.create(n.compositeFilter.filters.map((r=>Kz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function UJ(t){return PJ[t]}function zJ(t){return RJ[t]}function BJ(t){return MJ[t]}function Dd(t){return{fieldPath:t.canonicalString()}}function jd(t){return In.fromServerFormat(t.fieldPath)}function Wz(t){return t instanceof Ct?(function(n){if(n.op==="=="){if(JR(n.value))return{unaryFilter:{field:Dd(n.field),op:"IS_NAN"}};if(YR(n.value))return{unaryFilter:{field:Dd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JR(n.value))return{unaryFilter:{field:Dd(n.field),op:"IS_NOT_NAN"}};if(YR(n.value))return{unaryFilter:{field:Dd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dd(n.field),op:zJ(n.op),value:n.value}}})(t):t instanceof Wt?(function(n){const r=n.getFilters().map((i=>Wz(i)));return r.length===1?r[0]:{compositeFilter:{op:BJ(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function FJ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Yz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,s=Je.min(),a=Je.min(),l=qn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.yt=e}}function qJ(t,e){let n;if(e.document)n=OJ(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Oe.fromSegments(e.noDocument.path),i=pu(e.noDocument.readTime);n=Mn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ve(56709);{const r=Oe.fromSegments(e.unknownDocument.path),i=pu(e.unknownDocument.version);n=Mn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Kt(i[0],i[1]);return Je.fromTimestamp(s)})(e.readTime)),n}function hM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:rv(s,a.key),fields:a.data.value.mapValue.fields,updateTime:ff(s,a.version.toTimestamp()),createTime:ff(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mu(e.version)};else{if(!e.isUnknownDocument())return Ve(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:mu(e.version)}}return r}function sv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pu(t){const e=new Kt(t.seconds,t.nanoseconds);return Je.fromTimestamp(e)}function qc(t,e){const n=(e.baseMutations||[]).map((s=>TE(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>TE(t.yt,s))),i=Kt.fromMillis(e.localWriteTimeMs);return new SA(e.batchId,i,n,r)}function Em(t){const e=pu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?pu(t.lastLimboFreeSnapshotVersion):Je.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return He(a===1,1966,{count:a}),Wi($p(Bz(s.documents[0])))})(t.query):(function(s){return Wi(Hz(s))})(t.query),new co(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,qn.fromBase64String(t.resumeToken))}function Xz(t,e){const n=mu(e.snapshotVersion),r=mu(e.lastLimboFreeSnapshotVersion);let i;i=tv(e.target)?qz(t.yt,e.target):Gz(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Qz(t){const e=Hz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bE(e,e.limit,"L"):e}function G0(t,e){return new EA(e.largestBatchId,TE(t.yt,e.overlayMutation))}function mM(t,e){const n=e.path.lastSegment();return[t,Kr(e.path.popLast()),n]}function pM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:mu(r.readTime),documentKey:Kr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{getBundleMetadata(e,n){return gM(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:pu(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return gM(e).put((function(i){return{bundleId:i.id,createTime:mu(ii(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return _M(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:Qz(s.bundledQuery),readTime:pu(s.readTime)}})(r)}))}saveNamedQuery(e,n){return _M(e).put((function(i){return{name:i.name,readTime:mu(ii(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function gM(t){return dr(t,xb)}function _M(t){return dr(t,wb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Cb(e,r)}getOverlay(e,n){return Zh(e).get(mM(this.userId,n)).next((r=>r?G0(this.serializer,r):null))}getOverlays(e,n){const r=Sa();return ie.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const l=new EA(n,a);i.push(this.St(e,l))})),ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Kr(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Zh(e).Z(fE,l))})),ie.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Sa(),s=Kr(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Zh(e).J(fE,a).next((l=>{for(const u of l){const d=G0(this.serializer,u);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Sa();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Zh(e).ee({index:XU,range:l},((u,d,h)=>{const p=G0(this.serializer,d);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):h.done()})).next((()=>s))}St(e,n){return Zh(e).put((function(i,s,a){const[l,u,d]=mM(s,a.mutation.key);return{userId:s,collectionPath:u,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:iv(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Zh(t){return dr(t,Sb)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{bt(e){return dr(e,pA)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?qn.fromUint8Array(r):qn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(En(e.integerValue));else if("doubleValue"in e){const r=En(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=vo(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(bo(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?cz(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Eb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ve(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var a,l;const r=e.fields||{};this.Ft(n,53);const i=of,s=((l=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(En(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Oe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Gc.Kt=new Gc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=255;function KJ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function yM(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=KJ(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class WJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=yM(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=yM(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(xd),this.sn(255)}_n(){this.an(xd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===xd?(this.sn(xd),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===xd?(this.an(xd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class YJ{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class JJ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class em{constructor(){this.cn=new WJ,this.ln=new YJ(this.cn),this.hn=new JJ(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Hc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Py(this.En),directionalValue:Py(this.dn),orderedDocumentKey:Py(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function wl(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=vM(t.En,e.En),n!==0?n:(n=vM(t.dn,e.dn),n!==0?n:Oe.comparator(t.In,e.In)))}function vM(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Py(t){return FV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function bM(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class xM{constructor(e){this.mn=new Yt(((n,r)=>In.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(He(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=cE(e);if(n!==void 0&&!this.wn(n))return!1;const r=$c(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const u=r[s];if(!this.Sn(l,u)||!this.bn(this.fn[a++],u))return!1}++s}for(;s<r.length;++s){const l=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new Yt(In.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Sy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Sy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Sy(r.field,r.dir==="asc"?0:1)));return new Yy(Yy.UNKNOWN_ID,this.collectionId,n,Xm.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){var n,r;if(He(t instanceof Ct||t instanceof Wt,20012),t instanceof Ct){if(t instanceof yz){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>Ct.create(t.field,"==",s))))||[];return Wt.create(i,"or")}return t}const e=t.filters.map((i=>Zz(i)));return Wt.create(e,t.op)}function XJ(t){if(t.getFilters().length===0)return[];const e=kE(Zz(t));return He(e3(e),7391),EE(e)||AE(e)?[e]:e.getFilters()}function EE(t){return t instanceof Ct}function AE(t){return t instanceof Wt&&bA(t)}function e3(t){return EE(t)||AE(t)||(function(n){if(n instanceof Wt&&gE(n)){for(const r of n.getFilters())if(!EE(r)&&!AE(r))return!1;return!0}return!1})(t)}function kE(t){if(He(t instanceof Ct||t instanceof Wt,34018),t instanceof Ct)return t;if(t.filters.length===1)return kE(t.filters[0]);const e=t.filters.map((r=>kE(r)));let n=Wt.create(e,t.op);return n=av(n),e3(n)?n:(He(n instanceof Wt,64498),He(uf(n),40251),He(n.filters.length>1,57927),n.filters.reduce(((r,i)=>IA(r,i))))}function IA(t,e){let n;return He(t instanceof Ct||t instanceof Wt,38388),He(e instanceof Ct||e instanceof Wt,25473),n=t instanceof Ct?e instanceof Ct?(function(i,s){return Wt.create([i,s],"and")})(t,e):wM(t,e):e instanceof Ct?wM(e,t):(function(i,s){if(He(i.filters.length>0&&s.filters.length>0,48005),uf(i)&&uf(s))return pz(i,s.getFilters());const a=gE(i)?i:s,l=gE(i)?s:i,u=a.filters.map((d=>IA(d,l)));return Wt.create(u,"or")})(t,e),av(n)}function wM(t,e){if(uf(e))return pz(e,t.getFilters());{const n=e.filters.map((r=>IA(t,r)));return Wt.create(n,"or")}}function av(t){if(He(t instanceof Ct||t instanceof Wt,11850),t instanceof Ct)return t;const e=t.getFilters();if(e.length===1)return av(e[0]);if(hz(t))return t;const n=e.map((i=>av(i))),r=[];return n.forEach((i=>{i instanceof Ct?r.push(i):i instanceof Wt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Wt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(){this.Cn=new CA}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ji.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class CA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(zt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="IndexedDbIndexManager",G_=new Uint8Array(0);class ZJ{constructor(e,n){this.databaseId=n,this.vn=new CA,this.Fn=new Ro((r=>fu(r)),((r,i)=>Op(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:Kr(i)};return TM(e).put(s)}return ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[LU(n),""],!1,!0);return TM(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(wa(a.parent))}return r}))}addFieldIndex(e,n){const r=tm(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Sd(e);return s.next((l=>{a.put(pM(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=tm(e),i=Sd(e),s=wd(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=tm(e),r=wd(e),i=Sd(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return ie.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new xM(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=wd(e);let i=!0;const s=new Map;return ie.forEach(this.Mn(n),(a=>this.xn(e,a).next((l=>{i&&(i=!!l),s.set(a,l)})))).next((()=>{if(i){let a=yt();const l=[];return ie.forEach(s,((u,d)=>{Se(SM,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(u)} to execute ${fu(n)}`);const h=(function(M,B){const V=cE(B);if(V===void 0)return null;for(const N of nv(M,V.fieldPath))switch(N.op){case"array-contains-any":return N.value.arrayValue.values||[];case"array-contains":return[N.value]}return null})(d,u),p=(function(M,B){const V=new Map;for(const N of $c(B))for(const P of nv(M,N.fieldPath))switch(P.op){case"==":case"in":V.set(N.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return V.set(N.fieldPath.canonicalString(),P.value),Array.from(V.values())}return null})(d,u),_=(function(M,B){const V=[];let N=!0;for(const P of $c(B)){const O=P.kind===0?tM(M,P.fieldPath,M.startAt):nM(M,P.fieldPath,M.startAt);V.push(O.value),N&&(N=O.inclusive)}return new cf(V,N)})(d,u),v=(function(M,B){const V=[];let N=!0;for(const P of $c(B)){const O=P.kind===0?nM(M,P.fieldPath,M.endAt):tM(M,P.fieldPath,M.endAt);V.push(O.value),N&&(N=O.inclusive)}return new cf(V,N)})(d,u),S=this.On(u,d,_),E=this.On(u,d,v),A=this.Nn(u,d,p),I=this.Bn(u.indexId,h,S,_.inclusive,E,v.inclusive,A);return ie.forEach(I,(j=>r.Y(j,n.limit).next((M=>{M.forEach((B=>{const V=Oe.fromSegments(B.documentKey);a.has(V)||(a=a.add(V),l.push(V))}))}))))})).next((()=>l))}return ie.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=XJ(Wt.create(e.filters,"and")).map((r=>yE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,l){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),d=u/(n!=null?n.length:1),h=[];for(let p=0;p<u;++p){const _=n?this.Ln(n[p/d]):G_,v=this.kn(e,_,r[p%d],i),S=this.qn(e,_,s[p%d],a),E=l.map((A=>this.kn(e,_,A,!0)));h.push(...this.createRange(v,S,E))}return h}kn(e,n,r,i){const s=new Hc(e,Oe.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Hc(e,Oe.empty(),n,r);return i?s.An():s}xn(e,n){const r=new xM(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const l of s)r.yn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return ie.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(u){let d=new Yt(In.comparator),h=!1;for(const p of u.filters)for(const _ of p.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?h=!0:d=d.add(_.field));for(const p of u.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(h?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new em;for(const i of $c(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);Gc.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new em;return Gc.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new em;return Gc.Kt.Dt(ip(this.databaseId,n),r.Pn((function(s){const a=$c(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new em);let s=0;for(const a of $c(e)){const l=r[s++];for(const u of i)if(this.Un(n,a.fieldPath)&&sp(l))i=this.Kn(i,a,l);else{const d=u.Pn(a.kind);Gc.Kt.Dt(l,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const l of i){const u=new em;u.seed(l.un()),Gc.Kt.Dt(a,u.Pn(n.kind)),s.push(u)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof Ct&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=tm(e),i=Sd(e);return(n?r.J(dE,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return ie.forEach(s,(l=>i.get([l.indexId,this.uid]).next((u=>{a.push((function(h,p){const _=p?new Xm(p.sequenceNumber,new Ji(pu(p.readTime),new Oe(wa(p.documentKey)),p.largestBatchId)):Xm.empty(),v=h.fields.map((([S,E])=>new Sy(In.fromServerFormat(S),E)));return new Yy(h.indexId,h.collectionGroup,v,_)})(l,u))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:it(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=tm(e),s=Sd(e);return this.Gn(e).next((a=>i.J(dE,IDBKeyRange.bound(n,n)).next((l=>ie.forEach(l,(u=>s.put(pM(u.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ie.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ie.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),ie.forEach(l,(u=>this.zn(e,i,u).next((d=>{const h=this.jn(s,u);return d.isEqual(h)?ie.resolve():this.Jn(e,s,u,d,h)})))))))}))}Hn(e,n,r,i){return wd(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return wd(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=wd(e);let s=new Yt(wl);return i.ee({index:JU,range:IDBKeyRange.only([r.indexId,this.uid,Py(this.$n(r,n))])},((a,l)=>{s=s.add(new Hc(r.indexId,n,bM(l.arrayValue),bM(l.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Yt(wl);const i=this.Qn(n,e);if(i==null)return r;const s=cE(n);if(s!=null){const a=e.data.field(s.fieldPath);if(sp(a))for(const l of a.arrayValue.values||[])r=r.add(new Hc(n.indexId,e.key,this.Ln(l),i))}else r=r.add(new Hc(n.indexId,e.key,G_,i));return r}Jn(e,n,r,i,s){Se(SM,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,d,h,p,_){const v=u.getIterator(),S=d.getIterator();let E=bd(v),A=bd(S);for(;E||A;){let I=!1,j=!1;if(E&&A){const M=h(E,A);M<0?j=!0:M>0&&(I=!0)}else E!=null?j=!0:I=!0;I?(p(A),A=bd(S)):j?(_(E),E=bd(v)):(E=bd(v),A=bd(S))}})(i,s,wl,(l=>{a.push(this.Hn(e,n,r,l))}),(l=>{a.push(this.Yn(e,n,r,l))})),ie.waitFor(a)}Gn(e){let n=1;return Sd(e).ee({index:YU,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,l)=>wl(a,l))).filter(((a,l,u)=>!l||wl(a,u[l-1])!==0));const i=[];i.push(e);for(const a of r){const l=wl(a,e),u=wl(a,n);if(l===0)i[0]=e.An();else if(l>0&&u<0)i.push(a),i.push(a.An());else if(u>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const l=i[a].Vn(this.uid,G_,Oe.empty()),u=i[a+1].Vn(this.uid,G_,Oe.empty());s.push(IDBKeyRange.bound(l,u))}return s}Zn(e,n){return wl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(EM)}getMinOffset(e,n){return ie.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ve(44426))))).next(EM)}}function TM(t){return dr(t,tp)}function wd(t){return dr(t,Dm)}function tm(t){return dr(t,mA)}function Sd(t){return dr(t,Mm)}function EM(t){He(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;dA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ji(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t3=41943040;class Fr{static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e,n){const r=t.store(Bs),i=t.store(nf),s=[],a=IDBKeyRange.only(n.batchId);let l=0;const u=r.ee({range:a},((h,p,_)=>(l++,_.delete())));s.push(u.next((()=>{He(l===1,47070,{batchId:n.batchId})})));const d=[];for(const h of n.mutations){const p=HU(e,h.key.path,n.batchId);s.push(i.delete(p)),d.push(h.key)}return ie.waitFor(s).next((()=>d))}function ov(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ve(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(t3,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class Nb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){He(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Nb(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).ee({index:Kc,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Od(e),a=Sl(e);return a.add({}).next((l=>{He(typeof l=="number",49019);const u=new SA(l,n,r,i),d=(function(v,S,E){const A=E.baseMutations.map((j=>iv(v.yt,j))),I=E.mutations.map((j=>iv(v.yt,j)));return{userId:S,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:A,mutations:I}})(this.serializer,this.userId,u),h=[];let p=new Yt(((_,v)=>it(_.canonicalString(),v.canonicalString())));for(const _ of i){const v=HU(this.userId,_.key.path,l);p=p.add(_.key.path.popLast()),h.push(a.put(d)),h.push(s.put(v,PY))}return p.forEach((_=>{h.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[l]=u.keys()})),ie.waitFor(h).next((()=>u))}))}lookupMutationBatch(e,n){return Sl(e).get(n).next((r=>r?(He(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),qc(this.serializer,r)):null))}er(e,n){return this.Xn[n]?ie.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Sl(e).ee({index:Kc,range:i},((a,l,u)=>{l.userId===this.userId&&(He(l.batchId>=r,47524,{tr:r}),s=qc(this.serializer,l)),u.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Qc;return Sl(e).ee({index:Kc,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Qc],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).J(Kc,n).next((r=>r.map((i=>qc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ty(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Od(e).ee({range:i},((a,l,u)=>{const[d,h,p]=a,_=wa(h);if(d===this.userId&&n.path.isEqual(_))return Sl(e).get(p).next((v=>{if(!v)throw Ve(61480,{nr:a,batchId:p});He(v.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:v.userId,batchId:p}),s.push(qc(this.serializer,v))}));u.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(it);const i=[];return n.forEach((s=>{const a=Ty(this.userId,s.path),l=IDBKeyRange.lowerBound(a),u=Od(e).ee({range:l},((d,h,p)=>{const[_,v,S]=d,E=wa(v);_===this.userId&&s.path.isEqual(E)?r=r.add(S):p.done()}));i.push(u)})),ie.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Ty(this.userId,r),a=IDBKeyRange.lowerBound(s);let l=new Yt(it);return Od(e).ee({range:a},((u,d,h)=>{const[p,_,v]=u,S=wa(_);p===this.userId&&r.isPrefixOf(S)?S.length===i&&(l=l.add(v)):h.done()})).next((()=>this.rr(e,l)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Sl(e).get(s).next((a=>{if(a===null)throw Ve(35274,{batchId:s});He(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(qc(this.serializer,a))})))})),ie.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return n3(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),ie.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ie.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Od(e).ee({range:r},((s,a,l)=>{if(s[0]===this.userId){const u=wa(s[1]);i.push(u)}else l.done()})).next((()=>{He(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return r3(e,this.userId,n)}_r(e){return i3(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Qc,lastStreamToken:""}))}}function r3(t,e,n){const r=Ty(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Od(t).ee({range:s,X:!0},((l,u,d)=>{const[h,p,_]=l;h===e&&p===i&&(a=!0),d.done()})).next((()=>a))}function Sl(t){return dr(t,Bs)}function Od(t){return dr(t,nf)}function i3(t){return dr(t,Zm)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gu(0)}static cr(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new gu(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Je.fromTimestamp(new Kt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Td(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(He(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Td(e).ee(((a,l)=>{const u=Em(l);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))})).next((()=>ie.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Td(e).ee(((r,i)=>{const s=Em(i);n(s)}))}lr(e){return kM(e).get(Qy).next((n=>(He(n!==null,2888),n)))}hr(e,n){return kM(e).put(Qy,n)}Pr(e,n){return Td(e).put(Xz(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=fu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Td(e).ee({range:i,index:WU},((a,l,u)=>{const d=Em(l);Op(n,d.target)&&(s=d,u.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Ml(e);return n.forEach((a=>{const l=Kr(a.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,a))})),ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ml(e);return ie.forEach(n,(s=>{const a=Kr(s.path);return ie.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Ml(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ml(e);let s=yt();return i.ee({range:r,X:!0},((a,l,u)=>{const d=wa(a[1]),h=new Oe(d);s=s.add(h)})).next((()=>s))}containsKey(e,n){const r=Kr(n.path),i=IDBKeyRange.bound([r],[LU(r)],!1,!0);let s=0;return Ml(e).ee({index:hA,X:!0,range:i},(([a,l],u,d)=>{a!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return Td(e).get(n).next((r=>r?Em(r):null))}}function Td(t){return dr(t,rf)}function kM(t){return dr(t,Zc)}function Ml(t){return dr(t,sf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="LruGarbageCollector",s3=1048576;function CM([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class tX{constructor(e){this.Ir=e,this.buffer=new Yt(CM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(IM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nc(n)?Se(IM,"Ignoring IndexedDB error during garbage collection: ",n):await tc(n)}await this.Vr(3e5)}))}}class nX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(xi.ce);const r=new tX(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(AM)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AM):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),Rd()<=It.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function o3(t,e){return new nX(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n){this.db=e,this.garbageCollector=o3(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return H_(e,r)}removeReference(e,n,r){return H_(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return H_(e,n)}br(e,n){return(function(i,s){let a=!1;return i3(i).te((l=>r3(i,l,s).next((u=>(u&&(a=!0),ie.resolve(!u)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,l)=>{if(l<=n){const u=this.br(e,a).next((d=>{if(!d)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Je.min()),Ml(e).delete((function(p){return[0,Kr(p.path)]})(a)))))}));i.push(u)}})).next((()=>ie.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return H_(e,n)}Sr(e,n){const r=Ml(e);let i,s=xi.ce;return r.ee({index:hA},(([a,l],{path:u,sequenceNumber:d})=>{a===0?(s!==xi.ce&&n(new Oe(wa(i)),s),s=d,i=u):s=xi.ce})).next((()=>{s!==xi.ce&&n(new Oe(wa(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function H_(t,e){return Ml(t).put((function(r,i){return{targetId:0,path:Kr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.changes=new Ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return jc(e).put(r)}removeEntry(e,n,r){return jc(e).delete((function(s,a){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],sv(a),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mn.newInvalidDocument(n);return jc(e).ee({index:Ey,range:IDBKeyRange.only(nm(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:Mn.newInvalidDocument(n)};return jc(e).ee({index:Ey,range:IDBKeyRange.only(nm(n))},((i,s)=>{r={document:this.Cr(n,s),size:ov(s)}})).next((()=>r))}getEntries(e,n){let r=Gi();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=Gi(),i=new dn(Oe.comparator);return this.Fr(e,n,((s,a)=>{const l=this.Cr(s,a);r=r.insert(s,l),i=i.insert(s,ov(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return ie.resolve();let i=new Yt(RM);n.forEach((u=>i=i.add(u)));const s=IDBKeyRange.bound(nm(i.first()),nm(i.last())),a=i.getIterator();let l=a.getNext();return jc(e).ee({index:Ey,range:s},((u,d,h)=>{const p=Oe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&RM(l,p)<0;)r(l,null),l=a.getNext();l&&l.isEqual(p)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?h.j(nm(l)):h.done()})).next((()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),sv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jc(e).J(IDBKeyRange.bound(l,u,!0)).next((d=>{s==null||s.incrementDocumentReadCount(d.length);let h=Gi();for(const p of d){const _=this.Cr(Oe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);_.isFoundDocument()&&(Vp(n,_)||i.has(_.key))&&(h=h.insert(_.key,_))}return h}))}getAllFromCollectionGroup(e,n,r,i){let s=Gi();const a=PM(n,r),l=PM(n,Ji.max());return jc(e).ee({index:KU,range:IDBKeyRange.bound(a,l,!0)},((u,d,h)=>{const p=this.Cr(Oe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(p.key,p),s.size===i&&h.done()})).next((()=>s))}newChangeBuffer(e){return new sX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return NM(e).get(uE).next((n=>(He(!!n,20021),n)))}Dr(e,n){return NM(e).put(uE,n)}Cr(e,n){if(n){const r=qJ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Je.min())))return r}return Mn.newInvalidDocument(e)}}function c3(t){return new iX(t)}class sX extends l3{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ro((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Yt(((s,a)=>it(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const l=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,l.readTime)),a.isValidDocument()){const u=hM(this.Nr.serializer,a);i=i.add(s.path.popLast());const d=ov(u);r+=d-l.size,n.push(this.Nr.addEntry(e,s,u))}else if(r-=l.size,this.trackRemovals){const u=hM(this.Nr.serializer,a.convertToNoDocument(Je.min()));n.push(this.Nr.addEntry(e,s,u))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),ie.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function NM(t){return dr(t,ep)}function jc(t){return dr(t,Xy)}function nm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PM(t,e){const n=e.documentKey.path.toArray();return[t,sv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=it(n[s],r[s]),i)return i;return i=it(n.length,r.length),i||(i=it(n[n.length-2],r[r.length-2]),i||it(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&$m(r.mutation,i,wi.empty(),Kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yt()){const i=Sa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=Sm();return s.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=Gi();const a=Lm(),l=(function(){return Lm()})();return n.forEach(((u,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Mo)?s=s.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),$m(h.mutation,d,h.mutation.getFieldMask(),Kt.now())):a.set(d.key,wi.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,h)=>a.set(d,h))),n.forEach(((d,h)=>l.set(d,new aX(h,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Lm();let i=new dn(((a,l)=>a-l)),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||wi.empty();h=l.applyToLocalView(d,h),r.set(u,h);const p=(i.get(l.batchId)||yt()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,p=Az();h.forEach((_=>{if(!s.has(_)){const v=Mz(n.get(_),r.get(_));v!==null&&p.set(_,v),s=s.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return ie.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ie.resolve(Sa());let l=tf,u=s;return a.next((d=>ie.forEach(d,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(h)?ie.resolve():this.remoteDocumentCache.getEntry(e,h).next((_=>{u=u.insert(h,_)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,yt()))).next((h=>({batchId:l,changes:Ez(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next((r=>{let i=Sm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Sm();return this.indexManager.getCollectionParents(e,s).next((l=>ie.forEach(l,(u=>{const d=(function(p,_){return new Lp(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((p,_)=>{a=a.insert(p,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((u,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Mn.newInvalidDocument(h)))}));let l=Sm();return a.forEach(((u,d)=>{const h=s.get(u);h!==void 0&&$m(h.mutation,d,wi.empty(),Kt.now()),Vp(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Qz(i.bundledQuery),readTime:ii(i.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.overlays=new dn(Oe.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return ie.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Sa(),s=n.length+1,a=new Oe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dn(((d,h)=>d-h));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=Sa(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Sa(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,h)=>l.set(d,h))),!(l.size()>=i)););return ie.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new EA(n,r));let s=this.qr.get(n);s===void 0&&(s=yt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.Qr=new Yt(br.$r),this.Ur=new Yt(br.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new br(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new br(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Oe(new zt([])),r=new br(n,e),i=new br(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Oe(new zt([])),r=new br(n,e),i=new br(n,e+1);let s=yt();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new br(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class br{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Oe.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(br.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new SA(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new br(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ie.resolve(a)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Qc:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new br(n,0),i=new br(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const l=this.Xr(a.Yr);s.push(l)})),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(it);return n.forEach((i=>{const s=new br(i,0),a=new br(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(l=>{r=r.add(l.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Oe.isDocumentKey(s)||(s=s.child(""));const a=new br(new Oe(s),0);let l=new Yt(it);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),a),ie.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(i=>{const s=new br(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new br(n,0),i=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.ri=e,this.docs=(function(){return new dn(Oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mn.newInvalidDocument(i))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gi();const a=n.path,l=new Oe(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||dA(zU(h),r)<=0||(i.has(h.key)||Vp(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fX(this)}getSize(e){return ie.resolve(this.size)}}class fX extends l3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.persistence=e,this.si=new Ro((n=>fu(n)),Op),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new NA,this.targetCount=0,this.ai=gu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),ie.waitFor(s).next((()=>i))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ie.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.ui={},this.overlays={},this.ci=new xi(0),this.li=!1,this.li=!0,this.hi=new cX,this.referenceDelegate=e(this),this.Pi=new hX(this),this.indexManager=new QJ,this.remoteDocumentCache=(function(i){return new dX(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Jz(n),this.Ii=new oX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uX(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new mX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class mX extends FU{constructor(e){super(),this.currentSequenceNumber=e}}class Pb{constructor(e){this.persistence=e,this.Ri=new NA,this.Vi=null}static mi(e){return new Pb(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const i=Oe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lv{constructor(e,n){this.persistence=e,this.pi=new Ro((r=>Kr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=o3(this,n)}static mi(e,n){return new lv(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ie.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Je.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ky(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e){this.serializer=e}k(e,n,r,i){const s=new vb("createOrUpgrade",n);r<1&&i>=1&&((function(u){u.createObjectStore(jp)})(e),(function(u){u.createObjectStore(Zm,{keyPath:NY}),u.createObjectStore(Bs,{keyPath:FR,autoIncrement:!0}).createIndex(Kc,qR,{unique:!0}),u.createObjectStore(nf)})(e),MM(e),(function(u){u.createObjectStore(Vc)})(e));let a=ie.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(sf),u.deleteObjectStore(rf),u.deleteObjectStore(Zc)})(e),MM(e)),a=a.next((()=>(function(u){const d=u.store(Zc),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Je.min().toTimestamp(),targetCount:0};return d.put(Qy,h)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(u,d){return d.store(Bs).J().next((p=>{u.deleteObjectStore(Bs),u.createObjectStore(Bs,{keyPath:FR,autoIncrement:!0}).createIndex(Kc,qR,{unique:!0});const _=d.store(Bs),v=p.map((S=>_.put(S)));return ie.waitFor(v)}))})(e,s)))),a=a.next((()=>{(function(u){u.createObjectStore(af,{keyPath:VY})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(u){u.createObjectStore(ep)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(xb,{keyPath:UY})})(e),(function(u){u.createObjectStore(wb,{keyPath:zY})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(u){const d=u.createObjectStore(Sb,{keyPath:WY});d.createIndex(fE,YY,{unique:!1}),d.createIndex(XU,JY,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(u){const d=u.createObjectStore(Xy,{keyPath:RY});d.createIndex(Ey,MY),d.createIndex(KU,DY)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Vc)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(u){u.createObjectStore(mA,{keyPath:BY,autoIncrement:!0}).createIndex(dE,FY,{unique:!1}),u.createObjectStore(Mm,{keyPath:qY}).createIndex(YU,GY,{unique:!1}),u.createObjectStore(Dm,{keyPath:HY}).createIndex(JU,KY,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(Mm).clear()})).next((()=>{n.objectStore(Dm).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(pA,{keyPath:XY})})(e)}))),r<18&&i>=18&&FV()&&(a=a.next((()=>{n.objectStore(Mm).clear()})).next((()=>{n.objectStore(Dm).clear()}))),a}wi(e){let n=0;return e.store(Vc).ee(((r,i)=>{n+=ov(i)})).next((()=>{const r={byteSize:n};return e.store(ep).put(uE,r)}))}yi(e){const n=e.store(Zm),r=e.store(Bs);return n.J().next((i=>ie.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Qc],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Kc,a).next((l=>ie.forEach(l,(u=>{He(u.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const d=qc(this.serializer,u);return n3(e,s.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(sf),r=e.store(Vc);return e.store(Zc).get(Qy).next((i=>{const s=[];return r.ee(((a,l)=>{const u=new zt(a),d=(function(p){return[0,Kr(p)]})(u);s.push(n.get(d).next((h=>h?ie.resolve():(p=>n.put({targetId:0,path:Kr(p),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>ie.waitFor(s)))}))}bi(e,n){e.createObjectStore(tp,{keyPath:$Y});const r=n.store(tp),i=new CA,s=a=>{if(i.add(a)){const l=a.lastSegment(),u=a.popLast();return r.put({collectionId:l,parent:Kr(u)})}};return n.store(Vc).ee({X:!0},((a,l)=>{const u=new zt(a);return s(u.popLast())})).next((()=>n.store(nf).ee({X:!0},(([a,l,u],d)=>{const h=wa(l);return s(h.popLast())}))))}Di(e){const n=e.store(rf);return n.ee(((r,i)=>{const s=Em(i),a=Xz(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(Vc),i=[];return r.ee(((s,a)=>{const l=n.store(Xy),u=(function(p){return p.document?new Oe(zt.fromString(p.document.name).popFirst(5)):p.noDocument?Oe.fromSegments(p.noDocument.path):p.unknownDocument?Oe.fromSegments(p.unknownDocument.path):Ve(36783)})(a).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(l.put(d))})).next((()=>ie.waitFor(i)))}Fi(e,n){const r=n.store(Bs),i=c3(this.serializer),s=new PA(Pb.mi,this.serializer.yt);return r.J().next((a=>{const l=new Map;return a.forEach((u=>{let d=l.get(u.userId)??yt();qc(this.serializer,u).keys().forEach((h=>d=d.add(h))),l.set(u.userId,d)})),ie.forEach(l,((u,d)=>{const h=new Br(d),p=Cb.wt(this.serializer,h),_=s.getIndexManager(h),v=Nb.wt(h,this.serializer,_,s.referenceDelegate);return new u3(i,v,p,_).recalculateAndSaveOverlaysForDocumentKeys(new hE(n,xi.ce),u).next()}))}))}}function MM(t){t.createObjectStore(sf,{keyPath:OY}).createIndex(hA,LY,{unique:!0}),t.createObjectStore(rf,{keyPath:"targetId"}).createIndex(WU,jY,{unique:!0}),t.createObjectStore(Zc)}const Tl="IndexedDbPersistence",H0=18e5,K0=5e3,W0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gX="main";class RA{constructor(e,n,r,i,s,a,l,u,d,h,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=l,this.xi=d,this.Oi=h,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!RA.v())throw new Ce(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rX(this,i),this.$i=n+gX,this.serializer=new Jz(u),this.Ui=new Bl(this.$i,this.Ni,new pX(this.serializer)),this.hi=new HJ,this.Pi=new eX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=c3(this.serializer),this.Ii=new GJ,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&Fn(Tl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(_e.FAILED_PRECONDITION,W0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new xi(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>K_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(nc(e))return Se(Tl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Se(Tl,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return rm(e).get(vd).next((n=>ie.resolve(this.es(n))))}ts(e){return K_(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,H0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=dr(n,af);return r.J().next((i=>{const s=this.ss(i,H0),a=i.filter((l=>s.indexOf(l)===-1));return ie.forEach(a,(l=>r.delete(l.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ie.resolve(!0):rm(e).get(vd).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,K0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ce(_e.FAILED_PRECONDITION,W0);return!1}}return!(!this.networkEnabled||!this.inForeground)||K_(e).J().next((r=>this.ss(r,K0).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||a&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Se(Tl,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[jp,af],(e=>{const n=new hE(e,xi.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>K_(e).J().next((n=>this.ss(n,H0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Nb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZJ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Cb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){Se(Tl,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(u){return u===18?eJ:u===17?tz:u===16?ZY:u===15?gA:u===14?ez:u===13?ZU:u===12?QY:u===11?QU:void Ve(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(l=>(a=new hE(l,this.ci?this.ci.next():xi.ce),n==="readwrite-primary"?this.Hi(a).next((u=>!!u||this.Yi(a))).next((u=>{if(!u)throw Fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ce(_e.FAILED_PRECONDITION,BU);return r(a)})).next((u=>this.Xi(a).next((()=>u)))):this.Is(a).next((()=>r(a)))))).then((l=>(a.raiseOnCommittedEvent(),l)))}Is(e){return rm(e).get(vd).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,K0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ce(_e.FAILED_PRECONDITION,W0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rm(e).put(vd,n)}static v(){return Bl.v()}Zi(e){const n=rm(e);return n.get(vd).next((r=>this.es(r)?(Se(Tl,"Releasing primary lease."),n.delete(vd)):ie.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Fn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;BV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return Se(Tl,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fn(Tl,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Fn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rm(t){return dr(t,jp)}function K_(t){return dr(t,af)}function d3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yt(),i=yt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new MA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BV()?8:qU(ur())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new _X;return this.Ss(e,n,a).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Rd()<=It.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Md(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Rd()<=It.DEBUG&&Se("QueryEngine","Query:",Md(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Rd()<=It.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Md(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):ie.resolve())}ys(e,n){if(rM(n))return ie.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=bE(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=yt(...s);return this.ps.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,a,u.readTime)?this.ys(e,bE(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return rM(n)||i.isEqual(Je.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ie.resolve(null):(Rd()<=It.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Md(n)),this.vs(e,a,n,UU(i,tf)).next((l=>l)))}))}Ds(e,n){let r=new Yt(Sz(e));return n.forEach(((i,s)=>{Vp(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Rd()<=It.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Md(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="LocalStore",yX=3e8;class vX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new dn(it),this.xs=new Ro((s=>fu(s)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function h3(t,e,n,r){return new vX(t,e,n,r)}async function m3(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let u=yt();for(const d of i){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of s){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function bX(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,h){const p=d.batch,_=p.keys();let v=ie.resolve();return _.forEach((S=>{v=v.next((()=>h.getEntry(u,S))).next((E=>{const A=d.docVersions.get(S);He(A!==null,48541),E.version.compareTo(A)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=yt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function p3(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xX(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((h,p)=>{const _=i.get(p);if(!_)return;l.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,h.addedDocuments,p))));let v=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(qn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(E,A,I){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=yX?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(_,v,h)&&l.push(n.Pi.updateTargetData(s,v))}));let u=Gi(),d=yt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))})),l.push(wX(s,a,e.documentUpdates).next((h=>{u=h.ks,d=h.qs}))),!r.isEqual(Je.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(h)}return ie.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(n.Ms=i,s)))}function wX(t,e,n){let r=yt(),i=yt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Gi();return n.forEach(((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Je.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Se(DA,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:a,qs:i}}))}function SX(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function cv(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ie.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new co(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hf(t,e,n){const r=Be(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!nc(a))throw a;Se(DA,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function IE(t,e,n){const r=Be(t);let i=Je.min(),s=yt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,h){const p=Be(u),_=p.xs.get(h);return _!==void 0?ie.resolve(p.Ms.get(_)):p.Pi.getTargetData(d,h)})(r,a,Wi(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Je.min(),n?s:yt()))).next((l=>(y3(r,wz(e),l),{documents:l,Qs:s})))))}function g3(t,e){const n=Be(t),r=Be(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function _3(t,e){const n=Be(t),r=n.Os.get(e)||Je.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,UU(r,tf),Number.MAX_SAFE_INTEGER))).then((i=>(y3(n,e,i),i)))}function y3(t,e,n){let r=t.Os.get(e)||Je.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firestore_clients";function DM(t,e){return`${v3}_${t}_${e}`}const b3="firestore_mutations";function jM(t,e,n){let r=`${b3}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const x3="firestore_targets";function Y0(t,e){return`${x3}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="SharedClientState";class uv{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Ce(i.error.code,i.error.message))),a?new uv(e,n,i.state,s):(Fn(ba,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vm{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ce(r.error.code,r.error.message))),s?new Vm(e,r.state,i):(Fn(ba,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=xA();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=GU(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new dv(e,s):(Fn(ba,`Failed to parse client data for instance '${e}': ${n}`),null)}}class jA{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new jA(n.clientId,n.onlineState):(Fn(ba,`Failed to parse online state: ${e}`),null)}}class CE{constructor(){this.activeTargetIds=xA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J0{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new dn(it),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=DM(this.persistenceKey,this.Js),this.no=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new CE),this.ro=new RegExp(`^${v3}_${a}_([^_]*)$`),this.io=new RegExp(`^${b3}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${x3}_${a}_(\\d+)$`),this.oo=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this._o=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(DM(this.persistenceKey,r));if(i){const s=dv.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Y0(this.persistenceKey,e));if(i){const s=Vm.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Y0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Se(ba,"READ",e,n),n}setItem(e,n){Se(ba,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){Se(ba,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(Se(ba,"EVENT",n.key,n.newValue),n.key===this.eo)return void Fn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let a=xi.ce;if(s!=null)try{const l=JSON.parse(s);He(typeof l=="number",30636,{So:s}),a=l}catch(l){Fn(ba,"Failed to read sequence number from WebStorage",l)}return a})(n.newValue);r!==xi.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new uv(this.currentUser,e,n,r),s=jM(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=jM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=Y0(this.persistenceKey,e),s=new Vm(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return dv.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return uv.Ws(new Br(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Vm.Ws(i,n)}uo(e){return jA.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);Se(ba,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],l=[];return s.forEach((u=>{i.has(u)||a.push(u)})),i.forEach((u=>{s.has(u)||l.push(u)})),this.syncEngine.Fo(a,l).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=xA();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class w3{constructor(){this.Mo=new CE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="ConnectivityMonitor";class LM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(OM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(OM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_=null;function NE(){return W_===null?W_=(function(){return 268435456+Math.round(2147483648*Math.random())})():W_++,"0x"+W_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="RestConnection",EX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Zy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=NE(),l=this.zo(e,n.toUriEncodedString());Se(X0,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:d}=new URL(l),h=$a(d);return this.Jo(e,l,u,r,h).then((p=>(Se(X0,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Jm(X0,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=EX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class IX extends AX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=NE();return new Promise(((l,u)=>{const d=new PU;d.setWithCredentials(!0),d.listenOnce(RU.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case wy.NO_ERROR:const p=d.getResponseJson();Se(Ur,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case wy.TIMEOUT:Se(Ur,`RPC '${e}' ${a} timed out`),u(new Ce(_e.DEADLINE_EXCEEDED,"Request time out"));break;case wy.HTTP_ERROR:const _=d.getStatus();if(Se(Ur,`RPC '${e}' ${a} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v==null?void 0:v.error;if(S&&S.status&&S.message){const E=(function(I){const j=I.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(j)>=0?j:_e.UNKNOWN})(S.status);u(new Ce(E,S.message))}else u(new Ce(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Ce(_e.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Se(Ur,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Se(Ur,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=NE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jU(),l=DU(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");Se(Ur,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=a.createWebChannel(h,u);this.I_(p);let _=!1,v=!1;const S=new kX({Yo:A=>{v?Se(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(_||(Se(Ur,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),Se(Ur,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Zo:()=>p.close()}),E=(A,I,j)=>{A.listen(I,(M=>{try{j(M)}catch(B){setTimeout((()=>{throw B}),0)}}))};return E(p,wm.EventType.OPEN,(()=>{v||(Se(Ur,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(p,wm.EventType.CLOSE,(()=>{v||(v=!0,Se(Ur,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))})),E(p,wm.EventType.ERROR,(A=>{v||(v=!0,Jm(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Ce(_e.UNAVAILABLE,"The operation could not be completed")))})),E(p,wm.EventType.MESSAGE,(A=>{var I;if(!v){const j=A.data[0];He(!!j,16349);const M=j,B=(M==null?void 0:M.error)||((I=M[0])==null?void 0:I.error);if(B){Se(Ur,`RPC '${e}' stream ${i} received error:`,B);const V=B.status;let N=(function(D){const z=Zn[D];if(z!==void 0)return Oz(z)})(V),P=B.message;N===void 0&&(N=_e.INTERNAL,P="Unknown error status: "+V+" with message "+B.message),v=!0,S.a_(new Ce(N,P)),p.close()}else Se(Ur,`RPC '${e}' stream ${i} received:`,j),S.u_(j)}})),E(l,MU.STAT_EVENT,(A=>{A.stat===oE.PROXY?Se(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===oE.NOPROXY&&Se(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(){return typeof window<"u"?window:null}function Ry(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){return new DJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="PersistentStream";class E3{constructor(e,n,r,i,s,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ce(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se($M,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Se($M,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CX extends E3{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LJ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Je.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Je.min():a.readTime?ii(a.readTime):Je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=SE(this.serializer),n.addTarget=(function(s,a){let l;const u=a.target;if(l=tv(u)?{documents:qz(s,u)}:{query:Gz(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Vz(s,a.resumeToken);const d=xE(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Je.min())>0){l.readTime=ff(s,a.snapshotVersion.toTimestamp());const d=xE(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=VJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=SE(this.serializer),n.removeTarget=e,this.q_(n)}}class NX extends E3{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$J(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=SE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>iv(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{}class RX extends PX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,wE(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(_e.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(e,wE(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(_e.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fn(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="RemoteStore";class DX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Au(this)&&(Se(_u,"Restarting streams for network reachability change."),await(async function(u){const d=Be(u);d.Ea.add(4),await Fp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Mb(d)})(this))}))})),this.Ra=new MX(r,i)}}async function Mb(t){if(Au(t))for(const e of t.da)await e(!0)}async function Fp(t){for(const e of t.da)await e(!1)}function Db(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$A(n)?LA(n):Df(n).O_()&&OA(n,e))}function mf(t,e){const n=Be(t),r=Df(n);n.Ia.delete(e),r.O_()&&A3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Au(n)&&n.Ra.set("Unknown"))}function OA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Df(t).Y_(e)}function A3(t,e){t.Va.Ue(e),Df(t).Z_(e)}function LA(t){t.Va=new NJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Df(t).start(),t.Ra.ua()}function $A(t){return Au(t)&&!Df(t).x_()&&t.Ia.size>0}function Au(t){return Be(t).Ea.size===0}function k3(t){t.Va=void 0}async function jX(t){t.Ra.set("Online")}async function OX(t){t.Ia.forEach(((e,n)=>{OA(t,e)}))}async function LX(t,e){k3(t),$A(t)?(t.Ra.ha(e),LA(t)):t.Ra.set("Unknown")}async function $X(t,e,n){if(t.Ra.set("Online"),e instanceof $z&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Se(_u,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fv(t,r)}else if(e instanceof Ny?t.Va.Ze(e):e instanceof Lz?t.Va.st(e):t.Va.tt(e),!n.isEqual(Je.min()))try{const r=await p3(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,d)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(qn.EMPTY_BYTE_STRING,h.snapshotVersion)),A3(s,u);const p=new co(h.target,u,d,h.sequenceNumber);OA(s,p)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Se(_u,"Failed to raise snapshot:",r),await fv(t,r)}}async function fv(t,e,n){if(!nc(e))throw e;t.Ea.add(1),await Fp(t),t.Ra.set("Offline"),n||(n=()=>p3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(_u,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mb(t)}))}function I3(t,e){return e().catch((n=>fv(t,n,e)))}async function Mf(t){const e=Be(t),n=Jl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qc;for(;VX(e);)try{const i=await SX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UX(e,i)}catch(i){await fv(e,i)}C3(e)&&N3(e)}function VX(t){return Au(t)&&t.Ta.length<10}function UX(t,e){t.Ta.push(e);const n=Jl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function C3(t){return Au(t)&&!Jl(t).x_()&&t.Ta.length>0}function N3(t){Jl(t).start()}async function zX(t){Jl(t).ra()}async function BX(t){const e=Jl(t);for(const n of t.Ta)e.ea(n.mutations)}async function FX(t,e,n){const r=t.Ta.shift(),i=TA.from(r,e,n);await I3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Mf(t)}async function qX(t,e){e&&Jl(t).X_&&await(async function(r,i){if((function(a){return kJ(a)&&a!==_e.ABORTED})(i.code)){const s=r.Ta.shift();Jl(r).B_(),await I3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Mf(r)}})(t,e),C3(t)&&N3(t)}async function VM(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Se(_u,"RemoteStore received new credentials");const r=Au(n);n.Ea.add(3),await Fp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mb(n)}async function PE(t,e){const n=Be(t);e?(n.Ea.delete(2),await Mb(n)):e||(n.Ea.add(2),await Fp(n),n.Ra.set("Unknown"))}function Df(t){return t.ma||(t.ma=(function(n,r,i){const s=Be(n);return s.sa(),new CX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:jX.bind(null,t),t_:OX.bind(null,t),r_:LX.bind(null,t),H_:$X.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$A(t)?LA(t):t.Ra.set("Unknown")):(await t.ma.stop(),k3(t))}))),t.ma}function Jl(t){return t.fa||(t.fa=(function(n,r,i){const s=Be(n);return s.sa(),new NX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zX.bind(null,t),r_:qX.bind(null,t),ta:BX.bind(null,t),na:FX.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(_u,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new VA(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UA(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),nc(t))return new Ce(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{static emptySet(e){return new qd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=Sm(),this.sortedSet=new dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.ga=new dn(Oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class pf{constructor(e,n,r,i,s,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new pf(e,n,qd.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ab(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HX{constructor(){this.queries=zM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Be(n),s=i.queries;i.queries=zM(),s.forEach(((a,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new Ce(_e.ABORTED,"Firestore shutting down"))}}function zM(){return new Ro((t=>xz(t)),Ab)}async function zA(t,e){const n=Be(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new GX,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=UA(a,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&FA(n)}async function BA(t,e){const n=Be(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KX(t,e){const n=Be(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&FA(n)}function WX(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function FA(t){t.Ca.forEach((e=>{e.next()}))}var RE,BM;(BM=RE||(RE={})).Ma="default",BM.Cache="cache";class qA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==RE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.key=e}}class R3{constructor(e){this.key=e}}class YX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yt(),this.mutatedKeys=yt(),this.eu=Sz(e),this.tu=new qd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new UM,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const _=i.get(h),v=Vp(this.query,p)?p:null,S=!!_&&this.mutatedKeys.has(_.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;_&&v?_.data.isEqual(v.data)?S!==E&&(r.track({type:3,doc:v}),A=!0):this.su(_,v)||(r.track({type:2,doc:v}),A=!0,(u&&this.eu(v,u)>0||d&&this.eu(v,d)<0)&&(l=!0)):!_&&v?(r.track({type:0,doc:v}),A=!0):_&&!v&&(r.track({type:1,doc:_}),A=!0,(u||d)&&(l=!0)),A&&(v?(a=a.add(v),s=E?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((h,p)=>(function(v,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:A})}};return E(v)-E(S)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new pf(this.query,e.tu,s,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new R3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new P3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jf="SyncEngine";class JX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XX{constructor(e){this.key=e,this.hu=!1}}class QX{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ro((l=>xz(l)),Ab),this.Iu=new Map,this.Eu=new Set,this.du=new dn(Oe.comparator),this.Au=new Map,this.Ru=new NA,this.Vu={},this.mu=new Map,this.fu=gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZX(t,e,n=!0){const r=jb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await M3(r,e,n,!0),i}async function eQ(t,e){const n=jb(t);await M3(n,e,!0,!1)}async function M3(t,e,n,r){const i=await cv(t.localStore,Wi(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await GA(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Db(t.remoteStore,i),l}async function GA(t,e,n,r,i){t.pu=(p,_,v)=>(async function(E,A,I,j){let M=A.view.ru(I);M.Cs&&(M=await IE(E.localStore,A.query,!1).then((({documents:P})=>A.view.ru(P,M))));const B=j&&j.targetChanges.get(A.targetId),V=j&&j.targetMismatches.get(A.targetId)!=null,N=A.view.applyChanges(M,E.isPrimaryClient,B,V);return ME(E,A.targetId,N.au),N.snapshot})(t,p,_,v);const s=await IE(t.localStore,e,!0),a=new YX(e,s.Qs),l=a.ru(s.documents),u=Bp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,u);ME(t,n,d.au);const h=new JX(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function tQ(t,e,n){const r=Be(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Ab(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mf(r.remoteStore,i.targetId),gf(r,i.targetId)})).catch(tc)):(gf(r,i.targetId),await hf(r.localStore,i.targetId,!0))}async function nQ(t,e){const n=Be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mf(n.remoteStore,r.targetId))}async function rQ(t,e,n){const r=YA(t);try{const i=await(function(a,l){const u=Be(a),d=Kt.now(),h=l.reduce(((v,S)=>v.add(S.key)),yt());let p,_;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=Gi(),E=yt();return u.Ns.getEntries(v,h).next((A=>{S=A,S.forEach(((I,j)=>{j.isValidDocument()||(E=E.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,S))).next((A=>{p=A;const I=[];for(const j of l){const M=EJ(j,p.get(j.key).overlayedDocument);M!=null&&I.push(new Mo(j.key,M,dz(M.value.mapValue),cr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,I,l)})).next((A=>{_=A;const I=A.applyToLocalDocumentSet(p,E);return u.documentOverlayCache.saveOverlays(v,A.batchId,I)}))})).then((()=>({batchId:_.batchId,changes:Ez(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,u){let d=a.Vu[a.currentUser.toKey()];d||(d=new dn(it)),d=d.insert(l,u),a.Vu[a.currentUser.toKey()]=d})(r,i.batchId,n),await ic(r,i.changes),await Mf(r.remoteStore)}catch(i){const s=UA(i,"Failed to persist write");n.reject(s)}}async function D3(t,e){const n=Be(t);try{const r=await xX(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?He(a.hu,14607):i.removedDocuments.size>0&&(He(a.hu,42227),a.hu=!1))})),await ic(n,r,e)}catch(r){await tc(r)}}function FM(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const u=Be(a);u.onlineState=l;let d=!1;u.queries.forEach(((h,p)=>{for(const _ of p.Sa)_.va(l)&&(d=!0)})),d&&FA(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iQ(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new dn(Oe.comparator);a=a.insert(s,Mn.newNoDocument(s,Je.min()));const l=yt().add(s),u=new zp(Je.min(),new Map,new dn(it),a,l);await D3(r,u),r.du=r.du.remove(s),r.Au.delete(e),WA(r)}else await hf(r.localStore,e,!1).then((()=>gf(r,e,n))).catch(tc)}async function sQ(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await bX(n.localStore,e);KA(n,r,null),HA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,i)}catch(i){await tc(i)}}async function aQ(t,e,n){const r=Be(t);try{const i=await(function(a,l){const u=Be(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next((p=>(He(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(d,p)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>u.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);KA(r,e,n),HA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,i)}catch(i){await tc(i)}}function HA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function KA(t,e,n){const r=Be(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||j3(t,r)}))}function j3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),WA(t))}function ME(t,e,n){for(const r of n)r instanceof P3?(t.Ru.addReference(r.key,e),oQ(t,r)):r instanceof R3?(Se(jf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||j3(t,r.key)):Ve(19791,{wu:r})}function oQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Se(jf,"New document in limbo: "+n),t.Eu.add(r),WA(t))}function WA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Oe(zt.fromString(e)),r=t.fu.next();t.Au.set(r,new XX(n)),t.du=t.du.insert(n,r),Db(t.remoteStore,new co(Wi($p(n.path)),r,"TargetPurposeLimboResolution",xi.ce))}}async function ic(t,e,n){const r=Be(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{a.push(r.pu(u,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);const p=MA.As(u.targetId,d);s.push(p)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(u,d){const h=Be(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ie.forEach(d,(_=>ie.forEach(_.Es,(v=>h.persistence.referenceDelegate.addReference(p,_.targetId,v))).next((()=>ie.forEach(_.ds,(v=>h.persistence.referenceDelegate.removeReference(p,_.targetId,v)))))))))}catch(p){if(!nc(p))throw p;Se(DA,"Failed to update sequence numbers: "+p)}for(const p of d){const _=p.targetId;if(!p.fromCache){const v=h.Ms.get(_),S=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(_,E)}}})(r.localStore,s))}async function lQ(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Se(jf,"User change. New user:",e.toKey());const r=await m3(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new Ce(_e.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r.Ls)}}function cQ(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let i=yt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}async function uQ(t,e){const n=Be(t),r=await IE(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&ME(n,e.targetId,i.au),i}async function dQ(t,e){const n=Be(t);return _3(n.localStore,e).then((r=>ic(n,r)))}async function fQ(t,e,n,r){const i=Be(t),s=await(function(l,u){const d=Be(l),h=Be(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(p=>h.er(p,u).next((_=>_?d.localDocuments.getDocuments(p,_):ie.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Mf(i.remoteStore):n==="acknowledged"||n==="rejected"?(KA(i,e,r||null),HA(i,e),(function(l,u){Be(Be(l).mutationQueue).ir(u)})(i.localStore,e)):Ve(6720,"Unknown batchState",{Su:n}),await ic(i,s)):Se(jf,"Cannot apply mutation batch with id: "+e)}async function hQ(t,e){const n=Be(t);if(jb(n),YA(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await qM(n,r.toArray());n.gu=!0,await PE(n.remoteStore,!0);for(const s of i)Db(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(gf(n,a),hf(n.localStore,a,!0)))),mf(n.remoteStore,a)})),await i,await qM(n,r),(function(a){const l=Be(a);l.Au.forEach(((u,d)=>{mf(l.remoteStore,d)})),l.Ru.Jr(),l.Au=new Map,l.du=new dn(Oe.comparator)})(n),n.gu=!1,await PE(n.remoteStore,!1)}}async function qM(t,e,n){const r=Be(t),i=[],s=[];for(const a of e){let l;const u=r.Iu.get(a);if(u&&u.length!==0){l=await cv(r.localStore,Wi(u[0]));for(const d of u){const h=r.Tu.get(d),p=await uQ(r,h);p.snapshot&&s.push(p.snapshot)}}else{const d=await g3(r.localStore,a);l=await cv(r.localStore,d),await GA(r,O3(d),a,!1,l.resumeToken)}i.push(l)}return r.Pu.H_(s),i}function O3(t){return vz(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mQ(t){return(function(n){return Be(Be(n).persistence).Ts()})(Be(t).localStore)}async function pQ(t,e,n,r){const i=Be(t);if(i.gu)return void Se(jf,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await _3(i.localStore,wz(s[0])),l=zp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",qn.EMPTY_BYTE_STRING);await ic(i,a,l);break}case"rejected":await hf(i.localStore,e,!0),gf(i,e,r);break;default:Ve(64155,n)}}async function gQ(t,e,n){const r=jb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Se(jf,"Adding an already active target "+i);continue}const s=await g3(r.localStore,i),a=await cv(r.localStore,s);await GA(r,O3(s),a.targetId,!1,a.resumeToken),Db(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await hf(r.localStore,i,!1).then((()=>{mf(r.remoteStore,i),gf(r,i)})).catch(tc)}}function jb(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iQ.bind(null,e),e.Pu.H_=KX.bind(null,e.eventManager),e.Pu.yu=WX.bind(null,e.eventManager),e}function YA(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aQ.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h3(this.persistence,new f3,e.initialUser,this.serializer)}Cu(e){return new PA(Pb.mi,this.serializer)}Du(e){return new w3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class _Q extends lp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof lv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new PA((r=>lv.mi(r,n)),this.serializer)}}class L3 extends lp{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await YA(this.xu.syncEngine),await Mf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return h3(this.persistence,new f3,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new a3(r,e.asyncQueue,n)}Mu(e,n){const r=new IY(n,this.persistence);return new kY(e.asyncQueue,r)}Cu(e){const n=d3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new RA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,S3(),Ry(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new w3}}class yQ extends L3{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof J0&&(this.sharedClientState.syncEngine={Co:fQ.bind(null,n),vo:pQ.bind(null,n),Fo:gQ.bind(null,n),Ts:mQ.bind(null,n),Do:dQ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await hQ(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=S3();if(!J0.v(n))throw new Ce(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=d3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new J0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lQ.bind(null,this.syncEngine),await PE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HX})()}createDatastore(e){const n=Rb(e.databaseInfo.databaseId),r=(function(s){return new IX(s)})(e.databaseInfo);return(function(s,a,l,u){return new RX(s,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new DX(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>FM(this.syncEngine,n,0)),(function(){return LM.v()?new LM:new TX})())}createSyncEngine(e,n){return(function(i,s,a,l,u,d,h){const p=new QX(i,s,a,l,u,d);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Be(i);Se(_u,"RemoteStore shutting down."),s.Ea.add(5),await Fp(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="FirestoreClient";class vQ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=uA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{Se(Xl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Se(Xl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Q0(t,e){t.asyncQueue.verifyOperationInProgress(),Se(Xl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await m3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function GM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bQ(t);Se(Xl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>VM(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>VM(e.remoteStore,i))),t._onlineComponents=e}async function bQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(Xl,"Using user provided OfflineComponentProvider");try{await Q0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Jm("Error using user provided cache. Falling back to memory cache: "+n),await Q0(t,new lp)}}else Se(Xl,"Using default OfflineComponentProvider"),await Q0(t,new _Q(void 0));return t._offlineComponents}async function $3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(Xl,"Using user provided OnlineComponentProvider"),await GM(t,t._uninitializedComponentsProvider._online)):(Se(Xl,"Using default OnlineComponentProvider"),await GM(t,new cp))),t._onlineComponents}function xQ(t){return $3(t).then((e=>e.syncEngine))}async function hv(t){const e=await $3(t),n=e.eventManager;return n.onListen=ZX.bind(null,e.syncEngine),n.onUnlisten=tQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nQ.bind(null,e.syncEngine),n}function wQ(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,u,d){const h=new JA({next:_=>{h.Nu(),a.enqueueAndForget((()=>BA(s,p)));const v=_.docs.has(l);!v&&_.fromCache?d.reject(new Ce(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?d.reject(new Ce(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),p=new qA($p(l.path),h,{includeMetadataChanges:!0,qa:!0});return zA(s,p)})(await hv(t),t.asyncQueue,e,n,r))),r.promise}function SQ(t,e,n={}){const r=new Ia;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,u,d){const h=new JA({next:_=>{h.Nu(),a.enqueueAndForget((()=>BA(s,p))),_.fromCache&&u.source==="server"?d.reject(new Ce(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),p=new qA(l,h,{includeMetadataChanges:!0,qa:!0});return zA(s,p)})(await hv(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ="firestore.googleapis.com",KM=!0;class WM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TQ,this.ssl=KM}else this.host=e.host,this.ssl=e.ssl??KM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s3)throw new Ce(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class XA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pY;switch(r.type){case"firstParty":return new yY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HM.get(n);r&&(Se("ComponentProvider","Removing Datastore"),HM.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ku(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dp(n,Dn._jsonSchema))return new Dn(e,r||null,new Oe(zt.fromString(n.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:nr("string",Dn._jsonSchemaVersion),referencePath:nr("string")};class Fl extends ku{constructor(e,n,r){super(e,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Oe(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function kn(t,e,...n){if(t=Jt(t),$U("collection","path",e),t instanceof XA){const r=zt.fromString(e,...n);return $R(r),new Fl(t,null,r)}{if(!(t instanceof Dn||t instanceof Fl))throw new Ce(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return $R(r),new Fl(t.firestore,null,r)}}function Qn(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=uA.newId()),$U("doc","path",e),t instanceof XA){const r=zt.fromString(e,...n);return LR(r),new Dn(t,null,new Oe(r))}{if(!(t instanceof Dn||t instanceof Fl))throw new Ce(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return LR(r),new Dn(t.firestore,t instanceof Fl?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="AsyncQueue";class JM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T3(this,"async_queue_retry"),this._c=()=>{const r=Ry();r&&Se(YM,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ry();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nc(e))throw e;Se(YM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fn("INTERNAL UNHANDLED ERROR: ",XM(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=VA.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:XM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Ma extends XA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JM(e),this._firestoreClient=void 0,await e}}}function EQ(t,e,n){n||(n=Zy);const r=Cp(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Hl(s,e))return i;throw new Ce(_e.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ce(_e.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s3)throw new Ce(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&$a(e.host)&&hb(e.host),r.initialize({options:e,instanceIdentifier:n})}function qp(t){if(t._terminated)throw new Ce(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AQ(t),t._firestoreClient}function AQ(t){var r,i,s;const e=t._freezeSettings(),n=(function(l,u,d,h){return new nJ(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,V3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(qn.fromBase64String(e))}catch(n){throw new Ce(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bs(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dp(e,bs._jsonSchema))return bs.fromBase64String(e.bytes)}}bs._jsonSchemaVersion="firestore/bytes/1.0",bs._jsonSchema={type:nr("string",bs._jsonSchemaVersion),bytes:nr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ca._jsonSchemaVersion}}static fromJSON(e){if(Dp(e,Ca._jsonSchema))return new Ca(e.latitude,e.longitude)}}Ca._jsonSchemaVersion="firestore/geoPoint/1.0",Ca._jsonSchema={type:nr("string",Ca._jsonSchemaVersion),latitude:nr("number"),longitude:nr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Na._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dp(e,Na._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Na(e.vectorValues);throw new Ce(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Na._jsonSchemaVersion="firestore/vectorValue/1.0",Na._jsonSchema={type:nr("string",Na._jsonSchemaVersion),vectorValues:nr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ=/^__.*__$/;class IQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rf(e,this.data,n,this.fieldTransforms)}}class U3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function z3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class Lb{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z3(this.Ac)&&kQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rb(e)}Cc(e,n,r,i=!1){return new Lb({Ac:e,methodName:n,Dc:r,path:In.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(t){const e=t._freezeSettings(),n=Rb(t._databaseId);return new CQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QA(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);ek("Data must be an object, but it was:",a,r);const l=q3(r,a);let u,d;if(s.merge)u=new wi(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const _=DE(e,p,n);if(!a.contains(_))throw new Ce(_e.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);H3(h,_)||h.push(_)}u=new wi(h),d=a.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,d=a.fieldTransforms;return new IQ(new Gr(l),u,d)}class $b extends Ob{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $b}}function NQ(t,e,n){return new Lb({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ZA extends Ob{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=NQ(this,e,!0),r=this.vc.map((s=>Of(s,n))),i=new hu(r);return new Rz(e.path,i)}isEqual(e){return e instanceof ZA&&Hl(this.vc,e.vc)}}function B3(t,e,n,r){const i=t.Cc(1,e,n);ek("Data must be an object, but it was:",i,r);const s=[],a=Gr.empty();rc(r,((u,d)=>{const h=tk(e,u,n);d=Jt(d);const p=i.yc(h);if(d instanceof $b)s.push(h);else{const _=Of(d,p);_!=null&&(s.push(h),a.set(h,_))}}));const l=new wi(s);return new U3(a,l,i.fieldTransforms)}function F3(t,e,n,r,i,s){const a=t.Cc(1,e,n),l=[DE(e,r,n)],u=[i];if(s.length%2!=0)throw new Ce(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)l.push(DE(e,s[_])),u.push(s[_+1]);const d=[],h=Gr.empty();for(let _=l.length-1;_>=0;--_)if(!H3(d,l[_])){const v=l[_];let S=u[_];S=Jt(S);const E=a.yc(v);if(S instanceof $b)d.push(v);else{const A=Of(S,E);A!=null&&(d.push(v),h.set(v,A))}}const p=new wi(d);return new U3(h,p,a.fieldTransforms)}function PQ(t,e,n,r=!1){return Of(n,t.Cc(r?4:3,e))}function Of(t,e){if(G3(t=Jt(t)))return ek("Unsupported field value:",e,t),q3(t,e);if(t instanceof Ob)return(function(r,i){if(!z3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let u=Of(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Kt.fromDate(r);return{timestampValue:ff(i.serializer,s)}}if(r instanceof Kt){const s=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,s)}}if(r instanceof Ca)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bs)return{bytesValue:Vz(i.serializer,r._byteString)};if(r instanceof Dn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Na)return(function(a,l){return{mapValue:{fields:{[yA]:{stringValue:vA},[of]:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return wA(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${yb(r)}`)})(t,e)}function q3(t,e){const n={};return nz(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rc(t,((r,i)=>{const s=Of(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function G3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Ca||t instanceof bs||t instanceof Dn||t instanceof Ob||t instanceof Na)}function ek(t,e,n){if(!G3(n)||!VU(n)){const r=yb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function DE(t,e,n){if((e=Jt(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return tk(t,e);throw mv("Field path arguments must be of type string or ",t,!1,void 0,n)}const RQ=new RegExp("[~\\*/\\[\\]]");function tk(t,e,n){if(e.search(RQ)>=0)throw mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gp(...e.split("."))._internalPath}catch{throw mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mv(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Ce(_e.INVALID_ARGUMENT,l+t+u)}function H3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MQ extends K3{data(){return super.data()}}function nk(t,e){return typeof e=="string"?tk(t,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rk{}class DQ extends rk{}function El(t,e,...n){let r=[];e instanceof rk&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((u=>u instanceof Wp)).length,l=s.filter((u=>u instanceof Kp)).length;if(a>1||a>0&&l>0)throw new Ce(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Kp extends DQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){const n=this._parse(e);return Y3(e._query,n),new ku(e.firestore,e.converter,vE(e._query,n))}_parse(e){const n=Hp(e.firestore);return(function(s,a,l,u,d,h,p){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ce(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){eD(p,h);const S=[];for(const E of p)S.push(ZM(u,s,E));_={arrayValue:{values:S}}}else _=ZM(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||eD(p,h),_=PQ(l,a,p,h==="in"||h==="not-in");return Ct.create(d,h,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Us(t,e,n){const r=e,i=nk("where",t);return Kp._create(i,r,n)}class Wp extends rk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Wt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)Y3(a,u),a=vE(a,u)})(e._query,n),new ku(e.firestore,e.converter,vE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jQ(...t){return t.forEach((e=>OQ("or",e))),Wp._create("or",t)}function ZM(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new Ce(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bz(e)&&n.indexOf("/")!==-1)throw new Ce(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zt.fromString(n));if(!Oe.isDocumentKey(r))throw new Ce(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ip(t,new Oe(r))}if(n instanceof Dn)return ip(t,n._key);throw new Ce(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yb(n)}.`)}function eD(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y3(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ce(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OQ(t,e){if(!(e instanceof Kp||e instanceof Wp))throw new Ce(_e.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class LQ{convertValue(e,n="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[of].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>En(a.doubleValue)));return new Na(n)}convertGeoPoint(e){return new Ca(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(np(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zt.fromString(e);He(Yz(r),9688,{name:e});const i=new du(r.get(1),r.get(3)),s=new Oe(r.popFirst(5));return i.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Am{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tu extends K3{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new My(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tu._jsonSchemaVersion="firestore/documentSnapshot/1.0",tu._jsonSchema={type:nr("string",tu._jsonSchemaVersion),bundleSource:nr("string","DocumentSnapshot"),bundleName:nr("string"),bundle:nr("string")};class My extends tu{data(e={}){return super.data(e)}}class nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Am(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new My(this._firestore,this._userDataWriter,r.key,r,new Am(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const u=new My(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Am(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new My(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Am(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:$Q(l.type),doc:u,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $Q(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t){t=Ai(t,Dn);const e=Ai(t.firestore,Ma);return wQ(qp(e),t._key).then((n=>J3(e,t,n)))}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:nr("string",nu._jsonSchemaVersion),bundleSource:nr("string","QuerySnapshot"),bundleName:nr("string"),bundle:nr("string")};class sk extends LQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function im(t){t=Ai(t,ku);const e=Ai(t.firestore,Ma),n=qp(e),r=new sk(e);return W3(t._query),SQ(n,t._query).then((i=>new nu(e,r,t,i)))}function Z0(t,e,n){t=Ai(t,Dn);const r=Ai(t.firestore,Ma),i=ik(t.converter,e,n);return Yp(r,[QA(Hp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cr.none())])}function io(t,e,n,...r){t=Ai(t,Dn);const i=Ai(t.firestore,Ma),s=Hp(i);let a;return a=typeof(e=Jt(e))=="string"||e instanceof Gp?F3(s,"updateDoc",t._key,e,n,r):B3(s,"updateDoc",t._key,e),Yp(i,[a.toMutation(t._key,cr.exists(!0))])}function Ed(t){return Yp(Ai(t.firestore,Ma),[new Up(t._key,cr.none())])}function zs(t,e){const n=Ai(t.firestore,Ma),r=Qn(t),i=ik(t.converter,e);return Yp(n,[QA(Hp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then((()=>r))}function Oc(t,...e){var u,d,h;t=Jt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||QM(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(QM(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let s,a,l;if(t instanceof Dn)a=Ai(t.firestore,Ma),l=$p(t._key.path),s={next:p=>{e[r]&&e[r](J3(a,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Ai(t,ku);a=Ai(p.firestore,Ma),l=p._query;const _=new sk(a);s={next:v=>{e[r]&&e[r](new nu(a,_,p,v))},error:e[r+1],complete:e[r+2]},W3(t._query)}return(function(_,v,S,E){const A=new JA(E),I=new qA(v,A,S);return _.asyncQueue.enqueueAndForget((async()=>zA(await hv(_),I))),()=>{A.Nu(),_.asyncQueue.enqueueAndForget((async()=>BA(await hv(_),I)))}})(qp(a),l,i,s)}function Yp(t,e){return(function(r,i){const s=new Ia;return r.asyncQueue.enqueueAndForget((async()=>rQ(await xQ(r),i,s))),s.promise})(qp(t),e)}function J3(t,e,n){const r=n.docs.get(e._key),i=new sk(t);return new tu(t,i,e._key,r,new Am(n.hasPendingWrites,n.fromCache),e.converter)}class UQ{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=qQ(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function zQ(t){return new UQ(t)}class BQ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=cp.provider,this._offlineComponentProvider={build:n=>new L3(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class FQ{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=cp.provider,this._offlineComponentProvider={build:n=>new yQ(n,e==null?void 0:e.cacheSizeBytes)}}}function qQ(t){return new BQ(t==null?void 0:t.forceOwnership)}function GQ(){return new FQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hp(e)}set(e,n,r){this._verifyNotCommitted();const i=eS(e,this._firestore),s=ik(i.converter,n,r),a=QA(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,cr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=eS(e,this._firestore);let a;return a=typeof(n=Jt(n))=="string"||n instanceof Gp?F3(this._dataReader,"WriteBatch.update",s._key,n,r,i):B3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=eS(e,this._firestore);return this._mutations=this._mutations.concat(new Up(n._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eS(t,e){if((t=Jt(t)).firestore!==e)throw new Ce(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function KQ(...t){return new ZA("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){return qp(t=Ai(t,Ma)),new HQ(t,(e=>Yp(t,e)))}(function(e,n=!0){(function(i){Pf=i})(Tu),Kl(new go("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Ma(new gY(r.getProvider("auth-internal")),new vY(a,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ce(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(d.options.projectId,h)})(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),ws(MR,DR,e),ws(MR,DR,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="firebasestorage.googleapis.com",Q3="storageBucket",WQ=120*1e3,YQ=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Js{constructor(e,n,r=0){super(nS(e),`Firebase Storage: ${n} (${nS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,On.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jn||(jn={}));function nS(t){return"storage/"+t}function ak(){const t="An unknown error occurred, please check the error payload for server response.";return new On(jn.UNKNOWN,t)}function JQ(t){return new On(jn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XQ(t){return new On(jn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new On(jn.UNAUTHENTICATED,t)}function ZQ(){return new On(jn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eZ(t){return new On(jn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tZ(){return new On(jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nZ(){return new On(jn.CANCELED,"User canceled the upload/download.")}function rZ(t){return new On(jn.INVALID_URL,"Invalid URL '"+t+"'.")}function iZ(t){return new On(jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sZ(){return new On(jn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q3+"' property when initializing the app?")}function aZ(){return new On(jn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oZ(){return new On(jn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lZ(t){return new On(jn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jE(t){return new On(jn.INVALID_ARGUMENT,t)}function Z3(){return new On(jn.APP_DELETED,"The Firebase app was deleted.")}function cZ(t){return new On(jn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Um(t,e){return new On(jn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function sm(t){throw new On(jn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hi.makeFromUrl(e,n)}catch{return new Hi(e,"")}if(r.path==="")return r;throw iZ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${_}`,"i"),S={bucket:1,path:3},E=n===X3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",I=new RegExp(`^https?://${E}/${i}/${A}`,"i"),M=[{regex:l,indices:u,postModify:s},{regex:v,indices:S,postModify:d},{regex:I,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<M.length;B++){const V=M[B],N=V.regex.exec(e);if(N){const P=N[V.indices.bucket];let O=N[V.indices.path];O||(O=""),r=new Hi(P,O),V.postModify(r);break}}if(r==null)throw rZ(e);return r}}class uZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function u(){return l===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function p(A){i=setTimeout(()=>{i=null,t(v,u())},A)}function _(){s&&clearTimeout(s)}function v(A,...I){if(d){_();return}if(A){_(),h.call(null,A,...I);return}if(u()||a){_(),h.call(null,A,...I);return}r<64&&(r*=2);let M;l===1?(l=2,M=0):M=(r+Math.random())*1e3,p(M)}let S=!1;function E(A){S||(S=!0,_(),!d&&(i!==null?(A||(l=2),clearTimeout(i),p(0)):A||(l=1)))}return p(0),s=setTimeout(()=>{a=!0,E(!0)},n),E}function fZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(t){return t!==void 0}function mZ(t){return typeof t=="object"&&!Array.isArray(t)}function ok(t){return typeof t=="string"||t instanceof String}function tD(t){return lk()&&t instanceof Blob}function lk(){return typeof Blob<"u"}function nD(t,e,n,r){if(r<e)throw jE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function e5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ru;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ru||(ru={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e,n,r,i,s,a,l,u,d,h,p,_=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=p,this.retry=_,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Y_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===ru.NO_ERROR,u=s.getStatus();if(!l||pZ(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ru.ABORT;r(!1,new Y_(!1,null,h));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Y_(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());hZ(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=ak();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?Z3():nZ();a(u)}else{const u=tZ();a(u)}};this.canceled_?n(!1,new Y_(!1,null,!0)):this.backoffId_=dZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Y_{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _Z(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xZ(t,e,n,r,i,s,a=!0,l=!1){const u=e5(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return vZ(h,e),_Z(h,n),yZ(h,s),bZ(h,r),new gZ(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SZ(...t){const e=wZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(lk())return new Blob(t);throw new On(jn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(t){if(typeof atob>"u")throw lZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rS{constructor(e,n){this.data=e,this.contentType=n||null}}function AZ(t,e){switch(t){case Ta.RAW:return new rS(t5(e));case Ta.BASE64:case Ta.BASE64URL:return new rS(n5(t,e));case Ta.DATA_URL:return new rS(IZ(e),CZ(e))}throw ak()}function t5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Um(Ta.DATA_URL,"Malformed data URL.")}return t5(e)}function n5(t,e){switch(t){case Ta.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Um(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ta.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Um(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EZ(e)}catch(i){throw i.message.includes("polyfill")?i:Um(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class r5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Um(Ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=NZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IZ(t){const e=new r5(t);return e.base64?n5(Ta.BASE64,e.rest):kZ(e.rest)}function CZ(t){return new r5(t).contentType}function NZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){let r=0,i="";tD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(tD(this.data_)){const r=this.data_,i=TZ(r,e,n);return i===null?null:new Dl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Dl(r,!0)}}static getBlob(...e){if(lk()){const n=e.map(r=>r instanceof Dl?r.data_:r);return new Dl(SZ.apply(null,n))}else{const n=e.map(a=>ok(a)?AZ(Ta.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new Dl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){let e;try{e=JSON.parse(t)}catch{return null}return mZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function s5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(t,e){return e}class ei{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||MZ}}let J_=null;function DZ(t){return!ok(t)||t.length<2?t:s5(t)}function a5(){if(J_)return J_;const t=[];t.push(new ei("bucket")),t.push(new ei("generation")),t.push(new ei("metageneration")),t.push(new ei("name","fullPath",!0));function e(s,a){return DZ(a)}const n=new ei("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new ei("size");return i.xform=r,t.push(i),t.push(new ei("timeCreated")),t.push(new ei("updated")),t.push(new ei("md5Hash",null,!0)),t.push(new ei("cacheControl",null,!0)),t.push(new ei("contentDisposition",null,!0)),t.push(new ei("contentEncoding",null,!0)),t.push(new ei("contentLanguage",null,!0)),t.push(new ei("contentType",null,!0)),t.push(new ei("metadata","customMetadata",!0)),J_=t,J_}function jZ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Hi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function OZ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return jZ(r,t),r}function o5(t,e,n){const r=i5(e);return r===null?null:OZ(t,r,n)}function LZ(t,e,n,r){const i=i5(e);if(i===null||!ok(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const h=t.bucket,p=t.fullPath,_="/b/"+a(h)+"/o/"+a(p),v=ck(_,n,r),S=e5({alt:"media",token:d});return v+S})[0]}function $Z(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class l5{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){if(!t)throw ak()}function VZ(t,e){function n(r,i){const s=o5(t,i,e);return c5(s!==null),s}return n}function UZ(t,e){function n(r,i){const s=o5(t,i,e);return c5(s!==null),LZ(s,i,t.host,t._protocol)}return n}function u5(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ZQ():i=QQ():n.getStatus()===402?i=XQ(t.bucket):n.getStatus()===403?i=eZ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zZ(t){const e=u5(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=JQ(t.path)),s.serverResponse=i.serverResponse,s}return n}function BZ(t,e,n){const r=e.fullServerUrl(),i=ck(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new l5(i,s,UZ(t,n),a);return l.errorHandler=zZ(e),l}function FZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function qZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=FZ(null,e)),r}function GZ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let M="";for(let B=0;B<2;B++)M=M+Math.random().toString().slice(2);return M}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const d=qZ(e,r,i),h=$Z(d,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",v=Dl.getBlob(p,r,_);if(v===null)throw aZ();const S={name:d.fullPath},E=ck(s,t.host,t._protocol),A="POST",I=t.maxUploadRetryTime,j=new l5(E,A,VZ(t,n),I);return j.urlParams=S,j.headers=a,j.body=v.uploadData(),j.errorHandler=u5(e),j}class HZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ru.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ru.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ru.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw sm("cannot .send() more than once");if($a(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KZ extends HZ{initXhr(){this.xhr_.responseType="text"}}function d5(){return new KZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this._service=e,n instanceof Hi?this._location=n:this._location=Hi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yu(e,n)}get root(){const e=new Hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s5(this._location.path)}get storage(){return this._service}get parent(){const e=PZ(this._location.path);if(e===null)return null;const n=new Hi(this._location.bucket,e);return new yu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cZ(e)}}function WZ(t,e,n){t._throwIfRoot("uploadBytes");const r=GZ(t.storage,t._location,a5(),new Dl(e,!0),n);return t.storage.makeRequestWithTokens(r,d5).then(i=>({metadata:i,ref:t}))}function YZ(t){t._throwIfRoot("getDownloadURL");const e=BZ(t.storage,t._location,a5());return t.storage.makeRequestWithTokens(e,d5).then(n=>{if(n===null)throw oZ();return n})}function JZ(t,e){const n=RZ(t._location.path,e),r=new Hi(t._location.bucket,n);return new yu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZ(t){return/^[A-Za-z]+:\/\//.test(t)}function QZ(t,e){return new yu(t,e)}function f5(t,e){if(t instanceof uk){const n=t;if(n._bucket==null)throw sZ();const r=new yu(n,n._bucket);return e!=null?f5(r,e):r}else return e!==void 0?JZ(t,e):t}function ZZ(t,e){if(e&&XZ(e)){if(t instanceof uk)return QZ(t,e);throw jE("To use ref(service, url), the first argument must be a Storage instance.")}else return f5(t,e)}function rD(t,e){const n=e==null?void 0:e[Q3];return n==null?null:Hi.makeFromBucketSpec(n,t)}function eee(t,e,n,r={}){t.host=`${e}:${n}`;const i=$a(e);i&&(hb(`https://${t.host}/b`),X1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:AH(s,t.app.options.projectId))}class uk{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=X3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WQ,this._maxUploadRetryTime=YQ,this._requests=new Set,i!=null?this._bucket=Hi.makeFromBucketSpec(i,this._host):this._bucket=rD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hi.makeFromBucketSpec(this._url,e):this._bucket=rD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new uZ(Z3());{const a=xZ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const iD="@firebase/storage",sD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="storage";function tee(t,e,n){return t=Jt(t),WZ(t,e,n)}function nee(t){return t=Jt(t),YZ(t)}function ree(t,e){return t=Jt(t),ZZ(t,e)}function iee(t=mb(),e){t=Jt(t);const r=Cp(t,h5).getImmediate({identifier:e}),i=$V("storage");return i&&see(r,...i),r}function see(t,e,n,r={}){eee(t,e,n,r)}function aee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uk(n,r,i,e,Tu)}function oee(){Kl(new go(h5,aee,"PUBLIC").setMultipleInstances(!0)),ws(iD,sD,""),ws(iD,sD,"esm2020")}oee();const m5={apiKey:"AIzaSyBYgPPPg83xwrguxEZbxbnP_2QwEET8los",authDomain:"salexplosive.firebaseapp.com",projectId:"salexplosive",storageBucket:"salexplosive.firebasestorage.app",messagingSenderId:"642364074756",appId:"1:642364074756:web:b787af9924dc4626b6be51",measurementId:"G-SL43JRJE0V"},Lf=eA(m5),St=CU(Lf),st=EQ(Lf,{localCache:zQ({tabManager:GQ()})}),lee=iee(Lf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee="type.googleapis.com/google.protobuf.Int64Value",uee="type.googleapis.com/google.protobuf.UInt64Value";function p5(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function pv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>pv(e));if(typeof t=="function"||typeof t=="object")return p5(t,e=>pv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function _f(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case cee:case uee:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>_f(e)):typeof t=="function"||typeof t=="object"?p5(t,e=>_f(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Si extends Js{constructor(e,n,r){super(`${dk}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Si.prototype)}}function dee(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function gv(t,e){let n=dee(t),r=n,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!aD[a])return new Si("internal","internal");n=aD[a],r=a}const l=s.message;typeof l=="string"&&(r=l),i=s.details,i!==void 0&&(i=_f(i))}}catch{}return n==="ok"?null:new Si(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,bi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="us-central1",hee=/^data: (.*?)(?:\n|$)/;function mee(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Si("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class pee{constructor(e,n,r,i,s=OE,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new fee(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=OE}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function gee(t,e,n){const r=$a(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(hb(t.emulatorOrigin+"/backends"),X1("Functions",!0))}function _ee(t,e,n){const r=i=>vee(t,e,i,{});return r.stream=(i,s)=>xee(t,e,i,s),r}function g5(t){return t.emulatorOrigin&&$a(t.emulatorOrigin)?"include":void 0}async function yee(t,e,n,r,i){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:g5(i)})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function _5(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function vee(t,e,n,r){const i=t._url(e);return bee(t,i,n,r)}async function bee(t,e,n,r){n=pv(n);const i={data:n},s=await _5(t,r),a=r.timeout||7e4,l=mee(a),u=await Promise.race([yee(e,i,s,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Si("cancelled","Firebase Functions instance was deleted.");const d=gv(u.status,u.json);if(d)throw d;if(!u.json)throw new Si("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h>"u"&&(h=u.json.result),typeof h>"u")throw new Si("internal","Response is missing data field.");return{data:_f(h)}}function xee(t,e,n,r){const i=t._url(e);return wee(t,i,n,r||{})}async function wee(t,e,n,r){var _;n=pv(n);const i={data:n},s=await _5(t,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let a;try{a=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:s,signal:r==null?void 0:r.signal,credentials:g5(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const E=new Si("cancelled","Request was cancelled.");return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}const S=gv(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let l,u;const d=new Promise((v,S)=>{l=v,u=S});(_=r==null?void 0:r.signal)==null||_.addEventListener("abort",()=>{const v=new Si("cancelled","Request was cancelled.");u(v)});const h=a.body.getReader(),p=See(h,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const v=p.getReader();return{async next(){const{value:S,done:E}=await v.read();return{value:S,done:E}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:d}}function See(t,e,n,r){const i=(a,l)=>{const u=a.match(hee);if(!u)return;const d=u[1];try{const h=JSON.parse(d);if("result"in h){e(_f(h.result));return}if("message"in h){l.enqueue(_f(h.message));return}if("error"in h){const p=gv(0,h);l.error(p),n(p);return}}catch(h){if(h instanceof Si){l.error(h),n(h);return}}},s=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(r!=null&&r.aborted){const d=new Si("cancelled","Request was cancelled");return a.error(d),n(d),Promise.resolve()}try{const{value:d,done:h}=await t.read();if(h){l.trim()&&i(l.trim(),a),a.close();return}if(r!=null&&r.aborted){const _=new Si("cancelled","Request was cancelled");a.error(_),n(_),await t.cancel();return}l+=s.decode(d,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const _ of p)_.trim()&&i(_.trim(),a);return u()}catch(d){const h=d instanceof Si?d:gv(0,null);a.error(h),n(h)}}},cancel(){return t.cancel()}})}const oD="@firebase/functions",lD="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="auth-internal",Eee="app-check-internal",Aee="messaging-internal";function kee(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(Tee),a=n.getProvider(Aee),l=n.getProvider(Eee);return new pee(i,s,a,l,r)};Kl(new go(dk,e,"PUBLIC").setMultipleInstances(!0)),ws(oD,lD,t),ws(oD,lD,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t=mb(),e=OE){const r=Cp(Jt(t),dk).getImmediate({identifier:e}),i=$V("functions");return i&&Iee(r,...i),r}function Iee(t,e,n){gee(Jt(t),e,n)}function hk(t,e,n){return _ee(Jt(t),e)}kee();const Cee={"1_sale":{name:"Eerste Verkoop!",description:"Je hebt je eerste verkoop geregistreerd!"},"10_sales":{name:"Verkoop Topper",description:"10 contracten verkocht!"},"25_sales":{name:"Sales Expert",description:"25 contracten verkocht!"},"50_sales":{name:"Sales Master",description:"50 contracten verkocht!"}},Nee=(t,e)=>{const n=[...e];return t>=1&&!n.includes("1_sale")&&n.push("1_sale"),t>=10&&!n.includes("10_sales")&&n.push("10_sales"),t>=25&&!n.includes("25_sales")&&n.push("25_sales"),t>=50&&!n.includes("50_sales")&&n.push("50_sales"),n},Pee=t=>{if(!t||t.length===0)return 0;const e=[...new Set(t.filter(l=>l&&l.date).map(l=>l.date.split("T")[0]))].sort().reverse();if(e.length===0)return 0;let n=0;const r=new Date,i=new Date;i.setDate(r.getDate()-1);const s=r.toISOString().split("T")[0],a=i.toISOString().split("T")[0];if(e[0]===s||e[0]===a){n=1;let l=new Date(e[0]);for(let u=1;u<e.length;u++){const d=new Date(e[u]);if((l.getTime()-d.getTime())/(1e3*3600*24)===1)n++,l=d;else break}}return n},yn=(t,e)=>{const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=n.getDay(),s=i===0?6:i-1,a=new Date(r);a.setDate(r.getDate()-s);const l=new Date(n.getFullYear(),n.getMonth(),1);let u;switch(e){case"today":u=r;break;case"week":u=a;break;case"month":u=l;break;default:return 0}return(t||[]).filter(d=>new Date(d.date)>=u).reduce((d,h)=>d+h.value,0)},ql=(t,e)=>{const n=new Date,r=yn(t,e);let i=0;if(e==="week"){const s=n.getDay();i=s===0?7:s}else i=n.getDate();return i===0?r:r/i},Ree=U7().some(t=>t.name==="secondaryApp")?mb("secondaryApp"):eA(m5,"secondaryApp"),Ad=CU(Ree),y5=k.createContext(void 0),Mee=({children:t})=>{const[e,n]=k.useState(null),[r,i]=k.useState([]),[s,a]=k.useState([]),[l,u]=k.useState([]),[d,h]=k.useState([]),[p,_]=k.useState([]),[v,S]=k.useState([]),[E,A]=k.useState([]),[I,j]=k.useState([]),[M,B]=k.useState([]),[V,N]=k.useState([]),[P,O]=k.useState([]),[D,z]=k.useState([]),[$,U]=k.useState([]),[q,te]=k.useState(!0),[ee,Y]=k.useState(null),[X,fe]=k.useState([]),be=()=>{X.forEach(ke=>ke()),fe([])};k.useEffect(()=>{const ke=nW(St,Te=>{if(be(),Te){te(!0);const et=Qn(st,"users",Te.uid);let je=[];const ut=Oc(et,Rt=>{if(je.forEach(Et=>Et()),je=[],Rt.exists()){const Et=Rt.data();if(Et.status==="pending"){Dc(St),n(null),te(!1);return}const rn=Oc(kn(st,"users",Te.uid,"sales"),sn=>{const $n=sn.docs.map($r=>({id:$r.id,...$r.data()})),sr={uid:Te.uid,...Et,sales:$n,totalSalesToday:yn($n,"today"),totalSalesWeek:yn($n,"week"),totalSalesMonth:yn($n,"month")};n(sr);const ar=Nee($n.reduce(($r,hn)=>$r+hn.value,0),Et.badges||[]);JSON.stringify(ar)!==JSON.stringify(Et.badges)&&io(et,{badges:ar})});if(je.push(rn),Et.companyId){const sn=Et.companyId,$n=El(kn(st,"users"),Us("companyId","==",sn));je.push(Oc($n,async hn=>{const xn=hn.docs.map(_t=>({uid:_t.id,..._t.data()})),dt=await Promise.all(xn.map(async _t=>{if(!_t.uid)return _t;const Ps=(await im(kn(st,"users",_t.uid,"sales"))).docs.map(Mu=>({id:Mu.id,...Mu.data()}));return{..._t,sales:Ps,totalSalesToday:yn(Ps,"today"),totalSalesWeek:yn(Ps,"week"),totalSalesMonth:yn(Ps,"month")}}));a(dt),i(dt.filter(_t=>_t.branchName===Et.branchName))}));const sr={knowledgeBase:h,motivationPosts:A,competitorNotes:j,productPackages:O,marketIntelligenceNotes:z};Object.keys(sr).forEach(hn=>{je.push(Oc(El(kn(st,hn),Us("companyId","==",sn)),xn=>{const dt=xn.docs.map(_t=>({id:_t.id,..._t.data()}));dt.length>0&&"createdAt"in dt[0]&&dt.sort((_t,Xr)=>new Date(Xr.createdAt).getTime()-new Date(_t.createdAt).getTime()),sr[hn](dt)}))});const ar={pitches:u,clients:_,goals:S,plannings:B};Object.keys(ar).forEach(hn=>{je.push(Oc(kn(st,"users",Te.uid,hn),xn=>{const dt=xn.docs.map(_t=>({id:_t.id,..._t.data()}));dt.length>0&&"createdAt"in dt[0]&&dt.sort((_t,Xr)=>new Date(Xr.createdAt).getTime()-new Date(_t.createdAt).getTime()),ar[hn](dt)}))});const $r=El(kn(st,"appointments"),jQ(Us("ownerId","==",Te.uid),Us("taggedUsers","array-contains",Te.uid)));je.push(Oc($r,hn=>{const xn=hn.docs.map(dt=>({id:dt.id,...dt.data()}));N(xn)})),Et.role==="owner"&&je.push(Oc(El(kn(st,"invoices"),Us("companyId","==",sn)),hn=>{const xn=hn.docs.map(dt=>({id:dt.id,...dt.data()}));xn.length>0&&"date"in xn[0]&&xn.sort((dt,_t)=>new Date(_t.date).getTime()-new Date(dt.date).getTime()),U(xn)}))}}else Dc(St);te(!1)},Rt=>{console.error("Error listening to user document:",Rt),Y("Kon gebruikersgegevens niet live bijwerken."),te(!1)});fe([ut,()=>je.forEach(Rt=>Rt())])}else n(null),te(!1)});return()=>{ke(),be()}},[]);const F=async(ke,Te)=>{const et=await XK(St,ke,Te),je=Qn(st,"users",et.user.uid),ut=await VQ(je);if(ut.exists()&&ut.data().status==="pending"){await Dc(St);const Rt=new Error("Account is in afwachting van goedkeuring.");throw Rt.name="PendingApproval",Rt}},K=async ke=>{const{email:Te,password:et,...je}=ke;if(!Te||!et)throw new Error("Email and password are required.");const ut=await B0(Ad,Te,et),{user:Rt}=ut,rn=(je.numberOfEmployees||0)+1,sn={name:je.name||"",email:Rt.email||"",industry:je.industry||"telecom",company:je.companyName||"",branchName:je.companyName||"",salesChannel:je.salesChannel||"deur-aan-deur",role:"owner",companyId:Rt.uid,status:"pending",...je,purchasedLicenses:rn};await Z0(Qn(st,"users",Rt.uid),sn),await Dc(Ad)},Q=async(ke,Te,et)=>{if(!e||e.role!=="owner"||!e.companyId)throw new Error("Permission denied");const{email:je,password:ut,...Rt}=Te;if(!je||!ut)throw new Error("Email and password are required for the new manager.");const Et=await B0(Ad,je,ut),{user:rn}=Et,sn=Qn(st,"users",rn.uid),$n={...Rt,email:rn.email||"",role:"manager",branchName:ke,company:e.company,industry:e.industry,salesChannel:e.salesChannel,companyId:e.companyId,forcePasswordChange:!0,lang:e.lang,purchasedLicenses:et||1};await Z0(sn,$n),await Dc(Ad)},H=async()=>{await Dc(St),n(null),i([]),a([]),Y(null),u([]),h([]),_([]),S([]),A([]),j([]),z([]),B([]),N([]),O([]),U([]),be()},ge=async ke=>{if(!St.currentUser)throw new Error("Not authenticated");const Te=Qn(st,"users",St.currentUser.uid);await io(Te,ke)},Ee=async(ke,Te)=>{if(!St.currentUser||!e)throw new Error("Not authenticated.");if(e.role==="manager"||e.role==="team-leader"||e.role==="leader"){const $n=s.filter($r=>$r.branchName===e.branchName).length,sr=s.find($r=>$r.branchName===e.branchName&&$r.role==="manager"),ar=(sr==null?void 0:sr.purchasedLicenses)||0;if($n>=ar)throw e.role==="manager"?new Error("Alle licenties voor uw filiaal zijn in gebruik. Koop alstublieft extra licenties via de 'Mijn Filiaal' pagina."):new Error("Alle licenties voor uw filiaal zijn in gebruik. Vraag uw manager om extra licenties aan te schaffen.")}const{email:je,password:ut,...Rt}=ke;if(!je||!ut)throw new Error("Email and password are required.");const Et=await B0(Ad,je,ut),{user:rn}=Et,sn={...Rt,email:je,role:Te,forcePasswordChange:!0,companyId:e.companyId,branchName:e.branchName,lang:e.lang};await Z0(Qn(st,"users",rn.uid),sn),await Dc(Ad),(e.role==="leader"||e.role==="team-leader")&&await io(Qn(st,"users",St.currentUser.uid),{teamMembers:KQ(je)})},se=async ke=>{if(!St.currentUser||!e)throw new Error("Not authenticated");const Te={date:new Date().toISOString(),packageId:ke.id,packageName:ke.name,value:ke.value,companyId:e.companyId};await zs(kn(st,"users",St.currentUser.uid,"sales"),Te)},re=async ke=>{if(!St.currentUser)throw new Error("Not authenticated");await QK(St.currentUser,ke),e!=null&&e.forcePasswordChange&&await ge({forcePasswordChange:!1})},$e=async ke=>{const Te=fk(Lf,"europe-west3");await hk(Te,"requestPasswordReset")({email:ke})},ae=(ke,Te=!1)=>{const et=()=>Te&&St.currentUser?kn(st,"users",St.currentUser.uid,ke):kn(st,ke);return{add:async Et=>{if(!e||!e.companyId||!St.currentUser)throw new Error("Not authenticated");const rn={...Et,companyId:e.companyId,ownerId:St.currentUser.uid,createdAt:new Date().toISOString()},sn=et();if(!sn)throw new Error("Could not create collection reference.");return{id:(await zs(sn,rn)).id,...rn}},update:async Et=>{const rn=Te&&St.currentUser?`users/${St.currentUser.uid}/${ke}`:ke,sn=Qn(st,rn,Et.id);await io(sn,Et)},remove:async Et=>{const rn=Te&&St.currentUser?`users/${St.currentUser.uid}/${ke}`:ke,sn=Qn(st,rn,Et);await Ed(sn)}}},{add:Re,update:Me,remove:le}=ae("pitches",!0),{add:nt,update:Ge,remove:mt}=ae("clients",!0),{remove:pt}=ae("goals",!0),{add:Pt,remove:vt}=ae("plannings",!0),{add:Fe,update:Ae,remove:ot}=ae("appointments",!1),ts={user:e,users:r,allUsers:s,loading:q,error:ee,pitches:l,knowledgeBasePitches:d,clients:p,goals:v,motivationPosts:E,competitorNotes:I,marketIntelligenceNotes:D,invoices:$,plannings:M,appointments:V,productPackages:P,login:F,registerManagerAccount:K,logout:H,updateUser:ge,addTeamMember:Ee,createBranchAndManager:Q,updateBranchDetails:async(ke,Te,et)=>{if(!e||e.role!=="owner")throw new Error("Permission denied for updating branch details.");const je=tS(st),ut=El(kn(st,"users"),Us("companyId","==",e.companyId),Us("branchName","==",ke)),Rt=await im(ut);if(Rt.empty&&!et){console.warn("No users found in branch:",ke);return}if(ke!==Te&&Rt.forEach(Et=>{je.update(Et.ref,{branchName:Te})}),et){const Et=Rt.docs.find(ar=>ar.data().role==="manager");Et&&je.update(Et.ref,{role:"salesperson"});const rn=El(kn(st,"users"),Us("companyId","==",e.companyId),Us("email","==",et)),sn=await im(rn);if(sn.empty)throw new Error(`User with email ${et} not found.`);const $n=sn.docs[0],sr={role:"manager"};$n.data().branchName!==Te&&(sr.branchName=Te),je.update($n.ref,sr)}await je.commit()},logSale:se,changePassword:re,resetPassword:$e,addPitch:Re,updatePitch:Me,deletePitch:le,promotePitchToKB:async(ke,Te)=>{if(!e||e.role!=="manager"&&e.role!=="leader"&&e.role!=="team-leader")throw new Error("Permission denied");const et={...ke,promotedBy:e.name,note:Te,branchName:e.branchName,companyId:e.companyId};await zs(kn(st,"knowledgeBase"),et)},addKnowledgeBasePost:async(ke,Te)=>{if(!e)throw new Error("Permission denied");const et={name:ke,content:`**Mededeling: ${ke}**

${Te}`,createdAt:new Date().toISOString(),promotedBy:e.name,note:e.role==="owner"?"Mededeling van de directie":"Mededeling van de manager",companyId:e.companyId,branchName:e.role==="owner"?"__ORGANIZATION__":e.branchName};await zs(kn(st,"knowledgeBase"),et)},deleteKnowledgeBasePost:async ke=>{if(!e||e.role!=="manager"&&e.role!=="owner")throw new Error("Permission denied");await Ed(Qn(st,"knowledgeBase",ke))},addContentToKB:async ke=>{if(!e||!St.currentUser)throw new Error("Not authenticated");const{title:Te,content:et,note:je}=ke,ut={name:Te,content:et,createdAt:new Date().toISOString(),promotedBy:e.name,note:je,branchName:e.role==="owner"?"__ORGANIZATION__":e.branchName,companyId:e.companyId};await zs(kn(st,"knowledgeBase"),ut)},updateTeamMemberRole:async(ke,Te)=>{if(!e||e.role!=="team-leader"&&e.role!=="manager"&&e.role!=="owner")throw new Error("Permission denied to change roles.");if(!s.find(Et=>Et.email===ke))throw new Error("User not found.");const je=El(kn(st,"users"),Us("email","==",ke),Us("companyId","==",e.companyId)),ut=await im(je);if(ut.empty)throw new Error("User not found in your company.");const Rt=ut.docs[0];await io(Rt.ref,{role:Te})},addClient:nt,updateClient:Ge,deleteClient:mt,addGoal:async ke=>{if(!e||!St.currentUser)throw new Error("Not authenticated");const Te={...ke,goalType:"sales",companyId:e.companyId},et=kn(st,"users",St.currentUser.uid,"goals");return{id:(await zs(et,Te)).id,...Te}},deleteGoal:pt,addMotivationPost:async ke=>{if(!e||!St.currentUser)throw new Error("Not authenticated");const Te={...ke,authorId:St.currentUser.uid,authorName:e.name,createdAt:new Date().toISOString(),companyId:e.companyId,branchName:e.role==="owner"?"__ORGANIZATION__":e.branchName};e.profilePicture&&(Te.authorProfilePicture=e.profilePicture),await zs(kn(st,"motivationPosts"),Te)},updateMotivationPost:async ke=>{const Te=Qn(st,"motivationPosts",ke.id);await io(Te,ke)},deleteMotivationPost:async ke=>{if(!e||!St.currentUser)throw new Error("Not authenticated");const Te=e.role==="leader"||e.role==="team-leader"||e.role==="manager"||e.role==="owner",et=E.find(je=>je.id===ke);if(Te||(et==null?void 0:et.authorId)===St.currentUser.uid)await Ed(Qn(st,"motivationPosts",ke));else throw new Error("Permission denied")},addCompetitorNote:async ke=>{if(!e||!St.currentUser)throw new Error("Not authenticated");const Te={...ke};Object.keys(Te).forEach(je=>{Te[je]===void 0&&delete Te[je]});const et={...Te,authorId:St.currentUser.uid,authorName:e.name,createdAt:new Date().toISOString(),companyId:e.companyId,branchName:e.role==="owner"?"__ORGANIZATION__":e.branchName};await zs(kn(st,"competitorNotes"),et)},updateCompetitorNote:async ke=>{const Te={...ke};Object.keys(Te).forEach(je=>{Te[je]===void 0&&delete Te[je]});const et=Qn(st,"competitorNotes",Te.id);await io(et,Te)},deleteCompetitorNote:async ke=>{await Ed(Qn(st,"competitorNotes",ke))},addMarketIntelligenceNote:async ke=>{if(!e||!St.currentUser)throw new Error("Not authenticated");const Te={...ke,authorId:St.currentUser.uid,authorName:e.name,createdAt:new Date().toISOString(),companyId:e.companyId,branchName:e.role==="owner"?"__ORGANIZATION__":e.branchName};await zs(kn(st,"marketIntelligenceNotes"),Te)},addPlanning:Pt,deletePlanning:vt,addAppointment:Fe,updateAppointment:Ae,deleteAppointment:ot,addProductPackage:async ke=>{if(!e)throw new Error("Not authenticated");const Te=e.role==="owner"?"__ORGANIZATION__":e.branchName,et={...ke,companyId:e.companyId,branchName:Te};await zs(kn(st,"productPackages"),et)},updateProductPackage:async ke=>{if(!e)throw new Error("Not authenticated");const Te={...ke,companyId:e.companyId};await io(Qn(st,"productPackages",Te.id),Te)},deleteProductPackage:async ke=>{await Ed(Qn(st,"productPackages",ke))},deleteUser:async ke=>{if(!e||e.role!=="owner"&&e.role!=="manager")throw new Error("Permission denied");if(!s.find(je=>je.uid===ke))throw new Error("User not found");const et=["sales","pitches","clients","goals","plannings","appointments"];for(const je of et){const ut=El(kn(st,"users",ke,je)),Rt=await im(ut),Et=tS(st);Rt.forEach(rn=>Et.delete(rn.ref)),await Et.commit()}await Ed(Qn(st,"users",ke))},deleteBranch:async ke=>{if(!e||e.role!=="owner")throw new Error("Permission denied");const Te=s.filter(je=>je.branchName===ke);if(Te.length===0)return 0;const et=tS(st);for(const je of Te)if(je.uid){const ut=Qn(st,"users",je.uid);et.delete(ut)}return await et.commit(),Te.length},decreasePurchasedLicenses:async ke=>{if(!e||e.role!=="owner"||!St.currentUser)throw new Error("Permission denied");if(ke<=0)return;const Te=e.purchasedLicenses||s.length,et=Math.max(s.length,Te-ke),je=Qn(st,"users",St.currentUser.uid);await io(je,{purchasedLicenses:et})},sharePracticeResults:async ke=>{if(!e||!e.uid||!s.length)throw new Error("User data not available.");let Te=null;if(e.role==="salesperson"?Te=s.find(je=>{var ut;return(je.role==="leader"||je.role==="team-leader")&&((ut=je.teamMembers)==null?void 0:ut.includes(e.email))})||null:e.role==="leader"?Te=s.find(je=>{var ut;return je.role==="team-leader"&&((ut=je.teamMembers)==null?void 0:ut.includes(e.email))})||null:e.role==="team-leader"?Te=s.find(je=>je.role==="manager"&&je.branchName===e.branchName)||null:e.role==="manager"&&(Te=s.find(je=>je.role==="owner"&&je.companyId===e.companyId)||null),!Te&&(e.role==="salesperson"||e.role==="leader"||e.role==="team-leader")&&(Te=s.find(je=>je.role==="manager"&&je.branchName===e.branchName)||null),!Te&&e.role!=="owner"&&(Te=s.find(je=>je.role==="owner"&&je.companyId===e.companyId)||null),!Te||!Te.uid)throw new Error("Kon geen leidinggevende vinden om de resultaten mee te delen.");const et={traineeId:e.uid,traineeName:e.name,superiorId:Te.uid,superiorName:Te.name,pitchName:ke.pitchName,transcript:ke.transcript,feedback:ke.feedback,createdAt:new Date().toISOString(),companyId:e.companyId||"",branchName:e.branchName,isReviewed:!1};await zs(kn(st,"trainingResults"),et)}};return f.jsx(y5.Provider,{value:ts,children:t})},bt=()=>{const t=k.useContext(y5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Dee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),v5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M3 3v18h18"}),f.jsx("path",{d:"M18 17V9"}),f.jsx("path",{d:"M13 17V5"}),f.jsx("path",{d:"M8 17v-3"})]}),mk=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),pk=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}),f.jsx("path",{d:"M9 18h6"}),f.jsx("path",{d:"M10 22h4"})]}),b5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Yr=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9Z"}),f.jsx("path",{d:"M5 3v4"}),f.jsx("path",{d:"M19 17v4"}),f.jsx("path",{d:"M3 5h4"}),f.jsx("path",{d:"M17 19h4"})]}),_v=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Jp=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),f.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),f.jsx("path",{d:"M4 22h16"}),f.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),f.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),f.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Xs=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),x5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),jee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("polyline",{points:"15 18 9 12 15 6"})}),Oee=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Lee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Gd=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("line",{x1:"12",x2:"12",y1:"16",y2:"16"}),f.jsx("line",{x1:"8",x2:"8",y1:"12",y2:"12"}),f.jsx("line",{x1:"8",x2:"8",y1:"16",y2:"16"}),f.jsx("line",{x1:"16",x2:"16",y1:"12",y2:"12"}),f.jsx("path",{d:"M12 12h4"}),f.jsx("path",{d:"M12 16h4"})]}),gk=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),f.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),f.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),f.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),Ts=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M5.52 19c.64-2.2 1.84-3 3.22-3h6.52c1.38 0 2.58.8 3.22 3"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"}),f.jsx("circle",{cx:"12",cy:"12",r:"10"})]}),$ee=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),f.jsx("polyline",{points:"10 17 15 12 10 7"}),f.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]}),Vee=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"3"}),f.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),Ql=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3z"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21h-3.37a4 4 0 0 0-3.13-2.5M16 3.13a4 4 0 0 1 0 7.75"})]}),up=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),f.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),dp=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),f.jsx("path",{d:"m9 14 2 2 4-4"})]}),Vb=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),Uee=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),f.jsx("path",{d:"M2 12h20"}),f.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),Ub=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),zb=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("rect",{x:"1",y:"4",width:"22",height:"5",rx:"1",ry:"1"}),f.jsx("path",{d:"M3 9v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9"}),f.jsx("line",{x1:"10",y1:"14",x2:"14",y2:"14"})]}),w5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),zee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("path",{d:"M7 21c-3-3-3-6-1-8 2-2 4-2 6-1 2 1 4 0 6 1s3 3 1 5-3 3-5 3-3-1-4-2-3 0-4 1z"})}),yf=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),S5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),LE=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M8 12h.01"}),f.jsx("path",{d:"M12 12h.01"}),f.jsx("path",{d:"M16 12h.01"}),f.jsx("path",{d:"M21 12c0-4.4-3.6-8-8-8H7c-4.4 0-8 3.6-8 8v2c0 4.4 3.6 8 8 8h1l4 4V18h1c4.4 0 8-3.6 8-8v-2z"})]}),T5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),Va=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),$E=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),f.jsx("polyline",{points:"22,6 12,13 2,6"})]}),VE=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Bb=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),f.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),_k=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),f.jsx("path",{d:"M6 12v5c0 1.7 2.7 3 6 3s6-1.3 6-3v-5"})]}),yk=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),f.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Xp=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),f.jsx("polyline",{points:"17 6 23 6 23 12"})]}),E5=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),f.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),fp=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M5 12.55a11 11 0 0 1 14.08 0"}),f.jsx("path",{d:"M1.42 9a16 16 0 0 1 21.16 0"}),f.jsx("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),f.jsx("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"})]}),hp=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),Bee=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),Fee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:f.jsx("polyline",{points:"6 9 12 15 18 9"})}),zm=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),cD=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})}),yv=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6h1.5m-1.5 3h1.5m-1.5 3h1.5M6.75 21v-2.25a2.25 2.25 0 0 1 2.25-2.25h6a2.25 2.25 0 0 1 2.25 2.25V21M6.75 3v2.25a2.25 2.25 0 0 0 2.25 2.25h6a2.25 2.25 0 0 0 2.25-2.25V3"})}),A5=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286Z"})}),qee=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),Gee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})}),k5=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A.75.75 0 0 1 14.25 12h.01a.75.75 0 0 1 .75.75V21m-4.5 0v-7.5A.75.75 0 0 0 9.75 12h.01a.75.75 0 0 0 .75.75V21m-4.5 0v-7.5A.75.75 0 0 1 5.25 12h.01a.75.75 0 0 1 .75.75V21m8.25-18-2.75 5.25a.75.75 0 0 1-1.25.337l-3-3.75a.75.75 0 0 0-1.25.337L5.25 3H3.75a.75.75 0 0 0-.75.75v16.5a.75.75 0 0 0 .75.75h16.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"})}),vk=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15A2.25 2.25 0 0 0 2.25 6.75v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})});function bk(t,e){const[n,r]=k.useState(()=>{if(typeof window>"u")return e;try{const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch(s){return console.error(`Error reading localStorage key ${t}:`,s),e}});k.useEffect(()=>{if(typeof window<"u")try{const s=window.localStorage.getItem(t);r(s?JSON.parse(s):e)}catch(s){console.error(`Error reading localStorage key ${t}:`,s),r(e)}},[t]);const i=k.useCallback(s=>{try{r(a=>{const l=s instanceof Function?s(a):s;return typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(l)),l})}catch(a){console.error(`Error writing to localStorage key ${t}:`,a)}},[t]);return[n,i]}const Hee="Dashboard",Kee="Pitch Generator",Wee="Opgeslagen Pitches",Yee="Pitch Oefenen",Jee="Klanten",Xee="Concurrentieanalyse",Qee="Concurrentie Notities",Zee="Doelen",ete="Mijn Priv Team",tte="Mijn Filiaal",nte="Mijn Organisatie",rte="Mijn Filiaal Team",ite="Team Kennisbank",ste="Filiaal Kennisbank",ate="Organisatie News",ote="Planning",lte="Pakketbeheer",cte="Facturatie",ute="Verkoopanalyse",dte="Profiel",fte="Instellingen",hte="Uitloggen",mte="Dark Mode",pte="Light Mode",gte="Registreer Sale",_te="Goedemorgen",yte="Goedemiddag",vte="Goedenavond",bte="Welkom terug op uw persoonlijke dashboard.",xte="Welkom terug op uw management dashboard.",wte="Dashboard",Ste="Pitch Generator",Tte="Opgeslagen Pitches",Ete="Pitch Oefenen",Ate="Klanten",kte="Concurrentieanalyse",Ite="Concurrentie Notities",Cte="Doelen",Nte="Instellingen",Pte="Mijn Priv Team",Rte="Mijn Filiaal",Mte="Mijn Organisatie",Dte="Mijn Filiaal Team",jte="Profiel",Ote="Team Kennisbank",Lte="Filiaal Kennisbank",$te="Organisatie News",Vte="Planning",Ute="Pakketbeheer",zte="Facturatie",Bte="Verkoopanalyse",Fte="AI Tip van de Dag",qte="Verkoopdoelen (Contractwaarde)",Gte="Vandaag",Hte="Deze Week",Kte="Uw Agenda Vandaag",Wte="AI-samenvatting wordt geladen...",Yte="Geen afspraken voor vandaag.",Jte="Team Sales Vandaag",Xte="Team Sales Week",Qte="Team Sales Maand",Zte="Gem. Dagverkoop (Maand)",ene="Weekgemiddelde (per dag)",tne="Maandgemiddelde (per dag)",nne="Sales Streak",rne="Dagen op rij een verkoop",ine="Mijn Badges",sne="Blijf verkopen en doelen behalen om badges te verdienen!",ane="Uw Week in Review",one="AI-gedreven inzichten in uw prestaties van de afgelopen 7 dagen.",lne="Genereer Review",cne="Genereren...",une="Genereer een review om uw wekelijkse inzichten te zien.",dne="Team Updates",fne="Recente berichten van het management.",hne="Nog geen team updates geplaatst.",mne="Nieuw Bericht",pne="AI Sales Coach",gne="Creer een complete verkoopstrategie en pitch op maat.",_ne="Uw Profiel",yne="Verkoopkanaal",vne="Branche",bne="Bedrijf",xne="Stap 1: Pitch Type",wne="Stap %{step_number}: Pitch Type",Sne="Normaal",Tne="Kort & Krachtig",Ene="Stap 2: Verkoopkanaal",Ane="Stap %{step_number}: Verkoopkanaal",kne="Selecteer het kanaal waarvoor u deze pitch wilt genereren.",Ine="Deur-aan-deur",Cne="Telemarketing",Nne="Stap %{step_number}: Namens welk bedrijf pitch je?",Pne="Selecteer het bedrijf waarvoor je pitcht",Rne="Selecteer een bedrijf",Mne="Stap %{step_number}: Details",Dne="Wat is uw verkoopstijl/persoonlijkheid?",jne="bv. Energiek, extravert, formeel",One="In welke stad/wijk bent u actief?",Lne="bv. Amsterdam-Zuid, Utrecht centrum",$ne="Genereer Strategie",Vne="Genereren...",Une="Uw Strategie & Pitch",zne="Uw persoonlijke verkoopstrategie verschijnt hier.",Bne="Vul de stappen aan de linkerkant in om te beginnen.",Fne="Strategisch Buurtadvies",qne="Advies: Toon & Stijl",Gne="De Pitch op Maat",Hne="Meest Waarschijnlijke Bezwaren",Kne="Vraag de AI Coach",Wne="Strategie Opslaan",Yne="Opgeslagen!",Jne="Hallo! Ik ben uw AI Sales Coach. Hoe kan ik u helpen uw strategie te verfijnen?",Xne="AI Sales Coach",Qne="Stel een vraag aan de coach...",Zne="Klanten",ere="Nieuwe Klant",tre="Nog geen klanten",nre="Voeg uw eerste klant toe om te beginnen.",rre="Bewerken",ire="Weet u zeker dat u dit wilt verwijderen?",sre="Notities",are="Geen notities voor deze klant.",ore="Genereer Briefing",lre="Briefing...",cre="Genereer Klantprofiel",ure="Profiel...",dre="Analyseer Notities",fre="Analyseren...",hre="Pre-Call Briefing",mre="AI Klantprofiel",pre="Notitie Analyse",gre="Stel Follow-up Email Op",_re="Selecteer een klant",yre="Of voeg een nieuwe klant toe om te beginnen.",vre="Klant Bewerken",bre="Nieuwe Klant Toevoegen",xre="Naam",wre="Bedrijf",Sre="Notities",Tre="Annuleren",Ere="Opslaan",Are="Gespecialiseerde Concurrentieanalyse",kre="Krijg diepgaande AI-inzichten door uw aanbod te vergelijken met specifieke concurrenten.",Ire="Stap %{step_number}: Kies een markt",Cre="Selecteer de branche waarin u wilt analyseren.",Nre="Telecom",Pre="Energie",Rre="Stap %{step_number}: Selecteer concurrenten",Mre="Vink de bedrijven aan die u wilt opnemen in de analyse.",Dre="Stap %{step_number}: Vul uw aanbieding in",jre="Pakkettype",Ore="Snelheid (Mbps)",Lre="Prijs p/m ()",$re="Korting/Cashback ()",Vre="TV-details",Ure="Uw USPs",zre="Contractduur",Bre="Stroomtarief",Fre="Stroom Normaal (/kWh)",qre="Stroom Dal (/kWh)",Gre="Gas (/m)",Hre="Vaste kosten p/m ()",Kre="Welkomstbonus ()",Wre="Uw USPs",Yre="Selecteer ten minste n concurrent.",Jre="Analyseer Concurrentie",Xre="Analyseren...",Qre="Strategische Samenvatting",Zre="AI analyseert de data voor u...",eie="Maandelijkse Prijsvergelijking",tie="Detail Vergelijking",nie="Stroomtarief (Normaal)",rie="Nieuwe Klanten",iie="Bestaande Klanten",sie="Verkoopdoelen Instellen",aie="Nieuw Verkoopdoel",oie="Aantal sales",lie="Per Dag",cie="Per Week",uie="Instellen",die="Actieve Verkoopdoelen",fie="Dagelijks Doel:",hie="Wekelijks Doel:",mie="sales",pie="Nog geen verkoopdoelen ingesteld.",gie="Opgeslagen Pitches",_ie="Nog geen pitches opgeslagen",yie="Genereer of voeg een pitch toe om te beginnen.",vie="Opgeslagen op",bie="Weet u zeker dat u deze pitch wilt verwijderen?",xie="AI Pitch Analyse",wie="Promoot naar Kennisbank",Sie="Analyseer met AI",Tie="Structuur & Flow",Eie="Woordkeuze & Toon",Aie="Waardepropositie",kie="Afsluiting (Call to Action)",Iie="Selecteer een pitch",Cie="Bekijk, bewerk of analyseer een opgeslagen strategie.",Nie="Voeg een notitie toe voor uw team: waarom is deze pitch succesvol?",Pie="Nieuwe Pitch Toevoegen",Rie="Voeg uw Eigen Pitch Toe",Mie="Naam van de Pitch",Die="Pitch Toevoegen",jie="Strategisch Buurtadvies",Oie="Advies: Toon & Stijl",Lie="De Pitch op Maat",$ie="Meest Waarschijnlijke Bezwaren",Vie="Interactieve Pitch Training",Uie="Oefen uw pitches in een realistisch scenario met een AI-gesprekspartner.",zie="Stap 1: Kies een pitch om te oefenen",Bie="U heeft nog geen pitches opgeslagen.",Fie='Ga naar "Pitch Generator" om uw eerste pitch te maken.',qie="Stap 2: Kies uw gesprekspartner",Gie="Selecteer de rol die de AI moet spelen.",Hie="Terug naar pitch selectie",Kie="Oefensessie:",Wie="Geselecteerde pitch:",Yie="Wacht op start...",Jie="Microfoon niet gevonden of toegang geweigerd. Sta microfoontoegang toe in uw browser.",Xie="Er is een connectiefout opgetreden: %{message}",Qie="Stop Sessie",Zie="Start Oefensessie",ese="Nieuwe sessie starten",tse="Sessie voltooid!",nse="Gesprekstranscript",rse="AI Feedback",ise="Genereer Feedback",sse="Klik op 'Genereer Feedback' om een analyse van uw gesprek te krijgen.",ase="Genereer Feedback",ose="U",lse="Klant (AI)",cse="Instellingen",use="Uw Naam",dse="E-mailadres",fse="Bedrijfsnaam",hse="Uw naam, e-mail, branche en verkoopkanaal zijn vastgezet om de AI-adviezen consistent en relevant te houden voor uw specifieke rol. Om deze te wijzigen, dient u uit te loggen en een nieuw profiel aan te maken.",mse="Uw naam en e-mailadres zijn gekoppeld aan uw account. Uw rol geeft u toegang tot alle branches en kanalen binnen uw filiaal.",pse="Wijzigingen opgeslagen!",gse="Welkom leader!",_se="Welkom team-leader!",yse="Voeg Lid Toe",vse="Vandaag Verkocht",bse="Deze Week Verkocht",xse="Deze Maand Verkocht",wse="Teamleden & Rollen",Sse="verkopen deze maand",Tse="Rol wijzigen",Ese='Weet u zeker dat u de rol van deze gebruiker wilt wijzigen naar "%{role}"?',Ase="AI Team Prestatieanalyse",kse="Krijg een strategisch overzicht en coachingsadvies van de AI.",Ise="Genereer Analyse",Cse="Mijn Filiaal Team",Nse="Overzicht van de volledige teamhirarchie in uw filiaal.",Pse="Geen teamstructuur gevonden. Uw manager heeft mogelijk nog geen teamleiders aangewezen.",Rse="Totaal Waarde Deze Maand",Mse="Teamleden",Dse="Deze maand",jse="Mijn Priv Team",Ose="Uw directe leidinggevenden en collega's.",Lse="Uw Team Leader",$se="Uw Leader",Vse="Uw Leidinggevenden",Use="Geen Team Leader gevonden.",zse="Geen directe Leader gevonden.",Bse="Uw Teamgenoten",Fse="U heeft geen directe teamgenoten.",qse="Mijn Filiaal:",Gse="Overzicht van alle leden en prestaties in uw filiaal.",Hse="Extra Licenties Kopen",Kse="Totaal Waarde (Maand)",Wse="Totaal FTE's",Yse="Weekgemiddelde (Filiaal)",Jse="Maandgemiddelde (Filiaal)",Xse="Telecom Sector",Qse="Energie Sector",Zse="Medewerkers",eae="Sales (maand)",tae="Geen medewerkers in deze sector.",nae="Filiaal Leden",rae="Zoek medewerker...",iae="Extra Licenties Kopen",sae="Aantal extra licenties",aae="Prijs: %{price} per licentie",oae="Totaal: %{total_cost}",lae="Aanvraag Indienen",cae="Aanvraag Indienen...",uae="Aanvraag verzonden!",dae="Bedankt voor uw aanvraag. We nemen binnen 2 werkdagen contact met u op om de extra licenties te activeren.",fae="Organisatie News",hae="Filiaal Kennisbank",mae="Team Kennisbank",pae="Plaats mededelingen voor de hele organisatie en bekijk alle gedeelde kennis.",gae="Plaats mededelingen voor uw filiaal en bekijk organisatie-brede berichten.",_ae='Leer van de "Gouden Pitches" die door uw leidinggevenden zijn geselecteerd.',yae="(Organisatie)",vae="Door:",bae="Notitie van",xae="Selecteer een bericht of 'Gouden Pitch'",wae="Bekijk de details van de beste strategien en mededelingen.",Sae="De Kennisbank is nog leeg",Tae="Wanneer een leidinggevende een bericht of een succesvolle pitch deelt, zal deze hier verschijnen.",Eae="Planning & Agenda",Aae="Genereer trainingsplannen met AI en beheer uw afspraken.",kae="AI Trainingsplanner",Iae="Training Focus",Cae="bv. Pitch Training, Motivatie Boost",Nae="Verwerp",Pae="Opgeslagen Plannen",Rae="Agenda",Mae="Afspraak Bewerken",Dae="Nieuwe Afspraak",jae="Titel",Oae="Datum",Lae="Tijd",$ae="Notities (optioneel)",Vae="Pakketbeheer",Uae="Definieer de producten/pakketten die uw teams verkopen.",zae="Nieuw Pakket",Bae="Nog geen pakketten gedefinieerd.",Fae="Pakket Bewerken",qae="Nieuw Pakket",Gae="Naam Pakket",Hae="Contractwaarde (bv. 1.0, 0.5)",Kae="Welkom op het overzichtsdashboard van uw organisatie.",Wae="vs. vorige maand",Yae="Top Filiaal",Jae="Totaal Filialen",Xae="Totaal Medewerkers",Qae="Filiaal Prestaties (Deze Maand)",Zae="medewerkers",eoe="sales/fte",toe="Snelle Mededeling",noe="Titel",roe="Uw bericht voor de organisatie...",ioe="Publiceer",soe="Publiceren...",aoe="Snelle Links",ooe="Beheer Organisatie",loe="Beheer Pakketten",coe="Mijn Organisatie",uoe="Beheer alle filialen binnen uw bedrijf.",doe="Nieuw Filiaal Toevoegen",foe="Overzicht Filialen",hoe="Manager:",moe="Medewerkers:",poe="Aantal Sales (Maand):",goe="Nog niet toegewezen",_oe="Nog geen filialen aangemaakt.",yoe="Voeg uw eerste filiaal en manager toe om te beginnen.",voe="Mijn Profiel",boe="Upload profielfoto",xoe="Rol",woe="Profiel opgeslagen!",Soe="Beveiliging",Toe="Nieuw Wachtwoord",Eoe="Minimaal 6 tekens",Aoe="Bevestig Wachtwoord",koe="Herhaal nieuw wachtwoord",Ioe="Wachtwoord moet minimaal 6 tekens lang zijn.",Coe="De wachtwoorden komen niet overeen.",Noe="Uw wachtwoord is succesvol gewijzigd!",Poe="Deze actie vereist recente authenticatie. Log opnieuw in en probeer het nogmaals.",Roe="Er is een fout opgetreden bij het wijzigen van het wachtwoord.",Moe="Wijzigen...",Doe="Wachtwoord Wijzigen",joe="Welkom, %{name}!",Ooe="Stel uw persoonlijke wachtwoord in om uw account te beveiligen.",Loe="Bevestig Nieuw Wachtwoord",$oe="Wachtwoord Instellen en Doorgaan",Voe="Welkom terug!",Uoe="Log in om door te gaan naar uw Sales Copilot.",zoe="Wachtwoord",Boe="Wachtwoord vergeten?",Foe="Uw e-mailadres of wachtwoord is incorrect.",qoe="Er is een onverwachte fout opgetreden. Probeer het opnieuw.",Goe="Uw account is in afwachting van goedkeuring.",Hoe="Er is een e-mail met instructies voor wachtwoordherstel naar u verzonden.",Koe="Geen account gevonden voor dit e-mailadres.",Woe="Kon de e-mail voor wachtwoordherstel niet verzenden.",Yoe="Inloggen...",Joe="Inloggen",Xoe="Nog geen account?",Qoe="Registreer uw bedrijf.",Zoe="Registreer uw Bedrijf",ele="Start vandaag nog met het transformeren van uw sales team.",tle="Persoonlijke Gegevens",nle="Volledige Naam",rle="Functie",ile="E-mailadres (voor inlog)",sle="Bedrijfsgegevens",ale="Actieve Branche(s)",ole="Telecom",lle="Energie",cle="Beide",ule="Beide",dle="Aantal medewerkers op de app (exclusief uzelf)",fle="U betaalt voor uzelf + %{num_employees} medewerker(s) = %{total_licenses} licenties",hle="Totaal: %{total_cost} per maand",mle="(%{price} per licentie per maand)",ple="Straatnaam + Huisnummer",gle="Postcode",_le="Plaats",yle="Land",vle="Nederland",ble="Engeland",xle="Duitsland",wle="Bedrijfswebsite (optioneel)",Sle="Telefoonnummer (optioneel)",Tle="Factuur e-mail (optioneel)",Ele="Akkoordverklaringen",Ale="Ik ga akkoord met de",kle="Ik ga akkoord met de",Ile="Ik heb de",Cle="algemene voorwaarden",Nle="privacyverklaring",Ple="diensten en tarieven",Rle="gelezen en begrepen.",Mle="Registreer en Start",Dle="Controleer de gemarkeerde velden.",jle="U dient akkoord te gaan met alle voorwaarden.",Ole="Aanmelding Ontvangen!",Lle="Bedankt voor uw aanmelding. Wij nemen binnen 2 werkdagen contact met u op om uw account te activeren en alles op te zetten.",$le="Terug naar Home",Vle="Nieuw Lid Toevoegen",Ule="Naam",zle="E-mail",Ble="Tijdelijk Wachtwoord",Fle="Opslaan...",qle="Bericht Bewerken",Gle="Nieuw Team Bericht",Hle="Inhoud (Markdown ondersteund)",Kle="AI Inspiratie",Wle="Waar wil je over schrijven?",Yle="Bericht vastpinnen (verloopt niet)",Jle="Ja, pas de pitch aan",Xle="AI Email Assistent",Qle="1. Kies het doel van uw e-mail",Zle="Afspraak bevestigen",ece="Offerte nasturen",tce="Bedanken voor gesprek",nce="2. Genereer E-mail",rce="Genereren...",ice="3. Resultaat",sce="Kopieer naar Klembord",ace="Gekopieerd!",oce="Verkoop Registreren",lce="Selecteer het verkochte pakket:",cce="Uw manager heeft nog geen verkooppakketten voor uw branche en bedrijf ingesteld.",uce="Registreer",dce="Sluiten",fce="Team Pulsslag (Vandaag)",hce="Top Performer",mce="Nog geen sales vandaag.",pce="Coaching Kansen",gce="Iedereen in het team heeft vandaag al verkocht, top!",_ce="Filiaal Beheren",yce="Manager Toewijzen",vce="Selecteer een medewerker om tot manager te promoveren. De huidige manager wordt gedegradeerd tot salesperson.",bce="Filiaalnaam is verplicht.",xce="(Huidige)",wce="Markt-intelligentie",Sce="Gecentraliseerd platform voor strategische inzichten uit het veld.",Tce="Deel Inzicht",Ece="Zoek in notities...",Ace="Alle Categorien",kce="Geen inzichten gevonden.",Ice="Deel als eerste een strategisch inzicht met uw team.",Cce="Deel een Strategisch Inzicht",Nce="Categorie",Pce="Inhoud / Observatie",Rce="Categorie en inhoud zijn verplicht.",Mce="Deel Inzicht",Dce="Alle velden zijn verplicht.",jce="Nieuw Filiaal & Manager Aanmaken",Oce="Naam van het nieuwe filiaal",Lce="Manager Gegevens",$ce="Volledige Naam Manager",Vce="E-mailadres Manager",Uce="Tijdelijk Wachtwoord",zce="Aanmaken...",Bce="Aanmaken",Fce="Titel en inhoud zijn verplicht.",qce="Titel / Onderwerp",Gce="Inhoud / Mededeling",Hce="Mijn Organisatie",Kce="Concurrentie Notities",Wce="Deel hier inzichten over concurrenten die u in het veld verzamelt met uw team en management.",Yce="Nieuwe Notitie",Jce="Nog geen notities.",Xce="door %{authorName} op %{date}",Qce="Notitie Bewerken",Zce="Nieuwe Notitie Invoeren",eue="Concurrent",tue="Selecteer een concurrent",nue="Selecteer een branche",rue="Pakketsoort",iue="Selecteer een pakket",sue="Alleen Internet",aue="Alleen TV",oue="Alleen Telefonie",lue="Internet + TV",cue="Internet + Telefonie",uue="Alles-in-1",due="Maandprijs ()",fue="Internetsnelheid (Mbps)",hue="TV Details",mue="bv. Aantal zenders, extra pakketten",pue="Telefonie Details",gue="bv. Onbeperkt bellen, buitenlandbundel",_ue="Contractduur",yue="Selecteer duur",vue="1 Jaar",bue="3 Jaar",xue="Tariefsoort",wue="Selecteer tariefsoort",Sue="Enkel",Tue="Dubbel",Eue="Stroomtarief (piek)",Aue="Stroomtarief (dal)",kue="Stroomtarief",Iue="Gastarief",Cue="USPs (Unique Selling Points)",Nue="Algemene Notities",Pue="Weet u zeker dat u deze notitie wilt verwijderen?",Rue="Selecteer alstublieft een concurrent.",Mue="KVK-nummer",Due="Company Registration Number",jue="Handelsregisternummer",Oue="BTW-nummer",Lue="VAT Number",$ue="USt-IdNr.",Vue="Ongeldig KVK-nummer (moet 8 cijfers zijn).",Uue="Ongeldig Company Number (moet 8 tekens zijn).",zue="Ongeldig Handelsregisternummer (bv. HRA 12345).",Bue="Ongeldig BTW-nummer (bv. NL123456789B01).",Fue="Ongeldig VAT-nummer (bv. GB123456789).",que="Ongeldig USt-IdNr (bv. DE123456789).",Gue="Vul alstublieft een voor- en achternaam in.",Hue="Vul een geldig e-mailadres in.",Kue="Tarieven",Wue="Over Ons",Yue="Contact",Jue="Inloggen",Xue="Registreren",Que='Geef uw Salesteam de <span class="text-brand-primary">Tools</span> om Elke Sale te Winnen',Zue="Speciaal ontworpen voor de frontlinie. Versterk uw deur-aan-deur en telemarketing verkopers met strategien die werken. Managers en eigenaren krijgen tegelijkertijd een helder inzicht in de prestaties om groei te sturen.",ede="Start uw 14-daagse proefperiode",tde="Volledig functioneel, geen creditcard nodig.",nde="Alles-in-n platform",rde="De Complete Toolkit voor Winstgevende Verkoop",ide="Alles wat uw team nodig heeft om te excelleren, van voorbereiding tot closing en coaching. Ondersteund door slimme technologie.",sde="Strategische Pitch Generator",ade="Creer winnende pitches op maat. Onze tool analyseert uw doelgroep en geeft u een complete strategie, inclusief bezwaren en toonadvies.",ode="Slim & Simpel CRM",lde="Beheer uw klanten moeiteloos. De tool vat uw notities samen, stelt actiepunten voor en bereidt u voor op elk gesprek met een automatische briefing.",cde="Live Concurrentieanalyse",ude="Vergelijk uw aanbod live met de markt. Krijg direct inzicht in uw sterktes en zwaktes ten opzichte van uw rivalen.",dde="Gamificatie & Doelen",fde="Motiveer uw team met persoonlijke doelen, sales streaks en badges. Maak van verkopen een winnend spel.",hde="Overzichtelijk Team Management",mde="Krijg als manager of eigenaar een helikopterview over de prestaties van uw teams en filialen. Stuur bij waar nodig.",pde="Interactieve Oefenmodule",gde="Oefen uw pitches in realistische scenario's tegen een virtuele klant. Ontvang directe feedback en verbeter uw techniek.",_de='Klaar om uw <span class="block">Resultaten te Maximaliseren?</span>',yde="Geef uw team de tools die ze verdienen en zie het verschil in de cijfers. Begin vandaag nog slimmer te werken.",vde="Start Vandaag Nog",bde=" %{year} SalExplosive. Alle rechten voorbehouden.",xde="Diensten & Tarieven",wde="Over Ons",Sde="Contact",Tde="Privacybeleid",Ede="Algemene Voorwaarden",Ade="Diensten & Tarieven",kde="Eenvoudig, transparant en krachtig. En tarief voor alle functies.",Ide="Probeer 14 Dagen Gratis",Cde="Test alle functies van Sales Copilot, zonder verplichtingen.",Nde="Start Gratis Proefperiode",Pde="Na uw proefperiode",Rde="%{price}",Mde="per gebruiker / per maand",Dde="Alles-in-n Prijs",jde="Onbeperkt AI Pitch Generatie",Ode="Interactieve AI Pitch Training",Lde="AI Concurrentieanalyse",$de="Eenvoudig Klantenbeheer (CRM)",Vde="Doelen & Gamification",Ude="Team & Filiaal Management",zde="Team Kennisbank",Bde="Dagelijkse AI Tips",Fde="Over Ons",qde="Geboren uit praktijkervaring, gebouwd voor resultaat.",Gde="Ons Verhaal",Hde="SalExplosive is niet zomaar een tool; het is het resultaat van 5 jaar hands-on ervaring in de frontlinie van de saleswereld. Onze oprichter begon als salesagent en klom op door de rangen als leader, teamleider en uiteindelijk projectmanager.",Kde="Tijdens deze reis werd n uitdaging pijnlijk duidelijk: als leidinggevende wil je je team in het veld ondersteunen, coachen en naar succes leiden. Maar de realiteit is hard. Je kunt niet overal tegelijk zijn, zeker niet als je ook je eigen salesdoelen moet behalen. Kostbare coachingsmomenten gaan verloren en het potentieel van talentvolle verkopers blijft onbenut.",Wde="Dit frustrerende dilemma was de vonk die SalExplosive heeft gecreerd. We vroegen ons af: 'Wat als er een manier is om die cruciale ondersteuning te bieden, precies op het moment dat een verkoper het nodig heeft, zonder dat de leider fysiek aanwezig hoeft te zijn?' Vanuit die vraag hebben we een krachtige toolkit ontwikkeld die fungeert als de altijd aanwezige co-piloot voor elke salesagent.",Yde="Onze Missie",Jde="Onze missie is simpel: we overbruggen de kloof tussen de beperkte tijd van een leider en de onbeperkte potentie van een verkoper. We geven leiders de tools om hun team op afstand te versterken en verkopers het zelfvertrouwen en de strategie om elke sale te winnen.",Xde="SalExplosive is meer dan software; het is een partner in groei. Gebouwd door een verkoper, voor verkopers. We zijn hier om de frontlinie te versterken, de resultaten te maximaliseren en van elk teamlid een topper te maken.",Qde="Neem Contact Op",Zde="Heeft u vragen, opmerkingen of wilt u een demo? We horen graag van u.",efe="Onze Gegevens",tfe="E-mail",nfe="Telefoon",rfe="Alleen op afspraak",ife="Adres",sfe="Alleen postadres beschikbaar",afe="KVK",ofe="Bedankt voor uw bericht!",lfe="We nemen zo spoedig mogelijk contact met u op.",cfe="Uw Naam",ufe="Uw E-mailadres",dfe="Uw Telefoonnummer",ffe="Onderwerp",hfe="Uw Bericht",mfe="Verstuur Bericht",pfe="Versturen...",gfe="Sceptische Manager",_fe="Een ervaren manager die weinig tijd heeft, direct ter zake komt en gefocust is op ROI en concrete resultaten.",yfe="Vriendelijke Consument",vfe="Een genteresseerde maar prijsbewuste consument die openstaat voor een gesprek maar overtuigd moet worden van de waarde.",bfe="Technische Expert",xfe="Een detailgerichte professional die diepgaande, technische vragen stelt en de specificaties wil begrijpen.",wfe="Kon geen feedback genereren. Probeer het opnieuw.",Sfe="Opening & Eerste Indruk",Tfe="Was de opening sterk en relevant? Werd er een goede connectie gemaakt?",Efe="Vraagstelling & Behoefteanalyse",Afe="Stelde de verkoper de juiste vragen om de behoeften van de klant te achterhalen?",kfe="Omgaan met Bezwaren",Ife="Hoe effectief werden bezwaren en kritische vragen van de klant gepareerd?",Cfe="Toon & Stijl",Nfe="Was de toon van de verkoper passend voor de situatie en de persona? Was de communicatie helder?",Pfe="Afsluiting & Call to Action",Rfe="Was er een duidelijke en zelfverzekerde poging om het gesprek af te sluiten met een concrete volgende stap?",Mfe="Kies het type feedback dat u wilt ontvangen:",Dfe="Snelle Scan",jfe="Krijg snelle, kernachtige feedback. Ideaal voor een snelle check.",Ofe="Diepgaande Analyse",Lfe="Ontvang een gedetailleerde analyse. Dit kan iets langer duren.",$fe="Help Assistent",Vfe="Stel uw vraag...",Ufe="Hoe registreer ik een sale?",zfe="Hoe voeg ik een teamlid toe?",Bfe="Hoe maak ik een pitch?",Ffe="Hoe beheer ik klanten?",qfe="Facturatie & Abonnement",Gfe="Bekijk hier uw abonnementsgegevens en factuurgeschiedenis.",Hfe="Abonnementsoverzicht",Kfe="Licenties in Gebruik",Wfe="%{used}/%{total}",Yfe="Prijs per Licentie",Jfe="Geschatte Maandelijkse Kosten",Xfe="Factuurgeschiedenis",Qfe="Factuurnummer",Zfe="Datum",ehe="Bedrag",the="Status",nhe="Actie",rhe="Betaald",ihe="Openstaand",she="Download",ahe="Er zijn nog geen facturen gevonden.",ohe="Weet u zeker dat u deze gebruiker wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.",lhe="Weet u zeker dat u dit filiaal wilt verwijderen? Alle %{userCount} medewerkers worden ook permanent verwijderd.",che="Licentiebeheer",uhe="Er zijn %{count} licentie(s) vrijgekomen. Wat wilt u hiermee doen?",dhe="Hoeveel licenties wilt u verwijderen van uw abonnement?",fhe="Allemaal behouden",hhe="Allemaal verwijderen",mhe="Licentie behouden",phe="Bewaar de licentie voor een toekomstige medewerker. Er verandert niets op uw factuur.",ghe="Licentie verwijderen",_he="Verwijder de licentie van uw abonnement. Dit wordt verrekend op uw volgende factuur.",yhe="Licenties Behouden",vhe="Verwijder %{count} licentie(s)",bhe="Gebruiker verwijderen",xhe="Filiaal verwijderen",whe="incl. BTW",She="excl. BTW",The="Telefoonnummer",Ehe="bv. 612345678",Ahe="Stap %{step_number}: Branche",khe="Voor welke branche wilt u deze specifieke pitch genereren?",Ihe="Deel met Leidinggevende",Che="Delen...",Nhe="Gedeeld!",Phe="Registreren...",Rhe="Verkoopanalyse per Filiaal",Mhe="Vergelijk de maandelijkse prestaties van al uw filialen.",Dhe="Gemiddelde Dagelijkse Verkoop per Filiaal (Deze Maand)",jhe="Filiaal",Ohe="Totale Sales",Lhe="Gem. Dag/Maand",$he="Filter op filiaal",Vhe="Alle Filialen",Uhe="Bedrijfsbrede Mededelingen",zhe="Geen teamleden gevonden die aan uw zoekopdracht voldoen.",Bhe="Deel in Kennisbank",Fhe="Geef deze analyse een titel voor de kennisbank.",qhe="Concurrentieanalyse",Ghe="Markt",Hhe="Analyse uitgevoerd op",Khe="Ons Aanbod",Whe="Details Concurrenten",Yhe="Concurrentieanalyse voor de",Jhe="markt",Xhe="Fout bij het opslaan naar de kennisbank.",Qhe="Deel in Kennisbank",Zhe="Geef deze notitie een titel voor de kennisbank.",eme="Concurrentie Notitie",tme="Inzicht over concurrent",nme="Auteur",rme="Geen",ime="Telecom Details",sme="Energie Details",ame="Privacybeleid",ome="Hoe wij omgaan met uw gegevens",lme="Bij SalExplosive nemen we uw privacy serieus. Dit beleid beschrijft welke gegevens we verzamelen, hoe we ze gebruiken en hoe we ze beschermen.",cme="1. Gegevens die we verzamelen",ume="Wij verzamelen de volgende categorien persoonsgegevens:",dme="<strong>Accountgegevens:</strong> Naam, e-mailadres, telefoonnummer, functietitel en wachtwoord (versleuteld).",fme="<strong>Bedrijfsgegevens:</strong> Bedrijfsnaam, adres, KVK-nummer, BTW-nummer, sector en aantal medewerkers.",hme="<strong>Gebruiksgegevens:</strong> Informatie over hoe u de app gebruikt, zoals gegenereerde pitches, opgeslagen klanten en verkoopstatistieken.",mme="<strong>Technische gegevens:</strong> IP-adres, browsertype en apparaatgegevens voor beveiliging en optimalisatie.",pme="2. Hoe we uw gegevens gebruiken",gme="Uw gegevens worden gebruikt voor de volgende doeleinden:",_me="Om onze diensten te leveren, zoals het genereren van pitches en het bijhouden van sales.",yme="Om uw ervaring te personaliseren, bijvoorbeeld door AI-adviezen af te stemmen op uw branche.",vme="Om u te informeren over updates, facturatie en support.",bme="Om onze app te verbeteren door geanonimiseerde gebruiksstatistieken te analyseren.",xme="3. Delen van gegevens",wme="Wij verkopen uw gegevens nooit aan derden. Wij delen gegevens alleen met:",Sme="Onze cloud- en hostingproviders (zoals Google Cloud/Firebase) voor de opslag en verwerking van data.",Tme="Onze AI-partners (Google Gemini) voor het genereren van content. Let op: stuur geen privacygevoelige persoonsgegevens van w klanten naar de AI.",Eme="4. AI en Data",Ame="Onze applicatie maakt gebruik van Kunstmatige Intelligentie. De gegevens die u invoert in de Pitch Generator of Oefenmodules worden verwerkt door AI-modellen. Wij adviseren om geen namen of privgegevens van uw eindklanten in deze prompts te gebruiken.",kme="5. Beveiliging",Ime="Wij nemen passende technische en organisatorische maatregelen om uw gegevens te beveiligen tegen verlies of onrechtmatige verwerking. Dit omvat encryptie van data in rust en tijdens verzending.",Cme="6. Uw Rechten",Nme="U heeft recht op inzage, correctie en verwijdering van uw persoonsgegevens. Neem contact met ons op als u gebruik wilt maken van deze rechten.",Pme="7. Wijzigingen",Rme="Wij kunnen dit beleid van tijd tot tijd wijzigen. De meest recente versie is altijd beschikbaar in de app.",Mme="8. Contact",Dme="Voor vragen over dit privacybeleid kunt u contact opnemen via <a href='mailto:info@salexplosive.com'>info@salexplosive.com</a>.",jme="Algemene Voorwaarden",Ome="De kleine lettertjes, duidelijk uitgelegd.",Lme="Welkom bij SalExplosive. Door onze diensten te gebruiken, gaat u akkoord met de volgende voorwaarden. Lees deze zorgvuldig door.",$me="1. Gebruik van de Dienst",Vme="U mag onze diensten alleen gebruiken voor wettige doeleinden en in overeenstemming met deze voorwaarden.",Ume="Het is <strong>niet toegestaan</strong> om uw accountgegevens te delen met anderen. Elk account is persoonsgebonden.",zme="Wij behouden ons het recht voor om accounts te blokkeren die misbruik maken van het platform of de AI-functies.",Bme="2. Betaling en Abonnement",Fme="Onze diensten worden aangeboden op abonnementsbasis. De betaling geschiedt maandelijks vooraf.",qme="U betaalt per actieve licentie. U kunt op elk moment licenties toevoegen of verwijderen.",Gme="Bij opzegging loopt het abonnement door tot het einde van de reeds betaalde periode. Er vindt <strong>geen restitutie</strong> plaats voor gedeeltelijk gebruikte maanden.",Hme="Facturen worden per e-mail verzonden en zijn terug te vinden in het beheerdersportaal.",Kme="3. Intellectueel Eigendom",Wme="Alle rechten op de software, het ontwerp en de content van SalExplosive berusten bij ons. U krijgt een niet-exclusief gebruiksrecht voor de duur van uw abonnement.",Yme="4. Aansprakelijkheid",Jme="SalExplosive is niet aansprakelijk voor directe of indirecte schade voortvloeiend uit het gebruik van onze diensten, tenzij sprake is van opzet of grove nalatigheid onzerzijds. Wij garanderen geen specifieke verkoopresultaten.",Xme="5. Beindiging",Qme="U kunt uw abonnement maandelijks opzeggen. Wij kunnen de overeenkomst beindigen bij schending van deze voorwaarden of wanbetaling.",Zme="6. Toepasselijk Recht",epe="Op deze voorwaarden is Nederlands recht van toepassing. Geschillen worden voorgelegd aan de bevoegde rechter in Nederland.",tpe="7. Vragen?",npe="Heeft u vragen over de voorwaarden? Mail ons op <a href='mailto:info@salexplosive.com'>info@salexplosive.com</a>.",rpe="Maak een nieuw bericht",Dy={nav_dashboard:Hee,nav_pitch_generator:Kee,nav_opgeslagen_pitches:Wee,nav_pitch_oefenen:Yee,nav_klanten:Jee,nav_concurrentieanalyse:Xee,nav_concurrentie_notities:Qee,nav_doelen:Zee,nav_mijnpriveteam:ete,nav_mijn_filiaal:tte,nav_mijn_organisatie:nte,nav_mijnfiliaalteam:rte,nav_team_kennisbank:ite,nav_filiaal_kennisbank:ste,nav_organisatie_news:ate,nav_planning:ote,nav_pakketbeheer:lte,nav_facturatie:cte,nav_verkoopanalyse:ute,nav_profiel:dte,nav_instellingen:fte,nav_logout:hte,theme_toggle_dark:mte,theme_toggle_light:pte,register_sale:gte,greeting_morning:_te,greeting_afternoon:yte,greeting_evening:vte,dashboard_welcome_sales:bte,dashboard_welcome_management:xte,page_title_dashboard:wte,page_title_pitch_generator:Ste,page_title_opgeslagen_pitches:Tte,page_title_pitch_oefenen:Ete,page_title_klanten:Ate,page_title_concurrentieanalyse:kte,page_title_concurrentie_notities:Ite,page_title_doelen:Cte,page_title_instellingen:Nte,page_title_mijnpriveteam:Pte,page_title_mijn_filiaal:Rte,page_title_mijn_organisatie:Mte,page_title_mijnfiliaalteam:Dte,page_title_profiel:jte,page_title_team_kennisbank:Ote,nav_branch_knowledge_base:Lte,page_title_organisatie_news:$te,page_title_planning:Vte,page_title_pakketbeheer:Ute,page_title_facturatie:zte,page_title_verkoopanalyse:Bte,ai_tip_of_the_day:Fte,sales_goals_value:qte,today:Gte,this_week:Hte,your_agenda_today:Kte,ai_summary_loading:Wte,no_appointments_today:Yte,kpi_team_sales_today:Jte,kpi_team_sales_week:Xte,kpi_team_sales_month:Qte,kpi_avg_daily_month:Zte,kpi_weekly_avg_daily:ene,kpi_monthly_avg_daily:tne,sales_streak:nne,sales_streak_subtitle:rne,my_badges:ine,badges_empty_state:sne,your_week_in_review:ane,week_in_review_subtitle:one,generate_review:lne,generating:cne,review_empty_state:une,team_updates:dne,team_updates_subtitle:fne,team_updates_empty:hne,new_post:mne,pitch_generator_title:pne,pitch_generator_subtitle:gne,your_profile:_ne,sales_channel:yne,industry:vne,company:bne,step1_pitch_type:xne,step_choose_pitch_type:wne,pitch_type_normal:Sne,pitch_type_short:Tne,step2_sales_channel:Ene,step_choose_sales_channel:Ane,channel_info:kne,channel_doortodoor:Ine,channel_telemarketing:Cne,step_choose_pitching_for:Nne,pitching_for_company_label:Pne,select_company:Rne,step_details_title:Mne,style_personality_label:Dne,style_personality_placeholder:jne,area_label:One,area_placeholder:Lne,generate_strategy:$ne,generating_strategy:Vne,your_strategy_and_pitch:Une,strategy_placeholder_title:zne,strategy_placeholder_subtitle:Bne,strat_buurtadvies:Fne,strat_toonadvies:qne,strat_pitch:Gne,strat_bezwaren:Hne,ask_ai_coach:Kne,save_strategy:Wne,saved:Yne,advice_chat_modal_initial_greeting:Jne,advice_chat_modal_title:Xne,advice_chat_modal_placeholder:Qne,clients_title:Zne,new_client:ere,clients_empty_list_title:tre,clients_empty_list_subtitle:nre,edit:rre,delete_confirm:ire,notes:sre,no_notes:are,generate_briefing:ore,generating_briefing:lre,generate_client_profile:cre,generating_client_profile:ure,analyze_notes:dre,analyzing_notes:fre,pre_call_briefing:hre,ai_client_profile:mre,note_analysis:pre,compose_follow_up_email:gre,select_client_title:_re,select_client_subtitle:yre,modal_edit_client:vre,modal_add_client:bre,form_name:xre,form_company:wre,form_notes:Sre,cancel:Tre,save:Ere,compa_title:Are,compa_subtitle:kre,step_choose_market:Ire,compa_market_subtitle:Cre,market_telecom:Nre,market_energy:Pre,step_select_competitors:Rre,compa_select_subtitle:Mre,step_your_offer:Dre,compa_offer_form_telecom_package_type:jre,compa_offer_form_telecom_speed:Ore,compa_offer_form_telecom_price:Lre,compa_offer_form_telecom_discount:$re,compa_offer_form_telecom_tv_details:Vre,compa_offer_form_telecom_usps:Ure,compa_offer_form_energy_duration:zre,compa_offer_form_energy_rate_type:Bre,compa_offer_form_energy_power_normal:Fre,compa_offer_form_energy_power_low:qre,compa_offer_form_energy_gas:Gre,compa_offer_form_energy_fixed_costs:Hre,compa_offer_form_energy_bonus:Kre,compa_offer_form_energy_usps:Wre,compa_select_one_competitor:Yre,analyze_competitors:Jre,analyzing:Xre,strategic_summary:Qre,ai_analyzing_data:Zre,monthly_price_comparison:eie,detailed_comparison:tie,power_rate_normal_comparison:nie,new_customers:rie,existing_customers:iie,goals_title:sie,new_sales_goal:aie,sales_goal_amount_label:oie,sales_goal_period_day:lie,sales_goal_period_week:cie,set_goal:uie,active_sales_goals:die,daily_goal:fie,weekly_goal:hie,sales:mie,goals_empty_state:pie,pitches_title:gie,pitches_empty_list_title:_ie,pitches_empty_list_subtitle:yie,saved_on:vie,delete_confirm_pitch:bie,ai_pitch_analysis:xie,promote_to_kb:wie,analyze_with_ai:Sie,analysis_structure:Tie,analysis_wording:Eie,analysis_value_prop:Aie,analysis_cta:kie,select_pitch_title:Iie,select_pitch_subtitle:Cie,promote_note_prompt:Nie,pitches_add_new:Pie,modal_add_pitch_title:Rie,pitch_name_label:Mie,add_pitch_button:Die,modal_pitch_buurtadvies_label:jie,modal_pitch_toonadvies_label:Oie,modal_pitch_pitch_label:Lie,modal_pitch_bezwaren_label:$ie,pitch_practice_title:Vie,pitch_practice_subtitle:Uie,step1_choose_pitch:zie,pitches_empty_practice:Bie,go_to_pitch_generator:Fie,step2_choose_partner:qie,choose_partner_subtitle:Gie,back_to_pitch_selection:Hie,practice_session:Kie,selected_pitch:Wie,waiting_to_start:Yie,mic_error:Jie,mic_error_connection:Xie,stop_session:Qie,start_session:Zie,start_new_session:ese,session_complete:tse,transcript:nse,ai_feedback:rse,generating_feedback:ise,generate_feedback_prompt:sse,generate_feedback:ase,you:ose,client_ai:lse,settings_title:cse,your_name:use,email_address:dse,company_name:fse,settings_info_salesperson:hse,settings_info_manager:mse,changes_saved:pse,welcome_leader:gse,welcome_team_leader:_se,add_member:yse,kpi_sales_today:vse,kpi_sales_week:bse,kpi_sales_month:xse,team_members_and_roles:wse,sales_this_month:Sse,change_role:Tse,change_role_confirm:Ese,ai_team_performance_analysis:Ase,ai_team_analysis_subtitle:kse,generate_analysis:Ise,overall_team_title:Cse,overall_team_subtitle:Nse,no_team_structure_found:Pse,total_value_this_month:Rse,team_members:Mse,this_month:Dse,my_team_title_salesperson:jse,my_team_subtitle_salesperson:Ose,your_team_leader:Lse,your_leader:$se,your_superiors:Vse,no_team_leader_found:Use,no_leader_found:zse,your_teammates:Bse,no_teammates:Fse,my_branch_title:qse,my_branch_subtitle:Gse,buy_extra_licenses:Hse,kpi_total_value_month:Kse,kpi_total_fte:Wse,kpi_weekly_avg_branch:Yse,kpi_monthly_avg_branch:Jse,sector_telecom:Xse,sector_energy:Qse,employees:Zse,sales_month:eae,no_employees_in_sector:tae,branch_members:nae,search_employee:rae,buy_licenses_modal_title:iae,buy_licenses_modal_amount:sae,buy_licenses_modal_price_per:aae,buy_licenses_modal_total:oae,buy_licenses_modal_submit:lae,sending_request:cae,buy_licenses_modal_success_title:uae,buy_licenses_modal_success_body:dae,kb_title_owner:fae,kb_title_manager:hae,kb_title_team:mae,kb_subtitle_owner:pae,kb_subtitle_manager:gae,kb_subtitle_team:_ae,kb_from_org:yae,posted_by:vae,note_from:bae,select_post_title:xae,select_post_subtitle:wae,kb_empty_title:Sae,kb_empty_subtitle:Tae,planning_title:Eae,planning_subtitle:Aae,ai_training_planner:kae,training_focus:Iae,training_focus_placeholder:Cae,reject:Nae,saved_plans:Pae,agenda:Rae,edit_appointment:Mae,new_appointment:Dae,appointment_title:jae,date:Oae,time:Lae,notes_optional:$ae,delete:"Verwijder",pkg_mgmt_title:Vae,pkg_mgmt_subtitle:Uae,new_package:zae,pkg_empty_state:Bae,modal_edit_package:Fae,modal_new_package:qae,package_name:Gae,contract_value:Hae,owner_dashboard_welcome:Kae,vs_last_month:Wae,kpi_top_branch:Yae,kpi_total_branches:Jae,kpi_total_employees:Xae,branch_performance_month:Qae,employees_short:Zae,sales_per_fte:eoe,quick_announcement:toe,quick_announcement_title_placeholder:noe,quick_announcement_body_placeholder:roe,publish:ioe,publishing:soe,quick_links:aoe,manage_organization:ooe,manage_packages:loe,org_view_title:coe,org_view_subtitle:uoe,add_new_branch:doe,branches_overview:foe,manager_label:hoe,employees_label:moe,sales_month_label:poe,manager_not_assigned:goe,branches_empty_title:_oe,branches_empty_subtitle:yoe,profile_title:voe,upload_profile_picture:boe,role:xoe,profile_saved:woe,security:Soe,new_password:Toe,new_password_placeholder:Eoe,confirm_password:Aoe,confirm_password_placeholder:koe,password_length_error:Ioe,password_mismatch_error:Coe,password_change_success:Noe,password_change_error_reauth:Poe,password_change_error_generic:Roe,changing_password:Moe,change_password:Doe,change_pw_welcome:joe,change_pw_subtitle:Ooe,confirm_new_password:Loe,set_password_and_continue:$oe,login_welcome_back:Voe,login_subtitle:Uoe,password:zoe,forgot_password:Boe,login_error_credentials:Foe,login_error_generic:qoe,login_error_pending:Goe,password_reset_sent:Hoe,password_reset_not_found:Koe,password_reset_error:Woe,logging_in:Yoe,login:Joe,no_account_yet:Xoe,register_company:Qoe,register_title:Zoe,register_subtitle:ele,personal_details:tle,full_name:nle,job_title:rle,email_login:ile,company_details:sle,active_industry:ale,industry_telecom:ole,industry_energy:lle,industry_both:cle,channel_both:ule,num_employees_on_app:dle,you_pay_for:fle,total_cost_per_month:hle,license_cost:mle,street_housenr:ple,postal_code:gle,city:_le,country:yle,country_nl:vle,country_en:ble,country_de:xle,company_website:wle,company_phone:Sle,invoice_email:Tle,agreements_title:Ele,agree_terms:Ale,agree_privacy:kle,agree_services:Ile,terms_link:Cle,privacy_link:Nle,services_link:Ple,i_have_read_and_understand:Rle,register_and_start:Mle,register_error_all_fields:Dle,register_error_agreements:jle,register_success_title:Ole,register_success_body:Lle,back_to_home:$le,modal_add_member_title:Vle,name:Ule,email:zle,temp_password:Ble,saving:Fle,modal_edit_post:qle,modal_new_post:Gle,content_markdown:Hle,ai_inspiration:Kle,inspiration_topic_placeholder:Wle,pin_post:Yle,propose_regenerate_button:Jle,email_assistant_title:Xle,step1_email_goal:Qle,goal_confirm_appointment:Zle,goal_send_quote:ece,goal_thank_for_meeting:tce,step2_generate_email:nce,generating_email:rce,step3_result:ice,copy_to_clipboard:sce,copied:ace,log_sale_title:oce,select_package_sold:lce,no_packages_defined:cce,register:uce,close:dce,team_pulse_widget_title:fce,top_performer:hce,no_sales_today:mce,coaching_opportunities:pce,everyone_sold_today:gce,modal_edit_branch_title:_ce,assign_manager:yce,new_manager_help_text:vce,error_branch_name_required:bce,current_manager_label:xce,mi_title:wce,mi_subtitle:Sce,share_insight:Tce,search_in_notes:Ece,all_categories:Ace,no_insights_found_title:kce,no_insights_found_subtitle:Ice,modal_add_mi_title:Cce,category:Nce,content_observation:Pce,error_category_content_required:Rce,share:Mce,error_all_fields_required:Dce,modal_create_branch_title:jce,new_branch_name:Oce,manager_details:Lce,manager_full_name:$ce,manager_email:Vce,manager_temp_password:Uce,creating:zce,create:Bce,error_title_content_required:Fce,title_subject:qce,content_message:Gce,nav_organisation:Hce,compa_notes_title:Kce,compa_notes_subtitle:Wce,new_note:Yce,no_notes_yet:Jce,note_by:Xce,modal_edit_note:Qce,modal_new_note:Zce,competitor:eue,select_competitor:tue,select_industry:nue,package_type:rue,select_package:iue,package_internet_only:sue,package_tv_only:aue,package_phone_only:oue,package_internet_tv:lue,package_internet_phone:cue,package_all_in_1:uue,monthly_price_eur:due,internet_speed_mbps:fue,tv_details:hue,tv_details_placeholder:mue,phone_details:pue,phone_details_placeholder:gue,contract_duration:_ue,select_duration:yue,duration_1_year:vue,duration_3_year:bue,rate_type:xue,select_rate_type:wue,rate_type_single:Sue,rate_type_double:Tue,power_rate_peak:Eue,power_rate_offpeak:Aue,power_rate:kue,gas_rate:Iue,usps:Cue,general_notes:Nue,delete_note_confirm:Pue,error_select_competitor:Rue,kvk_number_nl:Mue,kvk_number_gb:Due,kvk_number_de:jue,btw_number_nl:Oue,btw_number_gb:Lue,btw_number_de:$ue,error_kvk_format_nl:Vue,error_kvk_format_gb:Uue,error_kvk_format_de:zue,error_btw_format_nl:Bue,error_btw_format_gb:Fue,error_btw_format_de:que,error_fullname:Gue,error_email_format:Hue,public_nav_rates:Kue,public_nav_about:Wue,public_nav_contact:Yue,public_nav_login:Jue,public_nav_register:Xue,landing_hero_title:Que,landing_hero_subtitle:Zue,landing_hero_cta:ede,landing_hero_trial:tde,landing_features_supertitle:nde,landing_features_title:rde,landing_features_subtitle:ide,feature_pitch_generator_name:sde,feature_pitch_generator_desc:ade,feature_crm_name:ode,feature_crm_desc:lde,feature_compa_name:cde,feature_compa_desc:ude,feature_gamification_name:dde,feature_gamification_desc:fde,feature_management_name:hde,feature_management_desc:mde,feature_ai_name:pde,feature_ai_desc:gde,landing_cta_title:_de,landing_cta_subtitle:yde,landing_cta_button:vde,footer_copyright:bde,footer_services:xde,footer_about:wde,footer_contact:Sde,footer_privacy:Tde,footer_terms:Ede,rates_title:Ade,rates_subtitle:kde,rates_trial_title:Ide,rates_trial_body:Cde,rates_trial_cta:Nde,rates_after_trial_title:Pde,rates_price_display:Rde,rates_price_user_month:Mde,rates_all_in_one_title:Dde,feature_included_1:jde,feature_included_2:Ode,feature_included_3:Lde,feature_included_4:$de,feature_included_5:Vde,feature_included_6:Ude,feature_included_7:zde,feature_included_8:Bde,about_title:Fde,about_subtitle:qde,about_h2_story:Gde,about_p1:Hde,about_p2:Kde,about_p3:Wde,about_h2_mission:Yde,about_p4:Jde,about_p5:Xde,contact_title:Qde,contact_subtitle:Zde,contact_details_title:efe,contact_email_label:tfe,contact_phone_label:nfe,contact_phone_value:rfe,contact_address_label:ife,contact_address_value:sfe,contact_kvk_label:afe,contact_form_submitted_title:ofe,contact_form_submitted_body:lfe,contact_form_name_label:cfe,contact_form_email_label:ufe,contact_form_phone_label:dfe,contact_form_subject_label:ffe,contact_form_message_label:hfe,contact_form_submit_button:mfe,contact_form_sending_button:pfe,persona_sceptical_manager_name:gfe,persona_sceptical_manager_desc:_fe,persona_friendly_consumer_name:yfe,persona_friendly_consumer_desc:vfe,persona_technical_expert_name:bfe,persona_technical_expert_desc:xfe,feedback_error:wfe,feedback_prompt_title_opening:Sfe,feedback_prompt_desc_opening:Tfe,feedback_prompt_title_questioning:Efe,feedback_prompt_desc_questioning:Afe,feedback_prompt_title_objections:kfe,feedback_prompt_desc_objections:Ife,feedback_prompt_title_tone:Cfe,feedback_prompt_desc_tone:Nfe,feedback_prompt_title_closing:Pfe,feedback_prompt_desc_closing:Rfe,choose_feedback_type:Mfe,fast_scan:Dfe,fast_scan_desc:jfe,deep_analysis:Ofe,deep_analysis_desc:Lfe,help_assistant_title:$fe,ask_your_question:Vfe,quick_reply_log_sale:Ufe,quick_reply_add_member:zfe,quick_reply_generate_pitch:Bfe,quick_reply_manage_clients:Ffe,billing_title:qfe,billing_subtitle:Gfe,subscription_overview:Hfe,used_licenses:Kfe,licenses_of_total:Wfe,price_per_license:Yfe,total_monthly_cost:Jfe,invoice_history:Xfe,invoice_number:Qfe,invoice_date:Zfe,invoice_amount:ehe,invoice_status:the,invoice_action:nhe,status_paid:rhe,status_due:ihe,download_invoice:she,no_invoices_found:ahe,delete_user_confirm:ohe,delete_branch_confirm:lhe,license_management_title:che,license_management_body:uhe,license_management_how_many_remove:dhe,keep_all:fhe,remove_all:hhe,license_management_option_keep:mhe,license_management_option_keep_desc:phe,license_management_option_remove:ghe,license_management_option_remove_desc:_he,license_management_action_keep:yhe,license_management_action_confirm_removal:vhe,delete_user:bhe,delete_branch:xhe,vat_inclusive:whe,vat_exclusive:She,phone_number:The,phone_number_placeholder:Ehe,step_choose_industry:Ahe,industry_info:khe,share_with_manager:Ihe,sharing:Che,shared:Nhe,registering:Phe,sales_analytics_title:Rhe,sales_analytics_subtitle:Mhe,monthly_avg_sales_per_branch:Dhe,branch:jhe,total_sales:Ohe,avg_daily_sales:Lhe,filter_by_branch:$he,all_branches:Vhe,org_wide_announcements:Uhe,no_team_members_found:zhe,share_to_kb:Bhe,kb_analysis_title_prompt:Fhe,kb_analysis_title:qhe,market:Ghe,analysis_date:Hhe,our_offer_title:Khe,competitor_details_title:Whe,kb_analysis_note_prefix:Yhe,kb_analysis_note_suffix:Jhe,kb_save_error:Xhe,share_note_to_kb:Qhe,kb_note_title_prompt:Zhe,kb_note_title:eme,kb_note_note_prefix:tme,author:nme,none:rme,telecom_details:ime,energy_details:sme,privacy_title:ame,privacy_subtitle:ome,privacy_intro:lme,privacy_h2_data_collected:cme,privacy_p_data_collected:ume,privacy_li_account_data:dme,privacy_li_company_data:fme,privacy_li_usage_data:hme,privacy_li_technical_data:mme,privacy_h2_data_usage:pme,privacy_p_data_usage:gme,privacy_li_provide_service:_me,privacy_li_personalization:yme,privacy_li_communication:vme,privacy_li_analysis:bme,privacy_h2_sharing:xme,privacy_p_sharing:wme,privacy_li_cloud_providers:Sme,privacy_li_ai_providers:Tme,privacy_h2_ai:Eme,privacy_p_ai:Ame,privacy_h2_security:kme,privacy_p_security:Ime,privacy_h2_rights:Cme,privacy_p_rights:Nme,privacy_h2_changes:Pme,privacy_p_changes:Rme,privacy_h2_contact:Mme,privacy_p_contact:Dme,terms_title:jme,terms_subtitle:Ome,terms_intro:Lme,terms_h2_usage:$me,terms_p_usage_1:Vme,terms_p_usage_2:Ume,terms_p_usage_3:zme,terms_h2_payment:Bme,terms_p_payment_1:Fme,terms_p_payment_2:qme,terms_p_payment_3:Gme,terms_p_payment_4:Hme,terms_h2_ip:Kme,terms_p_ip:Wme,terms_h2_liability:Yme,terms_p_liability:Jme,terms_h2_termination:Xme,terms_p_termination:Qme,terms_h2_law:Zme,terms_p_law:epe,terms_h2_contact:tpe,terms_p_contact:npe,modal_add_kb_post_title:rpe},ipe="Dashboard",spe="Pitch Generator",ape="Saved Pitches",ope="Pitch Practice",lpe="Clients",cpe="Competitor Analysis",upe="Competitor Notes",dpe="Goals",fpe="My Private Team",hpe="My Branch",mpe="My Organization",ppe="My Branch Team",gpe="Team Knowledge Base",_pe="Branch Knowledge Base",ype="Organization News",vpe="Planning",bpe="Package Management",xpe="Billing",wpe="Sales Analysis",Spe="Profile",Tpe="Settings",Epe="Logout",Ape="Dark Mode",kpe="Light Mode",Ipe="Register Sale",Cpe="Good morning",Npe="Good afternoon",Ppe="Good evening",Rpe="Welcome back to your personal dashboard.",Mpe="Welcome back to your management dashboard.",Dpe="Dashboard",jpe="Pitch Generator",Ope="Saved Pitches",Lpe="Pitch Practice",$pe="Clients",Vpe="Competitor Analysis",Upe="Competitor Notes",zpe="Goals",Bpe="Settings",Fpe="My Private Team",qpe="My Branch",Gpe="My Organization",Hpe="My Branch Team",Kpe="Profile",Wpe="Team Knowledge Base",Ype="Branch Knowledge Base",Jpe="Organization News",Xpe="Planning",Qpe="Package Management",Zpe="Billing",ege="Sales Analysis",tge="AI Tip of the Day",nge="Sales Goals (Contract Value)",rge="Today",ige="This Week",sge="Your Agenda Today",age="AI summary is loading...",oge="No appointments for today.",lge="Team Sales Today",cge="Team Sales Week",uge="Team Sales Month",dge="Avg. Daily Sales (Month)",fge="Weekly Average (per day)",hge="Monthly Average (per day)",mge="Sales Streak",pge="Consecutive days with a sale",gge="My Badges",_ge="Keep selling and achieving goals to earn badges!",yge="Your Week in Review",vge="AI-driven insights into your performance of the past 7 days.",bge="Generate Review",xge="Generating...",wge="Generate a review to see your weekly insights.",Sge="Team Updates",Tge="Recent messages from management.",Ege="No team updates posted yet.",Age="New Post",kge="AI Sales Coach",Ige="Create a complete, custom sales strategy and pitch.",Cge="Your Profile",Nge="Sales Channel",Pge="Industry",Rge="Company",Mge="Step 1: Pitch Type",Dge="Step %{step_number}: Pitch Type",jge="Normal",Oge="Short & Sweet",Lge="Step 2: Sales Channel",$ge="Step %{step_number}: Sales Channel",Vge="Select the channel for which you want to generate this pitch.",Uge="Door-to-door",zge="Telemarketing",Bge="Step %{step_number}: Pitching For",Fge="Select the company you are pitching for",qge="Select a company",Gge="Step %{step_number}: Details",Hge="What is your sales style/personality?",Kge="e.g., Energetic, extroverted, formal",Wge="In which city/neighborhood are you active?",Yge="e.g., South Amsterdam, Utrecht city center",Jge="Generate Strategy",Xge="Generating...",Qge="Your Strategy & Pitch",Zge="Your personal sales strategy will appear here.",e_e="Fill in the steps on the left to get started.",t_e="Strategic Neighborhood Advice",n_e="Advice: Tone & Style",r_e="The Custom Pitch",i_e="Most Likely Objections",s_e="Ask the AI Coach",a_e="Save Strategy",o_e="Saved!",l_e="Hello! I am your AI Sales Coach. How can I help you refine your strategy?",c_e="AI Sales Coach",u_e="Ask the coach a question...",d_e="Clients",f_e="New Client",h_e="No clients yet",m_e="Add your first client to get started.",p_e="Edit",g_e="Are you sure you want to delete this?",__e="Notes",y_e="No notes for this client.",v_e="Generate Briefing",b_e="Briefing...",x_e="Generate Client Profile",w_e="Profile...",S_e="Analyze Notes",T_e="Analyzing...",E_e="Pre-Call Briefing",A_e="AI Client Profile",k_e="Note Analysis",I_e="Compose Follow-up Email",C_e="Select a client",N_e="Or add a new client to get started.",P_e="Edit Client",R_e="New Client",M_e="Name",D_e="Company",j_e="Notes",O_e="Cancel",L_e="Save",$_e="Specialized Competitor Analysis",V_e="Get deep AI insights by comparing your offer against specific competitors.",U_e="Step %{step_number}: Choose a market",z_e="Select the industry you want to analyze.",B_e="Telecom",F_e="Energy",q_e="Step %{step_number}: Select competitors",G_e="Check the companies you want to include in the analysis.",H_e="Step %{step_number}: Fill in your offer",K_e="Package Type",W_e="Speed (Mbps)",Y_e="Price p/m ()",J_e="Discount/Cashback ()",X_e="TV Details",Q_e="Your USPs",Z_e="Contract Duration",eye="Power Rate",tye="Power Normal (/kWh)",nye="Power Off-peak (/kWh)",rye="Gas (/m)",iye="Fixed costs p/m ()",sye="Welcome Bonus ()",aye="Your USPs",oye="Select at least one competitor.",lye="Analyze Competitors",cye="Analyzing...",uye="Strategic Summary",dye="AI is analyzing the data for you...",fye="Monthly Price Comparison",hye="Detailed Comparison",mye="Power Rate (Normal)",pye="New Customers",gye="Existing Customers",_ye="Set Sales Goals",yye="New Sales Goal",vye="Number of sales",bye="Per Day",xye="Per Week",wye="Set Goal",Sye="Active Sales Goals",Tye="Daily Goal:",Eye="Weekly Goal:",Aye="sales",kye="No sales goals set yet.",Iye="Saved Pitches",Cye="No pitches saved yet",Nye="Generate or add a pitch to get started.",Pye="Saved on",Rye="Are you sure you want to delete this pitch?",Mye="AI Pitch Analysis",Dye="Promote to Knowledge Base",jye="Analyze with AI",Oye="Structure & Flow",Lye="Wording & Tone",$ye="Value Proposition",Vye="Closing (Call to Action)",Uye="Select a pitch",zye="View, edit, or analyze a saved strategy.",Bye="Add a note for your team: why is this pitch successful?",Fye="Add New Pitch",qye="Add Your Own Pitch",Gye="Pitch Name",Hye="Add Pitch",Kye="Strategic Neighborhood Advice",Wye="Advice: Tone & Style",Yye="The Custom Pitch",Jye="Most Likely Objections",Xye="Interactive Pitch Training",Qye="Practice your pitches in a realistic scenario with an AI conversation partner.",Zye="Step 1: Choose a pitch to practice",eve="You have not saved any pitches yet.",tve='Go to "Pitch Generator" to create your first pitch.',nve="Step 2: Choose your conversation partner",rve="Select the role the AI should play.",ive="Back to pitch selection",sve="Practice Session:",ave="Selected pitch:",ove="Waiting to start...",lve="Microphone not found or access denied. Please allow microphone access in your browser.",cve="A connection error occurred: %{message}",uve="Stop Session",dve="Start Practice Session",fve="Start new session",hve="Session complete!",mve="Conversation Transcript",pve="AI Feedback",gve="Generate Feedback",_ve="Click 'Generate Feedback' to get an analysis of your conversation.",yve="Generate Feedback",vve="You",bve="Client (AI)",xve="Settings",wve="Your Name",Sve="Email Address",Tve="Company Name",Eve="Your name, email, industry, and sales channel are fixed to keep the AI advice consistent and relevant to your specific role. To change these, you need to log out and create a new profile.",Ave="Your name and email address are linked to your account. Your role gives you access to all industries and channels within your branch.",kve="Changes saved!",Ive="Welcome, Leader!",Cve="Welcome, Team Leader!",Nve="Add Member",Pve="Sold Today",Rve="Sold This Week",Mve="Sold This Month",Dve="Team Members & Roles",jve="sales this month",Ove="Change Role",Lve=`Are you sure you want to change this user's role to "%{role}"?`,$ve="AI Team Performance Analysis",Vve="Get a strategic overview and coaching advice from the AI.",Uve="Generate Analysis",zve="My Branch Team",Bve="Overview of the complete team hierarchy in your branch.",Fve="No team structure found. Your manager may not have appointed any team leaders yet.",qve="Total Value This Month",Gve="Team Members",Hve="This month",Kve="My Private Team",Wve="Your direct superiors and colleagues.",Yve="Your Team Leader",Jve="Your Leader",Xve="Your Superiors",Qve="No Team Leader found.",Zve="No direct Leader found.",ebe="Your Teammates",tbe="You have no direct teammates.",nbe="My Branch:",rbe="Overview of all members and performance in your branch.",ibe="Buy Extra Licenses",sbe="Total Value (Month)",abe="Total FTEs",obe="Weekly Average (Branch)",lbe="Monthly Average (Branch)",cbe="Telecom Sector",ube="Energy Sector",dbe="Employees",fbe="Sales (month)",hbe="No employees in this sector.",mbe="Branch Members",pbe="Search employee...",gbe="Buy Extra Licenses",_be="Number of extra licenses",ybe="Price: %{price} per license",vbe="Total: %{total_cost}",bbe="Submit Request",xbe="Submitting Request...",wbe="Request sent!",Sbe="Thank you for your request. We will contact you within 2 business days to activate the extra licenses.",Tbe="Organization News",Ebe="Branch Knowledge Base",Abe="Team Knowledge Base",kbe="Post announcements for the entire organization and view all shared knowledge.",Ibe="Post announcements for your branch and view organization-wide messages.",Cbe='Learn from the "Golden Pitches" selected by your superiors.',Nbe="(Organization)",Pbe="By:",Rbe="Note from",Mbe="Select a post or 'Golden Pitch'",Dbe="View the details of the best strategies and announcements.",jbe="The Knowledge Base is still empty",Obe="When a superior shares a message or a successful pitch, it will appear here.",Lbe="Planning & Agenda",$be="Generate training plans with AI and manage your appointments.",Vbe="AI Training Planner",Ube="Training Focus",zbe="e.g., Pitch Training, Motivation Boost",Bbe="Reject",Fbe="Saved Plans",qbe="Agenda",Gbe="Edit Appointment",Hbe="New Appointment",Kbe="Title",Wbe="Date",Ybe="Time",Jbe="Notes (optional)",Xbe="Package Management",Qbe="Define the products/packages your teams can sell.",Zbe="New Package",exe="No packages defined yet.",txe="Edit Package",nxe="New Package",rxe="Package Name",ixe="Contract Value (e.g., 1.0, 0.5)",sxe="Welcome to your organization's overview dashboard.",axe="vs. last month",oxe="Top Branch",lxe="Total Branches",cxe="Total Employees",uxe="Branch Performance (This Month)",dxe="employees",fxe="sales/fte",hxe="Quick Announcement",mxe="Title",pxe="Your message for the organization...",gxe="Publish",_xe="Publishing...",yxe="Quick Links",vxe="Manage Organization",bxe="Manage Packages",xxe="My Organization",wxe="Manage all branches within your company.",Sxe="Add New Branch",Txe="Branches Overview",Exe="Manager:",Axe="Employees:",kxe="Sales (Month):",Ixe="Not yet assigned",Cxe="No branches created yet.",Nxe="Add your first branch and manager to get started.",Pxe="My Profile",Rxe="Upload profile picture",Mxe="Role",Dxe="Profile saved!",jxe="Security",Oxe="New Password",Lxe="At least 6 characters",$xe="Confirm Password",Vxe="Repeat new password",Uxe="Password must be at least 6 characters long.",zxe="The passwords do not match.",Bxe="Your password has been changed successfully!",Fxe="This action requires recent authentication. Please log in again and retry.",qxe="An error occurred while changing the password.",Gxe="Changing...",Hxe="Change Password",Kxe="Welcome, %{name}!",Wxe="Set your personal password to secure your account.",Yxe="Confirm New Password",Jxe="Set Password and Continue",Xxe="Welcome back!",Qxe="Log in to continue to your Sales Copilot.",Zxe="Password",ewe="Forgot password?",twe="Your email or password is incorrect.",nwe="An unexpected error occurred. Please try again.",rwe="Your account is pending approval.",iwe="An email with password reset instructions has been sent to you.",swe="No account found for this email address.",awe="Could not send password reset email.",owe="Logging in...",lwe="Login",cwe="No account yet?",uwe="Register your company.",dwe="Register Your Company",fwe="Start transforming your sales team today.",hwe="Personal Details",mwe="Full Name",pwe="Job Title",gwe="Email Address (for login)",_we="Company Details",ywe="Active Industry/Industries",vwe="Telecom",bwe="Energy",xwe="Both",wwe="Both",Swe="Number of employees on the app (excluding yourself)",Twe="You pay for yourself + %{num_employees} employee(s) = %{total_licenses} licenses",Ewe="Total: %{total_cost} per month",Awe="(%{price} per license per month)",kwe="Street + House Number",Iwe="Postal Code",Cwe="City",Nwe="Country",Pwe="Netherlands",Rwe="United Kingdom",Mwe="Germany",Dwe="Company Website (optional)",jwe="Phone Number (optional)",Owe="Invoice Email (optional)",Lwe="Agreements",$we="I agree to the",Vwe="I agree to the",Uwe="I have read and understood the",zwe="terms and conditions",Bwe="privacy statement",Fwe="services and rates",qwe=".",Gwe="Register and Start",Hwe="Please check the highlighted fields.",Kwe="You must agree to all terms.",Wwe="Registration Received!",Ywe="Thank you for your registration. We will contact you within 2 business days to activate your account and set everything up.",Jwe="Back to Home",Xwe="Add New Member",Qwe="Name",Zwe="Email",e0e="Temporary Password",t0e="Saving...",n0e="Edit Post",r0e="New Team Post",i0e="Content (Markdown supported)",s0e="AI Inspiration",a0e="What do you want to write about?",o0e="Pin post (does not expire)",l0e="Yes, adjust the pitch",c0e="AI Email Assistant",u0e="1. Choose the goal of your email",d0e="Confirm appointment",f0e="Send quote",h0e="Thank for meeting",m0e="2. Generate Email",p0e="Generating...",g0e="3. Result",_0e="Copy to Clipboard",y0e="Copied!",v0e="Register Sale",b0e="Select the package sold:",x0e="Your manager has not yet set up sales packages for your industry and company.",w0e="Register",S0e="Close",T0e="Team Pulse (Today)",E0e="Top Performer",A0e="No sales yet today.",k0e="Coaching Opportunities",I0e="Everyone in the team has already sold today, great job!",C0e="Manage Branch",N0e="Assign Manager",P0e="Select an employee to promote to manager. The current manager will be demoted to salesperson.",R0e="Branch name is required.",M0e="(Current)",D0e="Market Intelligence",j0e="Centralized platform for strategic insights from the field.",O0e="Share Insight",L0e="Search in notes...",$0e="All Categories",V0e="No insights found.",U0e="Be the first to share a strategic insight with your team.",z0e="Share a Strategic Insight",B0e="Category",F0e="Content / Observation",q0e="Category and content are required.",G0e="Share Insight",H0e="All fields are required.",K0e="Create New Branch & Manager",W0e="Name of the new branch",Y0e="Manager Details",J0e="Manager's Full Name",X0e="Manager's Email Address",Q0e="Temporary Password",Z0e="Creating...",eSe="Create",tSe="Title and content are required.",nSe="Title / Subject",rSe="Content / Message",iSe="My Organization",sSe="Competitor Notes",aSe="Share insights about competitors you gather in the field with your team and management here.",oSe="New Note",lSe="No notes yet.",cSe="by %{authorName} on %{date}",uSe="Edit Note",dSe="Enter New Note",fSe="Competitor",hSe="Select a competitor",mSe="Select an industry",pSe="Package Type",gSe="Select a package",_Se="Internet Only",ySe="TV Only",vSe="Phone Only",bSe="Internet + TV",xSe="Internet + Phone",wSe="All-in-1",SSe="Monthly Price ()",TSe="Internet Speed (Mbps)",ESe="TV Details",ASe="e.g., Number of channels, extra packages",kSe="Phone Details",ISe="e.g., Unlimited calls, international bundle",CSe="Contract Duration",NSe="Select duration",PSe="1 Year",RSe="3 Years",MSe="Rate Type",DSe="Select rate type",jSe="Single",OSe="Dual",LSe="Power Rate (peak)",$Se="Power Rate (off-peak)",VSe="Power Rate",USe="Gas Rate",zSe="USPs (Unique Selling Points)",BSe="General Notes",FSe="Are you sure you want to delete this note?",qSe="Please select a competitor.",GSe="Chamber of Commerce No.",HSe="Company Registration Number",KSe="Handelsregisternummer",WSe="VAT Number",YSe="VAT Number",JSe="USt-IdNr.",XSe="Invalid Chamber of Commerce number (must be 8 digits).",QSe="Invalid Company Number (must be 8 characters).",ZSe="Invalid Commercial Register number (e.g., HRA 12345).",eTe="Invalid VAT number (e.g., NL123456789B01).",tTe="Invalid VAT number (e.g., GB123456789).",nTe="Invalid USt-IdNr (e.g., DE123456789).",rTe="Please enter a first and last name.",iTe="Please enter a valid email address.",sTe="Rates",aTe="About Us",oTe="Contact",lTe="Login",cTe="Register",uTe='Give Your Sales Team the <span class="text-brand-primary">Tools</span> to Win Every Sale',dTe="Specially designed for the front line. Empower your door-to-door and telemarketing salespeople with strategies that work. Managers and owners get a clear insight into performance to drive growth.",fTe="Start Your 14-Day Trial",hTe="Fully functional, no credit card required.",mTe="All-in-one platform",pTe="The Complete Toolkit for Profitable Sales",gTe="Everything your team needs to excel, from preparation to closing and coaching. Supported by smart technology.",_Te="Strategic Pitch Generator",yTe="Create winning, custom pitches. Our tool analyzes your target audience and provides a complete strategy, including objections and tone advice.",vTe="Smart & Simple CRM",bTe="Manage your clients effortlessly. The tool summarizes your notes, suggests action points, and prepares you for every conversation with an automatic briefing.",xTe="Live Competitor Analysis",wTe="Compare your offer live with the market. Get instant insight into your strengths and weaknesses against your rivals.",STe="Gamification & Goals",TTe="Motivate your team with personal goals, sales streaks, and badges. Turn selling into a winning game.",ETe="Clear Team Management",ATe="As a manager or owner, get a helicopter view of your teams' and branches' performance. Adjust where necessary.",kTe="Interactive Practice Module",ITe="Practice your pitches in realistic scenarios against a virtual client. Receive instant feedback and improve your technique.",CTe='Ready to <span class="block">Maximize Your Results?</span>',NTe="Give your team the tools they deserve and see the difference in the numbers. Start working smarter today.",PTe="Start Today",RTe="Services & Rates",MTe="Simple, transparent, and powerful. One rate for all features.",DTe="Try 14 Days for Free",jTe="Test all features of Sales Copilot, no strings attached.",OTe="Start Free Trial",LTe="After your trial period",$Te="%{price}",VTe="per user / per month",UTe="All-in-one Price",zTe="Unlimited AI Pitch Generation",BTe="Interactive AI Pitch Training",FTe="AI Competitor Analysis",qTe="Simple Client Management (CRM)",GTe="Goals & Gamification",HTe="Team & Branch Management",KTe="Team Knowledge Base",WTe="Daily AI Tips",YTe="About Us",JTe="Born from practical experience, built for results.",XTe="Our Story",QTe="SalExplosive is not just a tool; it's the result of 5 years of hands-on experience on the front lines of the sales world. Our founder started as a sales agent and climbed the ranks as a leader, team leader, and finally project manager.",ZTe="During this journey, one challenge became painfully clear: as a leader, you want to support, coach, and guide your team in the field to success. But reality is harsh. You can't be everywhere at once, especially when you also have to meet your own sales targets. Valuable coaching moments are lost, and the potential of talented salespeople remains untapped.",eEe="This frustrating dilemma was the spark that created SalExplosive. We asked ourselves: 'What if there was a way to provide that crucial support, exactly when a salesperson needs it, without the leader having to be physically present?' From that question, we developed a powerful toolkit that acts as the ever-present co-pilot for every sales agent.",tEe="Our Mission",nEe="Our mission is simple: we bridge the gap between a leader's limited time and a salesperson's unlimited potential. We give leaders the tools to empower their team remotely and salespeople the confidence and strategy to win every sale.",rEe="SalExplosive is more than software; it's a partner in growth. Built by a salesperson, for salespeople. We are here to strengthen the front line, maximize results, and turn every team member into a top performer.",iEe="Contact Us",sEe="Have questions, comments, or want a demo? We'd love to hear from you.",aEe="Our Details",oEe="Email",lEe="Phone",cEe="By appointment only",uEe="Address",dEe="Mailing address only",fEe="CoC",hEe="Thank you for your message!",mEe="We will get back to you as soon as possible.",pEe="Your Name",gEe="Your Email Address",_Ee="Your Phone Number",yEe="Subject",vEe="Your Message",bEe="Send Message",xEe="Sending...",wEe="Skeptical Manager",SEe="An experienced manager with little time, who gets straight to the point and is focused on ROI and concrete results.",TEe="Friendly Consumer",EEe="An interested but price-conscious consumer who is open to a conversation but needs to be convinced of the value.",AEe="Technical Expert",kEe="A detail-oriented professional who asks in-depth, technical questions and wants to understand the specifications.",IEe="Could not generate feedback. Please try again.",CEe="Opening & First Impression",NEe="Was the opening strong and relevant? Was a good connection made?",PEe="Questioning & Needs Analysis",REe="Did the salesperson ask the right questions to uncover the customer's needs?",MEe="Handling Objections",DEe="How effectively were the customer's objections and critical questions handled?",jEe="Tone & Style",OEe="Was the salesperson's tone appropriate for the situation and persona? Was the communication clear?",LEe="Closing & Call to Action",$Ee="Was there a clear and confident attempt to close the conversation with a concrete next step?",VEe="Choose the type of feedback you want to receive:",UEe="Quick Scan",zEe="Get quick, concise feedback. Ideal for a quick check.",BEe="In-depth Analysis",FEe="Receive a detailed analysis. This may take a bit longer.",qEe="Help Assistant",GEe="Ask your question...",HEe="How do I register a sale?",KEe="How do I add a team member?",WEe="How do I create a pitch?",YEe="How do I manage clients?",JEe="Billing & Subscription",XEe="View your subscription details and invoice history here.",QEe="Subscription Overview",ZEe="Licenses in Use",e1e="%{used}/%{total}",t1e="Price per License",n1e="Estimated Monthly Cost",r1e="Invoice History",i1e="Invoice Number",s1e="Date",a1e="Amount",o1e="Status",l1e="Action",c1e="Paid",u1e="Due",d1e="Download",f1e="No invoices found yet.",h1e="Are you sure you want to delete this user? This action cannot be undone.",m1e="Are you sure you want to delete this branch? All %{userCount} employees will also be permanently deleted.",p1e="License Management",g1e="%{count} license(s) have become available. What would you like to do?",_1e="How many licenses do you want to remove from your subscription?",y1e="Keep all",v1e="Remove all",b1e="Keep License",x1e="Keep the license for a future employee. Nothing will change on your invoice.",w1e="Remove License",S1e="Remove the license from your subscription. This will be settled on your next invoice.",T1e="Keep Licenses",E1e="Remove %{count} license(s)",A1e="Delete user",k1e="Delete branch",I1e="incl. VAT",C1e="excl. VAT",N1e="Phone Number",P1e="e.g., 7123456789",R1e="Step %{step_number}: Industry",M1e="For which industry do you want to generate this specific pitch?",D1e="Share with Superior",j1e="Sharing...",O1e="Shared!",L1e="Registering...",$1e="Sales Analysis per Branch",V1e="Compare the monthly performance of all your branches.",U1e="Average Daily Sales per Branch (This Month)",z1e="Branch",B1e="Total Sales",F1e="Avg. Daily/Month",q1e="Filter by branch",G1e="All Branches",H1e="Organization-wide Announcements",K1e="No team members found matching your search.",W1e="Share in Knowledge Base",Y1e="Give this analysis a title for the knowledge base.",J1e="Competitor Analysis",X1e="Market",Q1e="Analysis performed on",Z1e="Our Offer",eAe="Competitor Details",tAe="Competitor analysis for the",nAe="market",rAe="Error saving to knowledge base.",iAe="Share in Knowledge Base",sAe="Give this note a title for the knowledge base.",aAe="Competitor Note",oAe="Insight about competitor",lAe="Author",cAe="None",uAe="Telecom Details",dAe="Energy Details",fAe="Privacy Policy",hAe="How we handle your data",mAe="At SalExplosive we take your privacy seriously. This policy describes what data we collect, how we use it, and how we protect it.",pAe="1. Data We Collect",gAe="We collect the following categories of personal data:",_Ae="<strong>Account Data:</strong> Name, email address, phone number, job title, and password (encrypted).",yAe="<strong>Company Data:</strong> Company name, address, CoC number, VAT number, sector, and number of employees.",vAe="<strong>Usage Data:</strong> Information about how you use the app, such as generated pitches, saved clients, and sales statistics.",bAe="<strong>Technical Data:</strong> IP address, browser type, and device data for security and optimization.",xAe="2. How We Use Your Data",wAe="Your data is used for the following purposes:",SAe="To provide our services, such as generating pitches and tracking sales.",TAe="To personalize your experience, for example by tailoring AI advice to your industry.",EAe="To inform you about updates, billing, and support.",AAe="To improve our app by analyzing anonymized usage statistics.",kAe="3. Sharing of Data",IAe="We never sell your data to third parties. We only share data with:",CAe="Our cloud and hosting providers (such as Google Cloud/Firebase) for data storage and processing.",NAe="Our AI partners (Google Gemini) for generating content. Note: do not send privacy-sensitive personal data of your end clients to the AI.",PAe="4. AI and Data",RAe="Our application uses Artificial Intelligence. The data you enter in the Pitch Generator or Practice Modules is processed by AI models. We advise against using names or private data of your end clients in these prompts.",MAe="5. Security",DAe="We take appropriate technical and organizational measures to protect your data against loss or unlawful processing. This includes encryption of data at rest and during transmission.",jAe="6. Your Rights",OAe="You have the right to access, correct, and delete your personal data. Contact us if you wish to exercise these rights.",LAe="7. Changes",$Ae="We may change this policy from time to time. The most recent version is always available in the app.",VAe="8. Contact",UAe="For questions about this privacy policy, please contact us via <a href='mailto:info@salexplosive.com'>info@salexplosive.com</a>.",zAe="Terms and Conditions",BAe="The fine print, clearly explained.",FAe="Welcome to SalExplosive. By using our services, you agree to the following terms. Please read these carefully.",qAe="1. Use of the Service",GAe="You may only use our services for lawful purposes and in accordance with these terms.",HAe="It is <strong>not allowed</strong> to share your account details with others. Each account is personal.",KAe="We reserve the right to block accounts that misuse the platform or AI features.",WAe="2. Payment and Subscription",YAe="Our services are offered on a subscription basis. Payment is made monthly in advance.",JAe="You pay per active license. You can add or remove licenses at any time.",XAe="Upon cancellation, the subscription continues until the end of the already paid period. There is <strong>no refund</strong> for partially used months.",QAe="Invoices are sent by email and can be found in the admin portal.",ZAe="3. Intellectual Property",eke="All rights to the software, design, and content of SalExplosive belong to us. You receive a non-exclusive right of use for the duration of your subscription.",tke="4. Liability",nke="SalExplosive is not liable for direct or indirect damage resulting from the use of our services, unless there is intent or gross negligence on our part. We do not guarantee specific sales results.",rke="5. Termination",ike="You can cancel your subscription monthly. We may terminate the agreement in case of violation of these terms or non-payment.",ske="6. Applicable Law",ake="Dutch law applies to these terms. Disputes will be submitted to the competent court in the Netherlands.",oke="7. Questions?",lke="Do you have questions about the terms? Email us at <a href='mailto:info@salexplosive.com'>info@salexplosive.com</a>.",cke=" %{year} SalExplosive. All rights reserved.",uke="Services & Rates",dke="About Us",fke="Contact",hke="Privacy Policy",mke="Terms & Conditions",pke={nav_dashboard:ipe,nav_pitch_generator:spe,nav_opgeslagen_pitches:ape,nav_pitch_oefenen:ope,nav_klanten:lpe,nav_concurrentieanalyse:cpe,nav_concurrentie_notities:upe,nav_doelen:dpe,nav_mijnpriveteam:fpe,nav_mijn_filiaal:hpe,nav_mijn_organisatie:mpe,nav_mijnfiliaalteam:ppe,nav_team_kennisbank:gpe,nav_filiaal_kennisbank:_pe,nav_organisatie_news:ype,nav_planning:vpe,nav_pakketbeheer:bpe,nav_facturatie:xpe,nav_verkoopanalyse:wpe,nav_profiel:Spe,nav_instellingen:Tpe,nav_logout:Epe,theme_toggle_dark:Ape,theme_toggle_light:kpe,register_sale:Ipe,greeting_morning:Cpe,greeting_afternoon:Npe,greeting_evening:Ppe,dashboard_welcome_sales:Rpe,dashboard_welcome_management:Mpe,page_title_dashboard:Dpe,page_title_pitch_generator:jpe,page_title_opgeslagen_pitches:Ope,page_title_pitch_oefenen:Lpe,page_title_klanten:$pe,page_title_concurrentieanalyse:Vpe,page_title_concurrentie_notities:Upe,page_title_doelen:zpe,page_title_instellingen:Bpe,page_title_mijnpriveteam:Fpe,page_title_mijn_filiaal:qpe,page_title_mijn_organisatie:Gpe,page_title_mijnfiliaalteam:Hpe,page_title_profiel:Kpe,page_title_team_kennisbank:Wpe,nav_branch_knowledge_base:Ype,page_title_organisatie_news:Jpe,page_title_planning:Xpe,page_title_pakketbeheer:Qpe,page_title_facturatie:Zpe,page_title_verkoopanalyse:ege,ai_tip_of_the_day:tge,sales_goals_value:nge,today:rge,this_week:ige,your_agenda_today:sge,ai_summary_loading:age,no_appointments_today:oge,kpi_team_sales_today:lge,kpi_team_sales_week:cge,kpi_team_sales_month:uge,kpi_avg_daily_month:dge,kpi_weekly_avg_daily:fge,kpi_monthly_avg_daily:hge,sales_streak:mge,sales_streak_subtitle:pge,my_badges:gge,badges_empty_state:_ge,your_week_in_review:yge,week_in_review_subtitle:vge,generate_review:bge,generating:xge,review_empty_state:wge,team_updates:Sge,team_updates_subtitle:Tge,team_updates_empty:Ege,new_post:Age,pitch_generator_title:kge,pitch_generator_subtitle:Ige,your_profile:Cge,sales_channel:Nge,industry:Pge,company:Rge,step1_pitch_type:Mge,step_choose_pitch_type:Dge,pitch_type_normal:jge,pitch_type_short:Oge,step2_sales_channel:Lge,step_choose_sales_channel:$ge,channel_info:Vge,channel_doortodoor:Uge,channel_telemarketing:zge,step_choose_pitching_for:Bge,pitching_for_company_label:Fge,select_company:qge,step_details_title:Gge,style_personality_label:Hge,style_personality_placeholder:Kge,area_label:Wge,area_placeholder:Yge,generate_strategy:Jge,generating_strategy:Xge,your_strategy_and_pitch:Qge,strategy_placeholder_title:Zge,strategy_placeholder_subtitle:e_e,strat_buurtadvies:t_e,strat_toonadvies:n_e,strat_pitch:r_e,strat_bezwaren:i_e,ask_ai_coach:s_e,save_strategy:a_e,saved:o_e,advice_chat_modal_initial_greeting:l_e,advice_chat_modal_title:c_e,advice_chat_modal_placeholder:u_e,clients_title:d_e,new_client:f_e,clients_empty_list_title:h_e,clients_empty_list_subtitle:m_e,edit:p_e,delete_confirm:g_e,notes:__e,no_notes:y_e,generate_briefing:v_e,generating_briefing:b_e,generate_client_profile:x_e,generating_client_profile:w_e,analyze_notes:S_e,analyzing_notes:T_e,pre_call_briefing:E_e,ai_client_profile:A_e,note_analysis:k_e,compose_follow_up_email:I_e,select_client_title:C_e,select_client_subtitle:N_e,modal_edit_client:P_e,modal_add_client:R_e,form_name:M_e,form_company:D_e,form_notes:j_e,cancel:O_e,save:L_e,compa_title:$_e,compa_subtitle:V_e,step_choose_market:U_e,compa_market_subtitle:z_e,market_telecom:B_e,market_energy:F_e,step_select_competitors:q_e,compa_select_subtitle:G_e,step_your_offer:H_e,compa_offer_form_telecom_package_type:K_e,compa_offer_form_telecom_speed:W_e,compa_offer_form_telecom_price:Y_e,compa_offer_form_telecom_discount:J_e,compa_offer_form_telecom_tv_details:X_e,compa_offer_form_telecom_usps:Q_e,compa_offer_form_energy_duration:Z_e,compa_offer_form_energy_rate_type:eye,compa_offer_form_energy_power_normal:tye,compa_offer_form_energy_power_low:nye,compa_offer_form_energy_gas:rye,compa_offer_form_energy_fixed_costs:iye,compa_offer_form_energy_bonus:sye,compa_offer_form_energy_usps:aye,compa_select_one_competitor:oye,analyze_competitors:lye,analyzing:cye,strategic_summary:uye,ai_analyzing_data:dye,monthly_price_comparison:fye,detailed_comparison:hye,power_rate_normal_comparison:mye,new_customers:pye,existing_customers:gye,goals_title:_ye,new_sales_goal:yye,sales_goal_amount_label:vye,sales_goal_period_day:bye,sales_goal_period_week:xye,set_goal:wye,active_sales_goals:Sye,daily_goal:Tye,weekly_goal:Eye,sales:Aye,goals_empty_state:kye,pitches_title:Iye,pitches_empty_list_title:Cye,pitches_empty_list_subtitle:Nye,saved_on:Pye,delete_confirm_pitch:Rye,ai_pitch_analysis:Mye,promote_to_kb:Dye,analyze_with_ai:jye,analysis_structure:Oye,analysis_wording:Lye,analysis_value_prop:$ye,analysis_cta:Vye,select_pitch_title:Uye,select_pitch_subtitle:zye,promote_note_prompt:Bye,pitches_add_new:Fye,modal_add_pitch_title:qye,pitch_name_label:Gye,add_pitch_button:Hye,modal_pitch_buurtadvies_label:Kye,modal_pitch_toonadvies_label:Wye,modal_pitch_pitch_label:Yye,modal_pitch_bezwaren_label:Jye,pitch_practice_title:Xye,pitch_practice_subtitle:Qye,step1_choose_pitch:Zye,pitches_empty_practice:eve,go_to_pitch_generator:tve,step2_choose_partner:nve,choose_partner_subtitle:rve,back_to_pitch_selection:ive,practice_session:sve,selected_pitch:ave,waiting_to_start:ove,mic_error:lve,mic_error_connection:cve,stop_session:uve,start_session:dve,start_new_session:fve,session_complete:hve,transcript:mve,ai_feedback:pve,generating_feedback:gve,generate_feedback_prompt:_ve,generate_feedback:yve,you:vve,client_ai:bve,settings_title:xve,your_name:wve,email_address:Sve,company_name:Tve,settings_info_salesperson:Eve,settings_info_manager:Ave,changes_saved:kve,welcome_leader:Ive,welcome_team_leader:Cve,add_member:Nve,kpi_sales_today:Pve,kpi_sales_week:Rve,kpi_sales_month:Mve,team_members_and_roles:Dve,sales_this_month:jve,change_role:Ove,change_role_confirm:Lve,ai_team_performance_analysis:$ve,ai_team_analysis_subtitle:Vve,generate_analysis:Uve,overall_team_title:zve,overall_team_subtitle:Bve,no_team_structure_found:Fve,total_value_this_month:qve,team_members:Gve,this_month:Hve,my_team_title_salesperson:Kve,my_team_subtitle_salesperson:Wve,your_team_leader:Yve,your_leader:Jve,your_superiors:Xve,no_team_leader_found:Qve,no_leader_found:Zve,your_teammates:ebe,no_teammates:tbe,my_branch_title:nbe,my_branch_subtitle:rbe,buy_extra_licenses:ibe,kpi_total_value_month:sbe,kpi_total_fte:abe,kpi_weekly_avg_branch:obe,kpi_monthly_avg_branch:lbe,sector_telecom:cbe,sector_energy:ube,employees:dbe,sales_month:fbe,no_employees_in_sector:hbe,branch_members:mbe,search_employee:pbe,buy_licenses_modal_title:gbe,buy_licenses_modal_amount:_be,buy_licenses_modal_price_per:ybe,buy_licenses_modal_total:vbe,buy_licenses_modal_submit:bbe,sending_request:xbe,buy_licenses_modal_success_title:wbe,buy_licenses_modal_success_body:Sbe,kb_title_owner:Tbe,kb_title_manager:Ebe,kb_title_team:Abe,kb_subtitle_owner:kbe,kb_subtitle_manager:Ibe,kb_subtitle_team:Cbe,kb_from_org:Nbe,posted_by:Pbe,note_from:Rbe,select_post_title:Mbe,select_post_subtitle:Dbe,kb_empty_title:jbe,kb_empty_subtitle:Obe,planning_title:Lbe,planning_subtitle:$be,ai_training_planner:Vbe,training_focus:Ube,training_focus_placeholder:zbe,reject:Bbe,saved_plans:Fbe,agenda:qbe,edit_appointment:Gbe,new_appointment:Hbe,appointment_title:Kbe,date:Wbe,time:Ybe,notes_optional:Jbe,delete:"Delete",pkg_mgmt_title:Xbe,pkg_mgmt_subtitle:Qbe,new_package:Zbe,pkg_empty_state:exe,modal_edit_package:txe,modal_new_package:nxe,package_name:rxe,contract_value:ixe,owner_dashboard_welcome:sxe,vs_last_month:axe,kpi_top_branch:oxe,kpi_total_branches:lxe,kpi_total_employees:cxe,branch_performance_month:uxe,employees_short:dxe,sales_per_fte:fxe,quick_announcement:hxe,quick_announcement_title_placeholder:mxe,quick_announcement_body_placeholder:pxe,publish:gxe,publishing:_xe,quick_links:yxe,manage_organization:vxe,manage_packages:bxe,org_view_title:xxe,org_view_subtitle:wxe,add_new_branch:Sxe,branches_overview:Txe,manager_label:Exe,employees_label:Axe,sales_month_label:kxe,manager_not_assigned:Ixe,branches_empty_title:Cxe,branches_empty_subtitle:Nxe,profile_title:Pxe,upload_profile_picture:Rxe,role:Mxe,profile_saved:Dxe,security:jxe,new_password:Oxe,new_password_placeholder:Lxe,confirm_password:$xe,confirm_password_placeholder:Vxe,password_length_error:Uxe,password_mismatch_error:zxe,password_change_success:Bxe,password_change_error_reauth:Fxe,password_change_error_generic:qxe,changing_password:Gxe,change_password:Hxe,change_pw_welcome:Kxe,change_pw_subtitle:Wxe,confirm_new_password:Yxe,set_password_and_continue:Jxe,login_welcome_back:Xxe,login_subtitle:Qxe,password:Zxe,forgot_password:ewe,login_error_credentials:twe,login_error_generic:nwe,login_error_pending:rwe,password_reset_sent:iwe,password_reset_not_found:swe,password_reset_error:awe,logging_in:owe,login:lwe,no_account_yet:cwe,register_company:uwe,register_title:dwe,register_subtitle:fwe,personal_details:hwe,full_name:mwe,job_title:pwe,email_login:gwe,company_details:_we,active_industry:ywe,industry_telecom:vwe,industry_energy:bwe,industry_both:xwe,channel_both:wwe,num_employees_on_app:Swe,you_pay_for:Twe,total_cost_per_month:Ewe,license_cost:Awe,street_housenr:kwe,postal_code:Iwe,city:Cwe,country:Nwe,country_nl:Pwe,country_en:Rwe,country_de:Mwe,company_website:Dwe,company_phone:jwe,invoice_email:Owe,agreements_title:Lwe,agree_terms:$we,agree_privacy:Vwe,agree_services:Uwe,terms_link:zwe,privacy_link:Bwe,services_link:Fwe,i_have_read_and_understand:qwe,register_and_start:Gwe,register_error_all_fields:Hwe,register_error_agreements:Kwe,register_success_title:Wwe,register_success_body:Ywe,back_to_home:Jwe,modal_add_member_title:Xwe,name:Qwe,email:Zwe,temp_password:e0e,saving:t0e,modal_edit_post:n0e,modal_new_post:r0e,content_markdown:i0e,ai_inspiration:s0e,inspiration_topic_placeholder:a0e,pin_post:o0e,propose_regenerate_button:l0e,email_assistant_title:c0e,step1_email_goal:u0e,goal_confirm_appointment:d0e,goal_send_quote:f0e,goal_thank_for_meeting:h0e,step2_generate_email:m0e,generating_email:p0e,step3_result:g0e,copy_to_clipboard:_0e,copied:y0e,log_sale_title:v0e,select_package_sold:b0e,no_packages_defined:x0e,register:w0e,close:S0e,team_pulse_widget_title:T0e,top_performer:E0e,no_sales_today:A0e,coaching_opportunities:k0e,everyone_sold_today:I0e,modal_edit_branch_title:C0e,assign_manager:N0e,new_manager_help_text:P0e,error_branch_name_required:R0e,current_manager_label:M0e,mi_title:D0e,mi_subtitle:j0e,share_insight:O0e,search_in_notes:L0e,all_categories:$0e,no_insights_found_title:V0e,no_insights_found_subtitle:U0e,modal_add_mi_title:z0e,category:B0e,content_observation:F0e,error_category_content_required:q0e,share:G0e,error_all_fields_required:H0e,modal_create_branch_title:K0e,new_branch_name:W0e,manager_details:Y0e,manager_full_name:J0e,manager_email:X0e,manager_temp_password:Q0e,creating:Z0e,create:eSe,error_title_content_required:tSe,title_subject:nSe,content_message:rSe,nav_organisation:iSe,compa_notes_title:sSe,compa_notes_subtitle:aSe,new_note:oSe,no_notes_yet:lSe,note_by:cSe,modal_edit_note:uSe,modal_new_note:dSe,competitor:fSe,select_competitor:hSe,select_industry:mSe,package_type:pSe,select_package:gSe,package_internet_only:_Se,package_tv_only:ySe,package_phone_only:vSe,package_internet_tv:bSe,package_internet_phone:xSe,package_all_in_1:wSe,monthly_price_eur:SSe,internet_speed_mbps:TSe,tv_details:ESe,tv_details_placeholder:ASe,phone_details:kSe,phone_details_placeholder:ISe,contract_duration:CSe,select_duration:NSe,duration_1_year:PSe,duration_3_year:RSe,rate_type:MSe,select_rate_type:DSe,rate_type_single:jSe,rate_type_double:OSe,power_rate_peak:LSe,power_rate_offpeak:$Se,power_rate:VSe,gas_rate:USe,usps:zSe,general_notes:BSe,delete_note_confirm:FSe,error_select_competitor:qSe,kvk_number_nl:GSe,kvk_number_gb:HSe,kvk_number_de:KSe,btw_number_nl:WSe,btw_number_gb:YSe,btw_number_de:JSe,error_kvk_format_nl:XSe,error_kvk_format_gb:QSe,error_kvk_format_de:ZSe,error_btw_format_nl:eTe,error_btw_format_gb:tTe,error_btw_format_de:nTe,error_fullname:rTe,error_email_format:iTe,public_nav_rates:sTe,public_nav_about:aTe,public_nav_contact:oTe,public_nav_login:lTe,public_nav_register:cTe,landing_hero_title:uTe,landing_hero_subtitle:dTe,landing_hero_cta:fTe,landing_hero_trial:hTe,landing_features_supertitle:mTe,landing_features_title:pTe,landing_features_subtitle:gTe,feature_pitch_generator_name:_Te,feature_pitch_generator_desc:yTe,feature_crm_name:vTe,feature_crm_desc:bTe,feature_compa_name:xTe,feature_compa_desc:wTe,feature_gamification_name:STe,feature_gamification_desc:TTe,feature_management_name:ETe,feature_management_desc:ATe,feature_ai_name:kTe,feature_ai_desc:ITe,landing_cta_title:CTe,landing_cta_subtitle:NTe,landing_cta_button:PTe,rates_title:RTe,rates_subtitle:MTe,rates_trial_title:DTe,rates_trial_body:jTe,rates_trial_cta:OTe,rates_after_trial_title:LTe,rates_price_display:$Te,rates_price_user_month:VTe,rates_all_in_one_title:UTe,feature_included_1:zTe,feature_included_2:BTe,feature_included_3:FTe,feature_included_4:qTe,feature_included_5:GTe,feature_included_6:HTe,feature_included_7:KTe,feature_included_8:WTe,about_title:YTe,about_subtitle:JTe,about_h2_story:XTe,about_p1:QTe,about_p2:ZTe,about_p3:eEe,about_h2_mission:tEe,about_p4:nEe,about_p5:rEe,contact_title:iEe,contact_subtitle:sEe,contact_details_title:aEe,contact_email_label:oEe,contact_phone_label:lEe,contact_phone_value:cEe,contact_address_label:uEe,contact_address_value:dEe,contact_kvk_label:fEe,contact_form_submitted_title:hEe,contact_form_submitted_body:mEe,contact_form_name_label:pEe,contact_form_email_label:gEe,contact_form_phone_label:_Ee,contact_form_subject_label:yEe,contact_form_message_label:vEe,contact_form_submit_button:bEe,contact_form_sending_button:xEe,persona_sceptical_manager_name:wEe,persona_sceptical_manager_desc:SEe,persona_friendly_consumer_name:TEe,persona_friendly_consumer_desc:EEe,persona_technical_expert_name:AEe,persona_technical_expert_desc:kEe,feedback_error:IEe,feedback_prompt_title_opening:CEe,feedback_prompt_desc_opening:NEe,feedback_prompt_title_questioning:PEe,feedback_prompt_desc_questioning:REe,feedback_prompt_title_objections:MEe,feedback_prompt_desc_objections:DEe,feedback_prompt_title_tone:jEe,feedback_prompt_desc_tone:OEe,feedback_prompt_title_closing:LEe,feedback_prompt_desc_closing:$Ee,choose_feedback_type:VEe,fast_scan:UEe,fast_scan_desc:zEe,deep_analysis:BEe,deep_analysis_desc:FEe,help_assistant_title:qEe,ask_your_question:GEe,quick_reply_log_sale:HEe,quick_reply_add_member:KEe,quick_reply_generate_pitch:WEe,quick_reply_manage_clients:YEe,billing_title:JEe,billing_subtitle:XEe,subscription_overview:QEe,used_licenses:ZEe,licenses_of_total:e1e,price_per_license:t1e,total_monthly_cost:n1e,invoice_history:r1e,invoice_number:i1e,invoice_date:s1e,invoice_amount:a1e,invoice_status:o1e,invoice_action:l1e,status_paid:c1e,status_due:u1e,download_invoice:d1e,no_invoices_found:f1e,delete_user_confirm:h1e,delete_branch_confirm:m1e,license_management_title:p1e,license_management_body:g1e,license_management_how_many_remove:_1e,keep_all:y1e,remove_all:v1e,license_management_option_keep:b1e,license_management_option_keep_desc:x1e,license_management_option_remove:w1e,license_management_option_remove_desc:S1e,license_management_action_keep:T1e,license_management_action_confirm_removal:E1e,delete_user:A1e,delete_branch:k1e,vat_inclusive:I1e,vat_exclusive:C1e,phone_number:N1e,phone_number_placeholder:P1e,step_choose_industry:R1e,industry_info:M1e,share_with_manager:D1e,sharing:j1e,shared:O1e,registering:L1e,sales_analytics_title:$1e,sales_analytics_subtitle:V1e,monthly_avg_sales_per_branch:U1e,branch:z1e,total_sales:B1e,avg_daily_sales:F1e,filter_by_branch:q1e,all_branches:G1e,org_wide_announcements:H1e,no_team_members_found:K1e,share_to_kb:W1e,kb_analysis_title_prompt:Y1e,kb_analysis_title:J1e,market:X1e,analysis_date:Q1e,our_offer_title:Z1e,competitor_details_title:eAe,kb_analysis_note_prefix:tAe,kb_analysis_note_suffix:nAe,kb_save_error:rAe,share_note_to_kb:iAe,kb_note_title_prompt:sAe,kb_note_title:aAe,kb_note_note_prefix:oAe,author:lAe,none:cAe,telecom_details:uAe,energy_details:dAe,privacy_title:fAe,privacy_subtitle:hAe,privacy_intro:mAe,privacy_h2_data_collected:pAe,privacy_p_data_collected:gAe,privacy_li_account_data:_Ae,privacy_li_company_data:yAe,privacy_li_usage_data:vAe,privacy_li_technical_data:bAe,privacy_h2_data_usage:xAe,privacy_p_data_usage:wAe,privacy_li_provide_service:SAe,privacy_li_personalization:TAe,privacy_li_communication:EAe,privacy_li_analysis:AAe,privacy_h2_sharing:kAe,privacy_p_sharing:IAe,privacy_li_cloud_providers:CAe,privacy_li_ai_providers:NAe,privacy_h2_ai:PAe,privacy_p_ai:RAe,privacy_h2_security:MAe,privacy_p_security:DAe,privacy_h2_rights:jAe,privacy_p_rights:OAe,privacy_h2_changes:LAe,privacy_p_changes:$Ae,privacy_h2_contact:VAe,privacy_p_contact:UAe,terms_title:zAe,terms_subtitle:BAe,terms_intro:FAe,terms_h2_usage:qAe,terms_p_usage_1:GAe,terms_p_usage_2:HAe,terms_p_usage_3:KAe,terms_h2_payment:WAe,terms_p_payment_1:YAe,terms_p_payment_2:JAe,terms_p_payment_3:XAe,terms_p_payment_4:QAe,terms_h2_ip:ZAe,terms_p_ip:eke,terms_h2_liability:tke,terms_p_liability:nke,terms_h2_termination:rke,terms_p_termination:ike,terms_h2_law:ske,terms_p_law:ake,terms_h2_contact:oke,terms_p_contact:lke,footer_copyright:cke,footer_services:uke,footer_about:dke,footer_contact:fke,footer_privacy:hke,footer_terms:mke},gke="Dashboard",_ke="Pitch-Generator",yke="Gespeicherte Pitches",vke="Pitch ben",bke="Kunden",xke="Wettbewerbsanalyse",wke="Wettbewerbsnotizen",Ske="Ziele",Tke="Mein Privates Team",Eke="Meine Filiale",Ake="Meine Organisation",kke="Mein Filialteam",Ike="Team-Wissensdatenbank",Cke="Filial-Wissensdatenbank",Nke="Organisations-News",Pke="Planung",Rke="Paketverwaltung",Mke="Rechnungsstellung",Dke="Verkaufsanalyse",jke="Profil",Oke="Einstellungen",Lke="Abmelden",$ke="Dunkelmodus",Vke="Heller Modus",Uke="Verkauf Registrieren",zke="Guten Morgen",Bke="Guten Tag",Fke="Guten Abend",qke="Willkommen zurck in Ihrem persnlichen Dashboard.",Gke="Willkommen zurck in Ihrem Management-Dashboard.",Hke="Dashboard",Kke="Pitch-Generator",Wke="Gespeicherte Pitches",Yke="Pitch ben",Jke="Kunden",Xke="Wettbewerbsanalyse",Qke="Wettbewerbsnotizen",Zke="Ziele",eIe="Einstellungen",tIe="Mein Privates Team",nIe="Meine Filiale",rIe="Meine Organisation",iIe="Mein Filialteam",sIe="Profil",aIe="Team-Wissensdatenbank",oIe="Filial-Wissensdatenbank",lIe="Organisations-News",cIe="Planung",uIe="Paketverwaltung",dIe="Rechnungsstellung",fIe="Verkaufsanalyse",hIe="KI-Tipp des Tages",mIe="Verkaufsziele (Vertragswert)",pIe="Heute",gIe="Diese Woche",_Ie="Ihre heutige Agenda",yIe="KI-Zusammenfassung wird geladen...",vIe="Keine Termine fr heute.",bIe="Team-Verkufe Heute",xIe="Team-Verkufe Woche",wIe="Team-Verkufe Monat",SIe="Durchschn. Tagesverkauf (Monat)",TIe="Wochendurchschnitt (pro Tag)",EIe="Monatsdurchschnitt (pro Tag)",AIe="Verkaufsserie",kIe="Tage in Folge mit einem Verkauf",IIe="Meine Abzeichen",CIe="Verkaufen Sie weiter und erreichen Sie Ziele, um Abzeichen zu verdienen!",NIe="Ihr Wochenrckblick",PIe="KI-gesttzte Einblicke in Ihre Leistungen der letzten 7 Tage.",RIe="Rckblick Erstellen",MIe="Wird generiert...",DIe="Erstellen Sie einen Rckblick, um Ihre wchentlichen Einblicke zu sehen.",jIe="Team-Updates",OIe="Aktuelle Nachrichten vom Management.",LIe="Noch keine Team-Updates verffentlicht.",$Ie="Neuer Beitrag",VIe="KI-Verkaufscoach",UIe="Erstellen Sie eine komplette, mageschneiderte Verkaufsstrategie und einen Pitch.",zIe="Ihr Profil",BIe="Vertriebskanal",FIe="Branche",qIe="Firma",GIe="Schritt 1: Pitch-Typ",HIe="Schritt %{step_number}: Pitch-Typ",KIe="Normal",WIe="Kurz & Bndig",YIe="Schritt 2: Vertriebskanal",JIe="Schritt %{step_number}: Vertriebskanal",XIe="Whlen Sie den Kanal aus, fr den Sie diesen Pitch erstellen mchten.",QIe="Haustrgeschft",ZIe="Telemarketing",eCe="Schritt %{step_number}: Pitchen fr",tCe="Whlen Sie das Unternehmen aus, fr das Sie pitchen",nCe="Unternehmen auswhlen",rCe="Schritt %{step_number}: Details",iCe="Was ist Ihr Verkaufsstil/Ihre Persnlichkeit?",sCe="z.B. Energiegeladen, extrovertiert, formell",aCe="In welcher Stadt/welchem Stadtteil sind Sie aktiv?",oCe="z.B. Berlin-Mitte, Hamburg-Zentrum",lCe="Strategie Erstellen",cCe="Wird erstellt...",uCe="Ihre Strategie & Ihr Pitch",dCe="Ihre persnliche Verkaufsstrategie wird hier angezeigt.",fCe="Fllen Sie die Schritte auf der linken Seite aus, um zu beginnen.",hCe="Strategische Nachbarschaftsanalyse",mCe="Beratung: Ton & Stil",pCe="Der mageschneiderte Pitch",gCe="Wahrscheinlichste Einwnde",_Ce="Fragen Sie den KI-Coach",yCe="Strategie Speichern",vCe="Gespeichert!",bCe="Hallo! Ich bin Ihr KI-Verkaufscoach. Wie kann ich Ihnen helfen, Ihre Strategie zu verfeinern?",xCe="KI-Verkaufscoach",wCe="Stellen Sie dem Coach eine Frage...",SCe="Kunden",TCe="Neuer Kunde",ECe="Noch keine Kunden",ACe="Fgen Sie Ihren ersten Kunden hinzu, um zu beginnen.",kCe="Bearbeiten",ICe="Sind Sie sicher, dass Sie dies lschen mchten?",CCe="Notizen",NCe="Keine Notizen fr diesen Kunden.",PCe="Briefing Erstellen",RCe="Briefing...",MCe="Kundenprofil Erstellen",DCe="Profil...",jCe="Notizen Analysieren",OCe="Wird analysiert...",LCe="Pre-Call Briefing",$Ce="KI-Kundenprofil",VCe="Notizanalyse",UCe="Follow-up-E-Mail Verfassen",zCe="Whlen Sie einen Kunden",BCe="Oder fgen Sie einen neuen Kunden hinzu, um zu beginnen.",FCe="Kunde Bearbeiten",qCe="Neuer Kunde",GCe="Name",HCe="Firma",KCe="Notizen",WCe="Abbrechen",YCe="Speichern",JCe="Spezialisierte Wettbewerbsanalyse",XCe="Erhalten Sie tiefe KI-Einblicke, indem Sie Ihr Angebot mit bestimmten Wettbewerbern vergleichen.",QCe="Schritt %{step_number}: Whlen Sie einen Markt",ZCe="Whlen Sie die Branche aus, die Sie analysieren mchten.",eNe="Telekommunikation",tNe="Energie",nNe="Schritt %{step_number}: Whlen Sie Wettbewerber aus",rNe="Markieren Sie die Unternehmen, die Sie in die Analyse einbeziehen mchten.",iNe="Schritt %{step_number}: Geben Sie Ihr Angebot ein",sNe="Pakettyp",aNe="Geschwindigkeit (Mbit/s)",oNe="Preis p/M ()",lNe="Rabatt/Cashback ()",cNe="TV-Details",uNe="Ihre USPs",dNe="Vertragslaufzeit",fNe="Stromtarif",hNe="Strom Normal (/kWh)",mNe="Strom Niedertarif (/kWh)",pNe="Gas (/m)",gNe="Fixkosten p/M ()",_Ne="Willkommensbonus ()",yNe="Ihre USPs",vNe="Whlen Sie mindestens einen Wettbewerber aus.",bNe="Wettbewerber Analysieren",xNe="Wird analysiert...",wNe="Strategische Zusammenfassung",SNe="KI analysiert die Daten fr Sie...",TNe="Monatlicher Preisvergleich",ENe="Detailvergleich",ANe="Stromtarif (Normal)",kNe="Neukunden",INe="Bestandskunden",CNe="Verkaufsziele Festlegen",NNe="Neues Verkaufsziel",PNe="Anzahl der Verkufe",RNe="Pro Tag",MNe="Pro Woche",DNe="Ziel Festlegen",jNe="Aktive Verkaufsziele",ONe="Tagesziel:",LNe="Wochenziel:",$Ne="Verkufe",VNe="Noch keine Verkaufsziele festgelegt.",UNe="Gespeicherte Pitches",zNe="Noch keine Pitches gespeichert",BNe="Erstellen oder fgen Sie einen Pitch hinzu, um zu beginnen.",FNe="Gespeichert am",qNe="Sind Sie sicher, dass Sie diesen Pitch lschen mchten?",GNe="KI-Pitch-Analyse",HNe="Zur Wissensdatenbank befrdern",KNe="Mit KI analysieren",WNe="Struktur & Fluss",YNe="Wortwahl & Ton",JNe="Wertversprechen",XNe="Abschluss (Call to Action)",QNe="Whlen Sie einen Pitch",ZNe="Sehen, bearbeiten oder analysieren Sie eine gespeicherte Strategie.",e2e="Fgen Sie eine Notiz fr Ihr Team hinzu: Warum ist dieser Pitch erfolgreich?",t2e="Neuen Pitch Hinzufgen",n2e="Eigenen Pitch Hinzufgen",r2e="Name des Pitches",i2e="Pitch Hinzufgen",s2e="Strategische Nachbarschaftsanalyse",a2e="Beratung: Ton & Stil",o2e="Der mageschneiderte Pitch",l2e="Wahrscheinlichste Einwnde",c2e="Interaktives Pitch-Training",u2e="ben Sie Ihre Pitches in einem realistischen Szenario mit einem KI-Gesprchspartner.",d2e="Schritt 1: Whlen Sie einen Pitch zum ben",f2e="Sie haben noch keine Pitches gespeichert.",h2e='Gehen Sie zum "Pitch-Generator", um Ihren ersten Pitch zu erstellen.',m2e="Schritt 2: Whlen Sie Ihren Gesprchspartner",p2e="Whlen Sie die Rolle, die die KI spielen soll.",g2e="Zurck zur Pitch-Auswahl",_2e="bungssitzung:",y2e="Ausgewhlter Pitch:",v2e="Warte auf Start...",b2e="Mikrofon nicht gefunden oder Zugriff verweigert. Bitte erlauben Sie den Mikrofonzugriff in Ihrem Browser.",x2e="Ein Verbindungsfehler ist aufgetreten: %{message}",w2e="Sitzung Beenden",S2e="bungssitzung Starten",T2e="Neue Sitzung starten",E2e="Sitzung abgeschlossen!",A2e="Gesprchstranskript",k2e="KI-Feedback",I2e="Feedback Erstellen",C2e="Klicken Sie auf 'Feedback Erstellen', um eine Analyse Ihres Gesprchs zu erhalten.",N2e="Feedback Erstellen",P2e="Sie",R2e="Kunde (KI)",M2e="Einstellungen",D2e="Ihr Name",j2e="E-Mail-Adresse",O2e="Firmenname",L2e="Ihr Name, Ihre E-Mail, Ihre Branche und Ihr Vertriebskanal sind festgelegt, um die KI-Beratung konsistent und relevant fr Ihre spezifische Rolle zu halten. Um diese zu ndern, mssen Sie sich abmelden und ein neues Profil erstellen.",$2e="Ihr Name und Ihre E-Mail-Adresse sind mit Ihrem Konto verknpft. Ihre Rolle gibt Ihnen Zugriff auf alle Branchen und Kanle innerhalb Ihrer Filiale.",V2e="nderungen gespeichert!",U2e="Willkommen, Leader!",z2e="Willkommen, Teamleiter!",B2e="Mitglied Hinzufgen",F2e="Heute Verkauft",q2e="Diese Woche Verkauft",G2e="Diesen Monat Verkauft",H2e="Teammitglieder & Rollen",K2e="Verkufe diesen Monat",W2e="Rolle ndern",Y2e='Sind Sie sicher, dass Sie die Rolle dieses Benutzers zu "%{role}" ndern mchten?',J2e="KI-Teamleistungsanalyse",X2e="Erhalten Sie eine strategische bersicht und Coaching-Ratschlge von der KI.",Q2e="Analyse Erstellen",Z2e="Mein Filialteam",ePe="bersicht der gesamten Teamhierarchie in Ihrer Filiale.",tPe="Keine Teamstruktur gefunden. Ihr Manager hat mglicherweise noch keine Teamleiter ernannt.",nPe="Gesamtwert Diesen Monat",rPe="Teammitglieder",iPe="Diesen Monat",sPe="Mein Privates Team",aPe="Ihre direkten Vorgesetzten und Kollegen.",oPe="Ihr Teamleiter",lPe="Ihr Leader",cPe="Ihre Vorgesetzten",uPe="Kein Teamleiter gefunden.",dPe="Kein direkter Leader gefunden.",fPe="Ihre Teamkollegen",hPe="Sie haben keine direkten Teamkollegen.",mPe="Meine Filiale:",pPe="bersicht aller Mitglieder und Leistungen in Ihrer Filiale.",gPe="Zustzliche Lizenzen Kaufen",_Pe="Gesamtwert (Monat)",yPe="Gesamt VZ",vPe="Wochendurchschnitt (Filiale)",bPe="Monatsdurchschnitt (Filiale)",xPe="Telekommunikationssektor",wPe="Energiesektor",SPe="Mitarbeiter",TPe="Verkufe (Monat)",EPe="Keine Mitarbeiter in diesem Sektor.",APe="Filialmitglieder",kPe="Mitarbeiter suchen...",IPe="Zustzliche Lizenzen Kaufen",CPe="Anzahl zustzlicher Lizenzen",NPe="Preis: %{price} pro Lizenz",PPe="Gesamt: %{total_cost}",RPe="Anfrage Senden",MPe="Anfrage wird gesendet...",DPe="Anfrage gesendet!",jPe="Vielen Dank fr Ihre Anfrage. Wir werden Sie innerhalb von 2 Werktagen kontaktieren, um die zustzlichen Lizenzen zu aktivieren.",OPe="Organisations-News",LPe="Filial-Wissensdatenbank",$Pe="Team-Wissensdatenbank",VPe="Verffentlichen Sie Ankndigungen fr die gesamte Organisation und sehen Sie sich alles geteilte Wissen an.",UPe="Verffentlichen Sie Ankndigungen fr Ihre Filiale und sehen Sie sich organisationsweite Nachrichten an.",zPe='Lernen Sie von den "Goldenen Pitches", die von Ihren Vorgesetzten ausgewhlt wurden.',BPe="(Organisation)",FPe="Von:",qPe="Notiz von",GPe="Whlen Sie einen Beitrag oder 'Goldenen Pitch'",HPe="Sehen Sie sich die Details der besten Strategien und Ankndigungen an.",KPe="Die Wissensdatenbank ist noch leer",WPe="Wenn ein Vorgesetzter eine Nachricht oder einen erfolgreichen Pitch teilt, wird er hier erscheinen.",YPe="Planung & Agenda",JPe="Erstellen Sie Trainingsplne mit KI und verwalten Sie Ihre Termine.",XPe="KI-Trainingsplaner",QPe="Trainingsfokus",ZPe="z.B. Pitch-Training, Motivationsschub",eRe="Ablehnen",tRe="Gespeicherte Plne",nRe="Agenda",rRe="Termin Bearbeiten",iRe="Neuer Termin",sRe="Titel",aRe="Datum",oRe="Uhrzeit",lRe="Notizen (optional)",cRe="Paketverwaltung",uRe="Definieren Sie die Produkte/Pakete, die Ihre Teams verkaufen.",dRe="Neues Paket",fRe="Noch keine Pakete definiert.",hRe="Paket Bearbeiten",mRe="Neues Paket",pRe="Paketname",gRe="Vertragswert (z.B. 1.0, 0.5)",_Re="Willkommen im bersichts-Dashboard Ihrer Organisation.",yRe="vs. Vormonat",vRe="Top-Filiale",bRe="Filialen Gesamt",xRe="Mitarbeiter Gesamt",wRe="Filialleistung (Dieser Monat)",SRe="Mitarbeiter",TRe="Verkufe/VZ",ERe="Schnelle Ankndigung",ARe="Titel",kRe="Ihre Nachricht fr die Organisation...",IRe="Verffentlichen",CRe="Wird verffentlicht...",NRe="Schnell-Links",PRe="Organisation Verwalten",RRe="Pakete Verwalten",MRe="Meine Organisation",DRe="Verwalten Sie alle Filialen in Ihrem Unternehmen.",jRe="Neue Filiale Hinzufgen",ORe="Filialbersicht",LRe="Manager:",$Re="Mitarbeiter:",VRe="Verkufe (Monat):",URe="Noch nicht zugewiesen",zRe="Noch keine Filialen erstellt.",BRe="Fgen Sie Ihre erste Filiale und einen Manager hinzu, um zu beginnen.",FRe="Mein Profil",qRe="Profilbild hochladen",GRe="Rolle",HRe="Profil gespeichert!",KRe="Sicherheit",WRe="Neues Passwort",YRe="Mindestens 6 Zeichen",JRe="Passwort Besttigen",XRe="Neues Passwort wiederholen",QRe="Das Passwort muss mindestens 6 Zeichen lang sein.",ZRe="Die Passwrter stimmen nicht berein.",eMe="Ihr Passwort wurde erfolgreich gendert!",tMe="Diese Aktion erfordert eine krzliche Authentifizierung. Bitte melden Sie sich erneut an und versuchen Sie es noch einmal.",nMe="Beim ndern des Passworts ist ein Fehler aufgetreten.",rMe="Wird gendert...",iMe="Passwort ndern",sMe="Willkommen, %{name}!",aMe="Legen Sie Ihr persnliches Passwort fest, um Ihr Konto zu sichern.",oMe="Neues Passwort Besttigen",lMe="Passwort Festlegen und Fortfahren",cMe="Willkommen zurck!",uMe="Melden Sie sich an, um zu Ihrem Sales Copilot fortzufahren.",dMe="Passwort",fMe="Passwort vergessen?",hMe="Ihre E-Mail-Adresse oder Ihr Passwort ist falsch.",mMe="Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut.",pMe="Ihr Konto wartet auf Genehmigung.",gMe="Eine E-Mail mit Anweisungen zum Zurcksetzen des Passworts wurde an Sie gesendet.",_Me="Kein Konto fr diese E-Mail-Adresse gefunden.",yMe="Die E-Mail zum Zurcksetzen des Passworts konnte nicht gesendet werden.",vMe="Anmelden...",bMe="Anmelden",xMe="Noch kein Konto?",wMe="Registrieren Sie Ihr Unternehmen.",SMe="Registrieren Sie Ihr Unternehmen",TMe="Beginnen Sie noch heute mit der Transformation Ihres Vertriebsteams.",EMe="Persnliche Daten",AMe="Vollstndiger Name",kMe="Berufsbezeichnung",IMe="E-Mail-Adresse (fr die Anmeldung)",CMe="Firmendetails",NMe="Aktive Branche(n)",PMe="Telekommunikation",RMe="Energie",MMe="Beide",DMe="Beide",jMe="Anzahl der Mitarbeiter in der App (ohne Sie)",OMe="Sie zahlen fr sich selbst + %{num_employees} Mitarbeiter = %{total_licenses} Lizenzen",LMe="Gesamt: %{total_cost} pro Monat",$Me="(%{price} pro Lizenz pro Monat)",VMe="Strae + Hausnummer",UMe="Postleitzahl",zMe="Stadt",BMe="Land",FMe="Niederlande",qMe="Vereinigtes Knigreich",GMe="Deutschland",HMe="Firmenwebsite (optional)",KMe="Telefonnummer (optional)",WMe="Rechnungs-E-Mail (optional)",YMe="Vereinbarungen",JMe="Ich stimme den",XMe="Ich stimme der",QMe="Ich habe die",ZMe="Allgemeinen Geschftsbedingungen",eDe="Datenschutzerklrung",tDe="Dienstleistungen und Tarife",nDe="gelesen und verstanden.",rDe="Registrieren und Starten",iDe="Bitte berprfen Sie die markierten Felder.",sDe="Sie mssen allen Bedingungen zustimmen.",aDe="Anmeldung Erhalten!",oDe="Vielen Dank fr Ihre Anmeldung. Wir werden Sie innerhalb von 2 Werktagen kontaktieren, um Ihr Konto zu aktivieren und alles einzurichten.",lDe="Zurck zur Startseite",cDe="Neues Mitglied Hinzufgen",uDe="Name",dDe="E-Mail",fDe="Temporres Passwort",hDe="Wird gespeichert...",mDe="Beitrag Bearbeiten",pDe="Neuer Team-Beitrag",gDe="Inhalt (Markdown untersttzt)",_De="KI-Inspiration",yDe="Worber mchten Sie schreiben?",vDe="Beitrag anpinnen (luft nicht ab)",bDe="Ja, den Pitch anpassen",xDe="KI-E-Mail-Assistent",wDe="1. Whlen Sie das Ziel Ihrer E-Mail",SDe="Termin besttigen",TDe="Angebot senden",EDe="Fr das Gesprch danken",ADe="2. E-Mail Erstellen",kDe="Wird erstellt...",IDe="3. Ergebnis",CDe="In die Zwischenablage kopieren",NDe="Kopiert!",PDe="Verkauf Registrieren",RDe="Whlen Sie das verkaufte Paket:",MDe="Ihr Manager hat noch keine Verkaufspakete fr Ihre Branche und Firma eingerichtet.",DDe="Registrieren",jDe="Schlieen",ODe="Team-Puls (Heute)",LDe="Top-Performer",$De="Heute noch keine Verkufe.",VDe="Coaching-Mglichkeiten",UDe="Jeder im Team hat heute schon verkauft, super!",zDe="Filiale Verwalten",BDe="Manager Zuweisen",FDe="Whlen Sie einen Mitarbeiter aus, um ihn zum Manager zu befrdern. Der aktuelle Manager wird zum Verkufer herabgestuft.",qDe="Filialname ist erforderlich.",GDe="(Aktuell)",HDe="Marktintelligenz",KDe="Zentralisierte Plattform fr strategische Einblicke aus dem Feld.",WDe="Einblick Teilen",YDe="In Notizen suchen...",JDe="Alle Kategorien",XDe="Keine Einblicke gefunden.",QDe="Seien Sie der Erste, der einen strategischen Einblick mit Ihrem Team teilt.",ZDe="Einen Strategischen Einblick Teilen",eje="Kategorie",tje="Inhalt / Beobachtung",nje="Kategorie und Inhalt sind erforderlich.",rje="Einblick Teilen",ije="Alle Felder sind Pflichtfelder.",sje="Neue Filiale & Manager Erstellen",aje="Name der neuen Filiale",oje="Manager-Details",lje="Vollstndiger Name des Managers",cje="E-Mail-Adresse des Managers",uje="Temporres Passwort",dje="Wird erstellt...",fje="Erstellen",hje="Titel und Inhalt sind erforderlich.",mje="Titel / Betreff",pje="Inhalt / Mitteilung",gje="Meine Organisation",_je="Wettbewerbsnotizen",yje="Teilen Sie hier Einblicke ber Wettbewerber, die Sie im Auendienst sammeln, mit Ihrem Team und Management.",vje="Neue Notiz",bje="Noch keine Notizen.",xje="von %{authorName} am %{date}",wje="Notiz Bearbeiten",Sje="Neue Notiz Eingeben",Tje="Wettbewerber",Eje="Wettbewerber auswhlen",Aje="Branche auswhlen",kje="Pakettyp",Ije="Paket auswhlen",Cje="Nur Internet",Nje="Nur TV",Pje="Nur Telefon",Rje="Internet + TV",Mje="Internet + Telefon",Dje="Alles-in-1",jje="Monatspreis ()",Oje="Internetgeschwindigkeit (Mbit/s)",Lje="TV-Details",$je="z.B. Anzahl der Sender, Zusatzpakete",Vje="Telefon-Details",Uje="z.B. Unbegrenzte Anrufe, Auslandspaket",zje="Vertragslaufzeit",Bje="Laufzeit auswhlen",Fje="1 Jahr",qje="3 Jahre",Gje="Tarifart",Hje="Tarifart auswhlen",Kje="Eintarif",Wje="Doppeltarif",Yje="Stromtarif (Spitze)",Jje="Stromtarif (Nebenzeit)",Xje="Stromtarif",Qje="Gastarif",Zje="USPs (Alleinstellungsmerkmale)",eOe="Allgemeine Notizen",tOe="Sind Sie sicher, dass Sie diese Notiz lschen mchten?",nOe="Bitte whlen Sie einen Wettbewerber aus.",rOe="KvK-Nummer",iOe="Company Registration Number",sOe="Handelsregisternummer",aOe="USt-IdNr.",oOe="VAT Number",lOe="USt-IdNr.",cOe="Ungltige KvK-Nummer (muss 8 Ziffern haben).",uOe="Ungltige Company Number (muss 8 Zeichen haben).",dOe="Ungltige Handelsregisternummer (z.B. HRA 12345).",fOe="Ungltige USt-IdNr (z.B. NL123456789B01).",hOe="Ungltige VAT-Nummer (z.B. GB123456789).",mOe="Ungltige USt-IdNr (z.B. DE123456789).",pOe="Bitte geben Sie einen Vor- und Nachnamen ein.",gOe="Bitte geben Sie eine gltige E-Mail-Adresse ein.",_Oe="Tarife",yOe="ber Uns",vOe="Kontakt",bOe="Anmelden",xOe="Registrieren",wOe='Geben Sie Ihrem Vertriebsteam die <span class="text-brand-primary">Werkzeuge</span>, um jeden Verkauf zu gewinnen',SOe="Speziell fr die Frontlinie entwickelt. Strken Sie Ihre Haustr- und Telemarketing-Verkufer mit funktionierenden Strategien. Manager und Eigentmer erhalten gleichzeitig einen klaren Einblick in die Leistung, um das Wachstum zu steuern.",TOe="Starten Sie Ihre 14-tgige Testphase",EOe="Voll funktionsfhig, keine Kreditkarte erforderlich.",AOe="All-in-One-Plattform",kOe="Das komplette Toolkit fr profitablen Verkauf",IOe="Alles, was Ihr Team braucht, um zu glnzen, von der Vorbereitung bis zum Abschluss und Coaching. Untersttzt durch smarte Technologie.",COe="Strategischer Pitch-Generator",NOe="Erstellen Sie gewinnende, mageschneiderte Pitches. Unser Tool analysiert Ihre Zielgruppe und gibt Ihnen eine komplette Strategie, einschlielich Einwnden und Tonberatung.",POe="Intelligentes & Einfaches CRM",ROe="Verwalten Sie Ihre Kunden mhelos. Das Tool fasst Ihre Notizen zusammen, schlgt Manahmen vor und bereitet Sie mit einem automatischen Briefing auf jedes Gesprch vor.",MOe="Live-Wettbewerbsanalyse",DOe="Vergleichen Sie Ihr Angebot live mit dem Markt. Erhalten Sie sofortige Einblicke in Ihre Strken und Schwchen gegenber Ihren Konkurrenten.",jOe="Gamification & Ziele",OOe="Motivieren Sie Ihr Team mit persnlichen Zielen, Verkaufsserien und Abzeichen. Machen Sie den Verkauf zu einem Gewinnspiel.",LOe="bersichtliches Team-Management",$Oe="Erhalten Sie als Manager oder Eigentmer einen Helikopterblick auf die Leistungen Ihrer Teams und Filialen. Steuern Sie bei Bedarf nach.",VOe="Interaktives bungsmodul",UOe="ben Sie Ihre Pitches in realistischen Szenarien gegen einen virtuellen Kunden. Erhalten Sie sofortiges Feedback und verbessern Sie Ihre Technik.",zOe='Bereit, Ihre <span class="block">Ergebnisse zu Maximieren?</span>',BOe="Geben Sie Ihrem Team die Werkzeuge, die es verdient, und sehen Sie den Unterschied in den Zahlen. Beginnen Sie noch heute, intelligenter zu arbeiten.",FOe="Heute Beginnen",qOe="Dienstleistungen & Tarife",GOe="Einfach, transparent und leistungsstark. Ein Preis fr alle Funktionen.",HOe="14 Tage Kostenlos Testen",KOe="Testen Sie alle Funktionen von Sales Copilot, ohne Verpflichtungen.",WOe="Kostenlose Testphase Starten",YOe="Nach Ihrer Testphase",JOe="%{price}",XOe="pro Benutzer / pro Monat",QOe="All-in-One-Preis",ZOe="Unbegrenzte KI-Pitch-Erstellung",eLe="Interaktives KI-Pitch-Training",tLe="KI-Wettbewerbsanalyse",nLe="Einfaches Kundenmanagement (CRM)",rLe="Ziele & Gamification",iLe="Team- & Filialmanagement",sLe="Team-Wissensdatenbank",aLe="Tgliche KI-Tipps",oLe="ber Uns",lLe="Aus der Praxis geboren, fr Ergebnisse gebaut.",cLe="Unsere Geschichte",uLe="SalExplosive ist nicht nur ein Werkzeug; es ist das Ergebnis von 5 Jahren praktischer Erfahrung an der Front der Verkaufswelt. Unser Grnder begann als Vertriebsmitarbeiter und stieg durch die Rnge als Leader, Teamleiter und schlielich Projektmanager auf.",dLe="Whrend dieser Reise wurde eine Herausforderung schmerzlich deutlich: Als Fhrungskraft mchten Sie Ihr Team im Auendienst untersttzen, coachen und zum Erfolg fhren. Aber die Realitt ist hart. Man kann nicht berall gleichzeitig sein, schon gar nicht, wenn man auch seine eigenen Verkaufsziele erreichen muss. Wertvolle Coaching-Momente gehen verloren, und das Potenzial talentierter Verkufer bleibt ungenutzt.",fLe="Dieses frustrierende Dilemma war der Funke, der SalExplosive geschaffen hat. Wir fragten uns: 'Was wre, wenn es eine Mglichkeit gbe, diese entscheidende Untersttzung genau dann zu bieten, wenn ein Verkufer sie braucht, ohne dass die Fhrungskraft physisch anwesend sein muss?' Aus dieser Frage haben wir ein leistungsstarkes Toolkit entwickelt, das als der immer prsente Co-Pilot fr jeden Vertriebsmitarbeiter fungiert.",hLe="Unsere Mission",mLe="Unsere Mission ist einfach: Wir berbrcken die Kluft zwischen der begrenzten Zeit einer Fhrungskraft und dem unbegrenzten Potenzial eines Verkufers. Wir geben Fhrungskrften die Werkzeuge, um ihr Team aus der Ferne zu strken, und Verkufern das Selbstvertrauen und die Strategie, jeden Verkauf zu gewinnen.",pLe="SalExplosive ist mehr als nur Software; es ist ein Partner im Wachstum. Von einem Verkufer fr Verkufer gebaut. Wir sind hier, um die Frontlinie zu strken, die Ergebnisse zu maximieren und jedes Teammitglied zu einem Top-Performer zu machen.",gLe="Kontaktieren Sie Uns",_Le="Haben Sie Fragen, Anmerkungen oder mchten Sie eine Demo? Wir freuen uns, von Ihnen zu hren.",yLe="Unsere Daten",vLe="E-Mail",bLe="Telefon",xLe="Nur nach Vereinbarung",wLe="Adresse",SLe="Nur Postanschrift verfgbar",TLe="Handelsregister",ELe="Vielen Dank fr Ihre Nachricht!",ALe="Wir werden uns so schnell wie mglich bei Ihnen melden.",kLe="Ihr Name",ILe="Ihre E-Mail-Adresse",CLe="Ihre Telefonnummer",NLe="Betreff",PLe="Ihre Nachricht",RLe="Nachricht Senden",MLe="Wird gesendet...",DLe="Skeptischer Manager",jLe="Ein erfahrener Manager mit wenig Zeit, der direkt auf den Punkt kommt und auf ROI und konkrete Ergebnisse fokussiert ist.",OLe="Freundlicher Verbraucher",LLe="Ein interessierter, aber preisbewusster Verbraucher, der offen fr ein Gesprch ist, aber vom Wert berzeugt werden muss.",$Le="Technischer Experte",VLe="Ein detailorientierter Fachmann, der tiefgehende, technische Fragen stellt und die Spezifikationen verstehen mchte.",ULe="Feedback konnte nicht erstellt werden. Bitte versuchen Sie es erneut.",zLe="Erffnung & Erster Eindruck",BLe="War die Erffnung stark und relevant? Wurde eine gute Verbindung hergestellt?",FLe="Fragestellung & Bedarfsanalyse",qLe="Hat der Verkufer die richtigen Fragen gestellt, um die Bedrfnisse des Kunden zu ermitteln?",GLe="Umgang mit Einwnden",HLe="Wie effektiv wurden die Einwnde und kritischen Fragen des Kunden behandelt?",KLe="Ton & Stil",WLe="War der Ton des Verkufers der Situation und der Persona angemessen? War die Kommunikation klar?",YLe="Abschluss & Handlungsaufforderung",JLe="Gab es einen klaren und selbstbewussten Versuch, das Gesprch mit einem konkreten nchsten Schritt abzuschlieen?",XLe="Whlen Sie die Art des Feedbacks, das Sie erhalten mchten:",QLe="Schneller Scan",ZLe="Erhalten Sie schnelles, prgnantes Feedback. Ideal fr eine schnelle berprfung.",e$e="Tiefenanalyse",t$e="Erhalten Sie eine detaillierte Analyse. Dies kann etwas lnger dauern.",n$e="Hilfe-Assistent",r$e="Stellen Sie Ihre Frage...",i$e="Wie registriere ich einen Verkauf?",s$e="Wie fge ich ein Teammitglied hinzu?",a$e="Wie erstelle ich einen Pitch?",o$e="Wie verwalte ich Kunden?",l$e="Rechnungsstellung & Abonnement",c$e="Sehen Sie hier Ihre Abonnementdetails und Rechnungshistorie ein.",u$e="Abonnementbersicht",d$e="Genutzte Lizenzen",f$e="%{used}/%{total}",h$e="Preis pro Lizenz",m$e="Geschtzte monatliche Kosten",p$e="Rechnungshistorie",g$e="Rechnungsnummer",_$e="Datum",y$e="Betrag",v$e="Status",b$e="Aktion",x$e="Bezahlt",w$e="Offen",S$e="Herunterladen",T$e="Noch keine Rechnungen gefunden.",E$e="Sind Sie sicher, dass Sie diesen Benutzer lschen mchten? Diese Aktion kann nicht rckgngig gemacht werden.",A$e="Sind Sie sicher, dass Sie diese Filiale lschen mchten? Alle %{userCount} Mitarbeiter werden ebenfalls dauerhaft gelscht.",k$e="Lizenzverwaltung",I$e="%{count} Lizenz(en) sind freigeworden. Was mchten Sie tun?",C$e="Wie viele Lizenzen mchten Sie von Ihrem Abonnement entfernen?",N$e="Alle behalten",P$e="Alle entfernen",R$e="Lizenz Behalten",M$e="Behalten Sie die Lizenz fr einen zuknftigen Mitarbeiter. An Ihrer Rechnung ndert sich nichts.",D$e="Lizenz Entfernen",j$e="Entfernen Sie die Lizenz aus Ihrem Abonnement. Dies wird bei Ihrer nchsten Rechnung verrechnet.",O$e="Lizenzen Behalten",L$e="%{count} Lizenz(en) entfernen",$$e="Benutzer lschen",V$e="Filiale lschen",U$e="inkl. MwSt.",z$e="exkl. MwSt.",B$e="Telefonnummer",F$e="z.B. 15123456789",q$e="Schritt %{step_number}: Branche",G$e="Fr welche Branche mchten Sie diesen spezifischen Pitch erstellen?",H$e="Mit Vorgesetztem Teilen",K$e="Wird geteilt...",W$e="Geteilt!",Y$e="Registrieren...",J$e="Verkaufsanalyse pro Filiale",X$e="Vergleichen Sie die monatliche Leistung all Ihrer Filialen.",Q$e="Durchschnittlicher Tagesverkauf pro Filiale (Dieser Monat)",Z$e="Filiale",e4e="Gesamtverkufe",t4e="Durchschn. Tag/Monat",n4e="Nach Filiale filtern",r4e="Alle Filialen",i4e="Organisationsweite Ankndigungen",s4e="Keine Teammitglieder gefunden, die Ihrer Suche entsprechen.",a4e="In Wissensdatenbank Teilen",o4e="Geben Sie dieser Analyse einen Titel fr die Wissensdatenbank.",l4e="Wettbewerbsanalyse",c4e="Markt",u4e="Analyse durchgefhrt am",d4e="Unser Angebot",f4e="Wettbewerberdetails",h4e="Wettbewerbsanalyse fr den",m4e="Markt",p4e="Fehler beim Speichern in der Wissensdatenbank.",g4e="In Wissensdatenbank Teilen",_4e="Geben Sie dieser Notiz einen Titel fr die Wissensdatenbank.",y4e="Wettbewerbsnotiz",v4e="Einblick ber Wettbewerber",b4e="Autor",x4e="Keine",w4e="Telekom-Details",S4e="Energie-Details",T4e="Datenschutzerklrung",E4e="Wie wir mit Ihren Daten umgehen",A4e="Bei SalExplosive nehmen wir Ihre Privatsphre ernst. Diese Richtlinie beschreibt, welche Daten wir sammeln, wie wir sie verwenden und wie wir sie schtzen.",k4e="1. Daten, die wir sammeln",I4e="Wir sammeln die folgenden Kategorien personenbezogener Daten:",C4e="<strong>Kontodaten:</strong> Name, E-Mail-Adresse, Telefonnummer, Berufsbezeichnung und Passwort (verschlsselt).",N4e="<strong>Firmendaten:</strong> Firmenname, Adresse, Handelsregisternummer, USt-IdNr., Branche und Anzahl der Mitarbeiter.",P4e="<strong>Nutzungsdaten:</strong> Informationen darber, wie Sie die App nutzen, wie z. B. generierte Pitches, gespeicherte Kunden und Verkaufsstatistiken.",R4e="<strong>Technische Daten:</strong> IP-Adresse, Browsertyp und Gertedaten zur Sicherheit und Optimierung.",M4e="2. Wie wir Ihre Daten verwenden",D4e="Ihre Daten werden fr folgende Zwecke verwendet:",j4e="Um unsere Dienstleistungen bereitzustellen, wie z. B. die Generierung von Pitches und die Verfolgung von Verkufen.",O4e="Um Ihre Erfahrung zu personalisieren, z. B. durch Anpassung von KI-Ratschlgen an Ihre Branche.",L4e="Um Sie ber Updates, Rechnungsstellung und Support zu informieren.",$4e="Um unsere App durch Analyse anonymisierter Nutzungsstatistiken zu verbessern.",V4e="3. Weitergabe von Daten",U4e="Wir verkaufen Ihre Daten niemals an Dritte. Wir teilen Daten nur mit:",z4e="Unseren Cloud- und Hosting-Anbietern (wie Google Cloud/Firebase) zur Datenspeicherung und -verarbeitung.",B4e="Unseren KI-Partnern (Google Gemini) zur Generierung von Inhalten. Hinweis: Senden Sie keine datenschutzsensiblen personenbezogenen Daten Ihrer Endkunden an die KI.",F4e="4. KI und Daten",q4e="Unsere Anwendung nutzt Knstliche Intelligenz. Die Daten, die Sie in den Pitch-Generator oder die bungsmodule eingeben, werden von KI-Modellen verarbeitet. Wir raten davon ab, Namen oder private Daten Ihrer Endkunden in diesen Prompts zu verwenden.",G4e="5. Sicherheit",H4e="Wir ergreifen angemessene technische und organisatorische Manahmen, um Ihre Daten vor Verlust oder unrechtmiger Verarbeitung zu schtzen. Dazu gehrt die Verschlsselung von Daten im Ruhezustand und whrend der bertragung.",K4e="6. Ihre Rechte",W4e="Sie haben das Recht auf Auskunft, Berichtigung und Lschung Ihrer personenbezogenen Daten. Kontaktieren Sie uns, wenn Sie diese Rechte ausben mchten.",Y4e="7. nderungen",J4e="Wir knnen diese Richtlinie von Zeit zu Zeit ndern. Die aktuellste Version ist immer in der App verfgbar.",X4e="8. Kontakt",Q4e="Bei Fragen zu dieser Datenschutzerklrung kontaktieren Sie uns bitte unter <a href='mailto:info@salexplosive.com'>info@salexplosive.com</a>.",Z4e="Allgemeine Geschftsbedingungen",eVe="Das Kleingedruckte, klar erklrt.",tVe="Willkommen bei SalExplosive. Durch die Nutzung unserer Dienste stimmen Sie den folgenden Bedingungen zu. Bitte lesen Sie diese sorgfltig durch.",nVe="1. Nutzung des Dienstes",rVe="Sie drfen unsere Dienste nur fr rechtmige Zwecke und in bereinstimmung mit diesen Bedingungen nutzen.",iVe="Es ist <strong>nicht gestattet</strong>, Ihre Kontodaten mit anderen zu teilen. Jedes Konto ist personenbezogen.",sVe="Wir behalten uns das Recht vor, Konten zu sperren, die die Plattform oder KI-Funktionen missbrauchen.",aVe="2. Zahlung und Abonnement",oVe="Unsere Dienste werden auf Abonnementbasis angeboten. Die Zahlung erfolgt monatlich im Voraus.",lVe="Sie zahlen pro aktiver Lizenz. Sie knnen Lizenzen jederzeit hinzufgen oder entfernen.",cVe="Bei Kndigung luft das Abonnement bis zum Ende des bereits bezahlten Zeitraums weiter. Es erfolgt <strong>keine Rckerstattung</strong> fr teilweise genutzte Monate.",uVe="Rechnungen werden per E-Mail versendet und sind im Admin-Portal zu finden.",dVe="3. Geistiges Eigentum",fVe="Alle Rechte an der Software, dem Design und dem Inhalt von SalExplosive liegen bei uns. Sie erhalten ein nicht-exklusives Nutzungsrecht fr die Dauer Ihres Abonnements.",hVe="4. Haftung",mVe="SalExplosive haftet nicht fr direkte oder indirekte Schden, die aus der Nutzung unserer Dienste entstehen, es sei denn, es liegt Vorsatz oder grobe Fahrlssigkeit unsererseits vor. Wir garantieren keine spezifischen Verkaufsergebnisse.",pVe="5. Beendigung",gVe="Sie knnen Ihr Abonnement monatlich kndigen. Wir knnen den Vertrag bei Verletzung dieser Bedingungen oder Nichtzahlung beenden.",_Ve="6. Anwendbares Recht",yVe="Auf diese Bedingungen findet niederlndisches Recht Anwendung. Streitigkeiten werden dem zustndigen Gericht in den Niederlanden vorgelegt.",vVe="7. Fragen?",bVe="Haben Sie Fragen zu den Bedingungen? Mailen Sie uns an <a href='mailto:info@salexplosive.com'>info@salexplosive.com</a>.",xVe=" %{year} SalExplosive. Alle Rechte vorbehalten.",wVe="Dienstleistungen & Tarife",SVe="ber Uns",TVe="Kontakt",EVe="Datenschutz",AVe="AGB",kVe={nav_dashboard:gke,nav_pitch_generator:_ke,nav_opgeslagen_pitches:yke,nav_pitch_oefenen:vke,nav_klanten:bke,nav_concurrentieanalyse:xke,nav_concurrentie_notities:wke,nav_doelen:Ske,nav_mijnpriveteam:Tke,nav_mijn_filiaal:Eke,nav_mijn_organisatie:Ake,nav_mijnfiliaalteam:kke,nav_team_kennisbank:Ike,nav_filiaal_kennisbank:Cke,nav_organisatie_news:Nke,nav_planning:Pke,nav_pakketbeheer:Rke,nav_facturatie:Mke,nav_verkoopanalyse:Dke,nav_profiel:jke,nav_instellingen:Oke,nav_logout:Lke,theme_toggle_dark:$ke,theme_toggle_light:Vke,register_sale:Uke,greeting_morning:zke,greeting_afternoon:Bke,greeting_evening:Fke,dashboard_welcome_sales:qke,dashboard_welcome_management:Gke,page_title_dashboard:Hke,page_title_pitch_generator:Kke,page_title_opgeslagen_pitches:Wke,page_title_pitch_oefenen:Yke,page_title_klanten:Jke,page_title_concurrentieanalyse:Xke,page_title_concurrentie_notities:Qke,page_title_doelen:Zke,page_title_instellingen:eIe,page_title_mijnpriveteam:tIe,page_title_mijn_filiaal:nIe,page_title_mijn_organisatie:rIe,page_title_mijnfiliaalteam:iIe,page_title_profiel:sIe,page_title_team_kennisbank:aIe,nav_branch_knowledge_base:oIe,page_title_organisatie_news:lIe,page_title_planning:cIe,page_title_pakketbeheer:uIe,page_title_facturatie:dIe,page_title_verkoopanalyse:fIe,ai_tip_of_the_day:hIe,sales_goals_value:mIe,today:pIe,this_week:gIe,your_agenda_today:_Ie,ai_summary_loading:yIe,no_appointments_today:vIe,kpi_team_sales_today:bIe,kpi_team_sales_week:xIe,kpi_team_sales_month:wIe,kpi_avg_daily_month:SIe,kpi_weekly_avg_daily:TIe,kpi_monthly_avg_daily:EIe,sales_streak:AIe,sales_streak_subtitle:kIe,my_badges:IIe,badges_empty_state:CIe,your_week_in_review:NIe,week_in_review_subtitle:PIe,generate_review:RIe,generating:MIe,review_empty_state:DIe,team_updates:jIe,team_updates_subtitle:OIe,team_updates_empty:LIe,new_post:$Ie,pitch_generator_title:VIe,pitch_generator_subtitle:UIe,your_profile:zIe,sales_channel:BIe,industry:FIe,company:qIe,step1_pitch_type:GIe,step_choose_pitch_type:HIe,pitch_type_normal:KIe,pitch_type_short:WIe,step2_sales_channel:YIe,step_choose_sales_channel:JIe,channel_info:XIe,channel_doortodoor:QIe,channel_telemarketing:ZIe,step_choose_pitching_for:eCe,pitching_for_company_label:tCe,select_company:nCe,step_details_title:rCe,style_personality_label:iCe,style_personality_placeholder:sCe,area_label:aCe,area_placeholder:oCe,generate_strategy:lCe,generating_strategy:cCe,your_strategy_and_pitch:uCe,strategy_placeholder_title:dCe,strategy_placeholder_subtitle:fCe,strat_buurtadvies:hCe,strat_toonadvies:mCe,strat_pitch:pCe,strat_bezwaren:gCe,ask_ai_coach:_Ce,save_strategy:yCe,saved:vCe,advice_chat_modal_initial_greeting:bCe,advice_chat_modal_title:xCe,advice_chat_modal_placeholder:wCe,clients_title:SCe,new_client:TCe,clients_empty_list_title:ECe,clients_empty_list_subtitle:ACe,edit:kCe,delete_confirm:ICe,notes:CCe,no_notes:NCe,generate_briefing:PCe,generating_briefing:RCe,generate_client_profile:MCe,generating_client_profile:DCe,analyze_notes:jCe,analyzing_notes:OCe,pre_call_briefing:LCe,ai_client_profile:$Ce,note_analysis:VCe,compose_follow_up_email:UCe,select_client_title:zCe,select_client_subtitle:BCe,modal_edit_client:FCe,modal_add_client:qCe,form_name:GCe,form_company:HCe,form_notes:KCe,cancel:WCe,save:YCe,compa_title:JCe,compa_subtitle:XCe,step_choose_market:QCe,compa_market_subtitle:ZCe,market_telecom:eNe,market_energy:tNe,step_select_competitors:nNe,compa_select_subtitle:rNe,step_your_offer:iNe,compa_offer_form_telecom_package_type:sNe,compa_offer_form_telecom_speed:aNe,compa_offer_form_telecom_price:oNe,compa_offer_form_telecom_discount:lNe,compa_offer_form_telecom_tv_details:cNe,compa_offer_form_telecom_usps:uNe,compa_offer_form_energy_duration:dNe,compa_offer_form_energy_rate_type:fNe,compa_offer_form_energy_power_normal:hNe,compa_offer_form_energy_power_low:mNe,compa_offer_form_energy_gas:pNe,compa_offer_form_energy_fixed_costs:gNe,compa_offer_form_energy_bonus:_Ne,compa_offer_form_energy_usps:yNe,compa_select_one_competitor:vNe,analyze_competitors:bNe,analyzing:xNe,strategic_summary:wNe,ai_analyzing_data:SNe,monthly_price_comparison:TNe,detailed_comparison:ENe,power_rate_normal_comparison:ANe,new_customers:kNe,existing_customers:INe,goals_title:CNe,new_sales_goal:NNe,sales_goal_amount_label:PNe,sales_goal_period_day:RNe,sales_goal_period_week:MNe,set_goal:DNe,active_sales_goals:jNe,daily_goal:ONe,weekly_goal:LNe,sales:$Ne,goals_empty_state:VNe,pitches_title:UNe,pitches_empty_list_title:zNe,pitches_empty_list_subtitle:BNe,saved_on:FNe,delete_confirm_pitch:qNe,ai_pitch_analysis:GNe,promote_to_kb:HNe,analyze_with_ai:KNe,analysis_structure:WNe,analysis_wording:YNe,analysis_value_prop:JNe,analysis_cta:XNe,select_pitch_title:QNe,select_pitch_subtitle:ZNe,promote_note_prompt:e2e,pitches_add_new:t2e,modal_add_pitch_title:n2e,pitch_name_label:r2e,add_pitch_button:i2e,modal_pitch_buurtadvies_label:s2e,modal_pitch_toonadvies_label:a2e,modal_pitch_pitch_label:o2e,modal_pitch_bezwaren_label:l2e,pitch_practice_title:c2e,pitch_practice_subtitle:u2e,step1_choose_pitch:d2e,pitches_empty_practice:f2e,go_to_pitch_generator:h2e,step2_choose_partner:m2e,choose_partner_subtitle:p2e,back_to_pitch_selection:g2e,practice_session:_2e,selected_pitch:y2e,waiting_to_start:v2e,mic_error:b2e,mic_error_connection:x2e,stop_session:w2e,start_session:S2e,start_new_session:T2e,session_complete:E2e,transcript:A2e,ai_feedback:k2e,generating_feedback:I2e,generate_feedback_prompt:C2e,generate_feedback:N2e,you:P2e,client_ai:R2e,settings_title:M2e,your_name:D2e,email_address:j2e,company_name:O2e,settings_info_salesperson:L2e,settings_info_manager:$2e,changes_saved:V2e,welcome_leader:U2e,welcome_team_leader:z2e,add_member:B2e,kpi_sales_today:F2e,kpi_sales_week:q2e,kpi_sales_month:G2e,team_members_and_roles:H2e,sales_this_month:K2e,change_role:W2e,change_role_confirm:Y2e,ai_team_performance_analysis:J2e,ai_team_analysis_subtitle:X2e,generate_analysis:Q2e,overall_team_title:Z2e,overall_team_subtitle:ePe,no_team_structure_found:tPe,total_value_this_month:nPe,team_members:rPe,this_month:iPe,my_team_title_salesperson:sPe,my_team_subtitle_salesperson:aPe,your_team_leader:oPe,your_leader:lPe,your_superiors:cPe,no_team_leader_found:uPe,no_leader_found:dPe,your_teammates:fPe,no_teammates:hPe,my_branch_title:mPe,my_branch_subtitle:pPe,buy_extra_licenses:gPe,kpi_total_value_month:_Pe,kpi_total_fte:yPe,kpi_weekly_avg_branch:vPe,kpi_monthly_avg_branch:bPe,sector_telecom:xPe,sector_energy:wPe,employees:SPe,sales_month:TPe,no_employees_in_sector:EPe,branch_members:APe,search_employee:kPe,buy_licenses_modal_title:IPe,buy_licenses_modal_amount:CPe,buy_licenses_modal_price_per:NPe,buy_licenses_modal_total:PPe,buy_licenses_modal_submit:RPe,sending_request:MPe,buy_licenses_modal_success_title:DPe,buy_licenses_modal_success_body:jPe,kb_title_owner:OPe,kb_title_manager:LPe,kb_title_team:$Pe,kb_subtitle_owner:VPe,kb_subtitle_manager:UPe,kb_subtitle_team:zPe,kb_from_org:BPe,posted_by:FPe,note_from:qPe,select_post_title:GPe,select_post_subtitle:HPe,kb_empty_title:KPe,kb_empty_subtitle:WPe,planning_title:YPe,planning_subtitle:JPe,ai_training_planner:XPe,training_focus:QPe,training_focus_placeholder:ZPe,reject:eRe,saved_plans:tRe,agenda:nRe,edit_appointment:rRe,new_appointment:iRe,appointment_title:sRe,date:aRe,time:oRe,notes_optional:lRe,delete:"Lschen",pkg_mgmt_title:cRe,pkg_mgmt_subtitle:uRe,new_package:dRe,pkg_empty_state:fRe,modal_edit_package:hRe,modal_new_package:mRe,package_name:pRe,contract_value:gRe,owner_dashboard_welcome:_Re,vs_last_month:yRe,kpi_top_branch:vRe,kpi_total_branches:bRe,kpi_total_employees:xRe,branch_performance_month:wRe,employees_short:SRe,sales_per_fte:TRe,quick_announcement:ERe,quick_announcement_title_placeholder:ARe,quick_announcement_body_placeholder:kRe,publish:IRe,publishing:CRe,quick_links:NRe,manage_organization:PRe,manage_packages:RRe,org_view_title:MRe,org_view_subtitle:DRe,add_new_branch:jRe,branches_overview:ORe,manager_label:LRe,employees_label:$Re,sales_month_label:VRe,manager_not_assigned:URe,branches_empty_title:zRe,branches_empty_subtitle:BRe,profile_title:FRe,upload_profile_picture:qRe,role:GRe,profile_saved:HRe,security:KRe,new_password:WRe,new_password_placeholder:YRe,confirm_password:JRe,confirm_password_placeholder:XRe,password_length_error:QRe,password_mismatch_error:ZRe,password_change_success:eMe,password_change_error_reauth:tMe,password_change_error_generic:nMe,changing_password:rMe,change_password:iMe,change_pw_welcome:sMe,change_pw_subtitle:aMe,confirm_new_password:oMe,set_password_and_continue:lMe,login_welcome_back:cMe,login_subtitle:uMe,password:dMe,forgot_password:fMe,login_error_credentials:hMe,login_error_generic:mMe,login_error_pending:pMe,password_reset_sent:gMe,password_reset_not_found:_Me,password_reset_error:yMe,logging_in:vMe,login:bMe,no_account_yet:xMe,register_company:wMe,register_title:SMe,register_subtitle:TMe,personal_details:EMe,full_name:AMe,job_title:kMe,email_login:IMe,company_details:CMe,active_industry:NMe,industry_telecom:PMe,industry_energy:RMe,industry_both:MMe,channel_both:DMe,num_employees_on_app:jMe,you_pay_for:OMe,total_cost_per_month:LMe,license_cost:$Me,street_housenr:VMe,postal_code:UMe,city:zMe,country:BMe,country_nl:FMe,country_en:qMe,country_de:GMe,company_website:HMe,company_phone:KMe,invoice_email:WMe,agreements_title:YMe,agree_terms:JMe,agree_privacy:XMe,agree_services:QMe,terms_link:ZMe,privacy_link:eDe,services_link:tDe,i_have_read_and_understand:nDe,register_and_start:rDe,register_error_all_fields:iDe,register_error_agreements:sDe,register_success_title:aDe,register_success_body:oDe,back_to_home:lDe,modal_add_member_title:cDe,name:uDe,email:dDe,temp_password:fDe,saving:hDe,modal_edit_post:mDe,modal_new_post:pDe,content_markdown:gDe,ai_inspiration:_De,inspiration_topic_placeholder:yDe,pin_post:vDe,propose_regenerate_button:bDe,email_assistant_title:xDe,step1_email_goal:wDe,goal_confirm_appointment:SDe,goal_send_quote:TDe,goal_thank_for_meeting:EDe,step2_generate_email:ADe,generating_email:kDe,step3_result:IDe,copy_to_clipboard:CDe,copied:NDe,log_sale_title:PDe,select_package_sold:RDe,no_packages_defined:MDe,register:DDe,close:jDe,team_pulse_widget_title:ODe,top_performer:LDe,no_sales_today:$De,coaching_opportunities:VDe,everyone_sold_today:UDe,modal_edit_branch_title:zDe,assign_manager:BDe,new_manager_help_text:FDe,error_branch_name_required:qDe,current_manager_label:GDe,mi_title:HDe,mi_subtitle:KDe,share_insight:WDe,search_in_notes:YDe,all_categories:JDe,no_insights_found_title:XDe,no_insights_found_subtitle:QDe,modal_add_mi_title:ZDe,category:eje,content_observation:tje,error_category_content_required:nje,share:rje,error_all_fields_required:ije,modal_create_branch_title:sje,new_branch_name:aje,manager_details:oje,manager_full_name:lje,manager_email:cje,manager_temp_password:uje,creating:dje,create:fje,error_title_content_required:hje,title_subject:mje,content_message:pje,nav_organisation:gje,compa_notes_title:_je,compa_notes_subtitle:yje,new_note:vje,no_notes_yet:bje,note_by:xje,modal_edit_note:wje,modal_new_note:Sje,competitor:Tje,select_competitor:Eje,select_industry:Aje,package_type:kje,select_package:Ije,package_internet_only:Cje,package_tv_only:Nje,package_phone_only:Pje,package_internet_tv:Rje,package_internet_phone:Mje,package_all_in_1:Dje,monthly_price_eur:jje,internet_speed_mbps:Oje,tv_details:Lje,tv_details_placeholder:$je,phone_details:Vje,phone_details_placeholder:Uje,contract_duration:zje,select_duration:Bje,duration_1_year:Fje,duration_3_year:qje,rate_type:Gje,select_rate_type:Hje,rate_type_single:Kje,rate_type_double:Wje,power_rate_peak:Yje,power_rate_offpeak:Jje,power_rate:Xje,gas_rate:Qje,usps:Zje,general_notes:eOe,delete_note_confirm:tOe,error_select_competitor:nOe,kvk_number_nl:rOe,kvk_number_gb:iOe,kvk_number_de:sOe,btw_number_nl:aOe,btw_number_gb:oOe,btw_number_de:lOe,error_kvk_format_nl:cOe,error_kvk_format_gb:uOe,error_kvk_format_de:dOe,error_btw_format_nl:fOe,error_btw_format_gb:hOe,error_btw_format_de:mOe,error_fullname:pOe,error_email_format:gOe,public_nav_rates:_Oe,public_nav_about:yOe,public_nav_contact:vOe,public_nav_login:bOe,public_nav_register:xOe,landing_hero_title:wOe,landing_hero_subtitle:SOe,landing_hero_cta:TOe,landing_hero_trial:EOe,landing_features_supertitle:AOe,landing_features_title:kOe,landing_features_subtitle:IOe,feature_pitch_generator_name:COe,feature_pitch_generator_desc:NOe,feature_crm_name:POe,feature_crm_desc:ROe,feature_compa_name:MOe,feature_compa_desc:DOe,feature_gamification_name:jOe,feature_gamification_desc:OOe,feature_management_name:LOe,feature_management_desc:$Oe,feature_ai_name:VOe,feature_ai_desc:UOe,landing_cta_title:zOe,landing_cta_subtitle:BOe,landing_cta_button:FOe,rates_title:qOe,rates_subtitle:GOe,rates_trial_title:HOe,rates_trial_body:KOe,rates_trial_cta:WOe,rates_after_trial_title:YOe,rates_price_display:JOe,rates_price_user_month:XOe,rates_all_in_one_title:QOe,feature_included_1:ZOe,feature_included_2:eLe,feature_included_3:tLe,feature_included_4:nLe,feature_included_5:rLe,feature_included_6:iLe,feature_included_7:sLe,feature_included_8:aLe,about_title:oLe,about_subtitle:lLe,about_h2_story:cLe,about_p1:uLe,about_p2:dLe,about_p3:fLe,about_h2_mission:hLe,about_p4:mLe,about_p5:pLe,contact_title:gLe,contact_subtitle:_Le,contact_details_title:yLe,contact_email_label:vLe,contact_phone_label:bLe,contact_phone_value:xLe,contact_address_label:wLe,contact_address_value:SLe,contact_kvk_label:TLe,contact_form_submitted_title:ELe,contact_form_submitted_body:ALe,contact_form_name_label:kLe,contact_form_email_label:ILe,contact_form_phone_label:CLe,contact_form_subject_label:NLe,contact_form_message_label:PLe,contact_form_submit_button:RLe,contact_form_sending_button:MLe,persona_sceptical_manager_name:DLe,persona_sceptical_manager_desc:jLe,persona_friendly_consumer_name:OLe,persona_friendly_consumer_desc:LLe,persona_technical_expert_name:$Le,persona_technical_expert_desc:VLe,feedback_error:ULe,feedback_prompt_title_opening:zLe,feedback_prompt_desc_opening:BLe,feedback_prompt_title_questioning:FLe,feedback_prompt_desc_questioning:qLe,feedback_prompt_title_objections:GLe,feedback_prompt_desc_objections:HLe,feedback_prompt_title_tone:KLe,feedback_prompt_desc_tone:WLe,feedback_prompt_title_closing:YLe,feedback_prompt_desc_closing:JLe,choose_feedback_type:XLe,fast_scan:QLe,fast_scan_desc:ZLe,deep_analysis:e$e,deep_analysis_desc:t$e,help_assistant_title:n$e,ask_your_question:r$e,quick_reply_log_sale:i$e,quick_reply_add_member:s$e,quick_reply_generate_pitch:a$e,quick_reply_manage_clients:o$e,billing_title:l$e,billing_subtitle:c$e,subscription_overview:u$e,used_licenses:d$e,licenses_of_total:f$e,price_per_license:h$e,total_monthly_cost:m$e,invoice_history:p$e,invoice_number:g$e,invoice_date:_$e,invoice_amount:y$e,invoice_status:v$e,invoice_action:b$e,status_paid:x$e,status_due:w$e,download_invoice:S$e,no_invoices_found:T$e,delete_user_confirm:E$e,delete_branch_confirm:A$e,license_management_title:k$e,license_management_body:I$e,license_management_how_many_remove:C$e,keep_all:N$e,remove_all:P$e,license_management_option_keep:R$e,license_management_option_keep_desc:M$e,license_management_option_remove:D$e,license_management_option_remove_desc:j$e,license_management_action_keep:O$e,license_management_action_confirm_removal:L$e,delete_user:$$e,delete_branch:V$e,vat_inclusive:U$e,vat_exclusive:z$e,phone_number:B$e,phone_number_placeholder:F$e,step_choose_industry:q$e,industry_info:G$e,share_with_manager:H$e,sharing:K$e,shared:W$e,registering:Y$e,sales_analytics_title:J$e,sales_analytics_subtitle:X$e,monthly_avg_sales_per_branch:Q$e,branch:Z$e,total_sales:e4e,avg_daily_sales:t4e,filter_by_branch:n4e,all_branches:r4e,org_wide_announcements:i4e,no_team_members_found:s4e,share_to_kb:a4e,kb_analysis_title_prompt:o4e,kb_analysis_title:l4e,market:c4e,analysis_date:u4e,our_offer_title:d4e,competitor_details_title:f4e,kb_analysis_note_prefix:h4e,kb_analysis_note_suffix:m4e,kb_save_error:p4e,share_note_to_kb:g4e,kb_note_title_prompt:_4e,kb_note_title:y4e,kb_note_note_prefix:v4e,author:b4e,none:x4e,telecom_details:w4e,energy_details:S4e,privacy_title:T4e,privacy_subtitle:E4e,privacy_intro:A4e,privacy_h2_data_collected:k4e,privacy_p_data_collected:I4e,privacy_li_account_data:C4e,privacy_li_company_data:N4e,privacy_li_usage_data:P4e,privacy_li_technical_data:R4e,privacy_h2_data_usage:M4e,privacy_p_data_usage:D4e,privacy_li_provide_service:j4e,privacy_li_personalization:O4e,privacy_li_communication:L4e,privacy_li_analysis:$4e,privacy_h2_sharing:V4e,privacy_p_sharing:U4e,privacy_li_cloud_providers:z4e,privacy_li_ai_providers:B4e,privacy_h2_ai:F4e,privacy_p_ai:q4e,privacy_h2_security:G4e,privacy_p_security:H4e,privacy_h2_rights:K4e,privacy_p_rights:W4e,privacy_h2_changes:Y4e,privacy_p_changes:J4e,privacy_h2_contact:X4e,privacy_p_contact:Q4e,terms_title:Z4e,terms_subtitle:eVe,terms_intro:tVe,terms_h2_usage:nVe,terms_p_usage_1:rVe,terms_p_usage_2:iVe,terms_p_usage_3:sVe,terms_h2_payment:aVe,terms_p_payment_1:oVe,terms_p_payment_2:lVe,terms_p_payment_3:cVe,terms_p_payment_4:uVe,terms_h2_ip:dVe,terms_p_ip:fVe,terms_h2_liability:hVe,terms_p_liability:mVe,terms_h2_termination:pVe,terms_p_termination:gVe,terms_h2_law:_Ve,terms_p_law:yVe,terms_h2_contact:vVe,terms_p_contact:bVe,footer_copyright:xVe,footer_services:wVe,footer_about:SVe,footer_contact:TVe,footer_privacy:EVe,footer_terms:AVe},IVe="cached_translations_v6",uD={nl:Dy,en:pke,de:kVe},I5=k.createContext(void 0),CVe=({children:t})=>{const[e,n]=bk(`app_language_${IVe}`,"nl"),[r,i]=k.useState(uD[e]||Dy);k.useEffect(()=>{const a=uD[e];i(a||Dy)},[e]);const s=k.useCallback((a,l)=>{let u=r[a]||Dy[a]||a;return l&&Object.entries(l).forEach(([d,h])=>{u=u.replace(`%{${d}}`,String(h))}),u},[r]);return f.jsx(I5.Provider,{value:{t:s,language:e,setLanguage:n,translations:r},children:t})},Xe=()=>{const t=k.useContext(I5);if(t===void 0)throw new Error("useTranslation must be used within a TranslationProvider");return t},NVe=({isOpen:t,onClose:e,onLogSale:n})=>{const{user:r,productPackages:i}=bt(),{t:s}=Xe(),[a,l]=k.useState(null),[u,d]=k.useState(!1),h=k.useMemo(()=>r?r.industry==="beide"?i:i.filter(_=>_.industry===r.industry):[],[r,i]),p=async _=>{if(_.preventDefault(),!!a){d(!0);try{await n(a),l(null),e()}catch(v){console.error("Failed to log sale:",v)}finally{d(!1)}}};return t?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:e,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md m-4",onClick:_=>_.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:s("log_sale_title")}),h.length>0?f.jsxs("form",{onSubmit:p,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-brand-text-secondary mb-2",children:s("select_package_sold")}),f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto bg-brand-secondary p-2 rounded-lg",children:h.map(_=>f.jsx("div",{onClick:()=>l(_),className:`p-3 rounded-md cursor-pointer border-2 ${(a==null?void 0:a.id)===_.id?"bg-brand-primary/10 border-brand-primary":"border-transparent hover:bg-brand-border"}`,children:f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-semibold",children:_.name}),f.jsxs("span",{className:"font-bold text-brand-primary",children:[_.value," pnt."]})]})},_.id))})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border",children:s("cancel")}),f.jsx("button",{type:"submit",disabled:!a||u,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50",children:s(u?"registering":"register")})]})]}):f.jsxs("div",{children:[f.jsx("p",{className:"text-brand-text-secondary text-center",children:s("no_packages_defined")}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx("button",{type:"button",onClick:e,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border",children:s("close")})})]})]})}):null};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PVe,RVe;function MVe(){return{geminiUrl:PVe,vertexUrl:RVe}}function DVe(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const a=MVe();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do{}function Le(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const h=u[d];b(h,e.slice(s+1),n[d])}else for(const d of u)b(d,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];b(u[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(l=>y(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function jVe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),a=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&s.length>l)for(let u=l;u<s.length;u++){const d=s[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&a.add(d)}UE(t,i,s,0,a)}}function UE(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),l=t;if(a in l&&Array.isArray(l[a]))for(const u of l[a])UE(u,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,l=Object.keys(a).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of l)u[d]=a[d];for(const[d,h]of Object.entries(u)){const p=[];for(const _ of n.slice(r))_==="*"?p.push(d):p.push(_);b(a,p,h)}for(const d of l)delete a[d]}}else{const a=t;s in a&&UE(a[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xk(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OVe(t){const e={},n=y(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function LVe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response","generateVideoResponse"]);return a!=null&&b(e,["response"],VVe(a)),e}function $Ve(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response"]);return a!=null&&b(e,["response"],UVe(a)),e}function VVe(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zVe(a))),b(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function UVe(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>BVe(a))),b(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function zVe(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],WVe(n)),e}function BVe(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],YVe(n)),e}function FVe(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function qVe(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function GVe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response"]);return a!=null&&b(e,["response"],HVe(a)),e}function HVe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function C5(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response"]);return a!=null&&b(e,["response"],KVe(a)),e}function KVe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function WVe(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],xk(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function YVe(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],xk(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dD;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dD||(dD={}));var fD;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fD||(fD={}));var hD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(hD||(hD={}));var $l;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($l||($l={}));var mD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mD||(mD={}));var pD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pD||(pD={}));var gD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(gD||(gD={}));var _D;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_D||(_D={}));var yD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(yD||(yD={}));var vD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(vD||(vD={}));var bD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bD||(bD={}));var xD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xD||(xD={}));var wD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(wD||(wD={}));var SD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(SD||(SD={}));var TD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TD||(TD={}));var ED;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ED||(ED={}));var AD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(AD||(AD={}));var kD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(kD||(kD={}));var ID;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ID||(ID={}));var vf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vf||(vf={}));var CD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(CD||(CD={}));var ND;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ND||(ND={}));var PD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(PD||(PD={}));var zE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zE||(zE={}));var RD;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RD||(RD={}));var MD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(MD||(MD={}));var DD;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(DD||(DD={}));var jD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jD||(jD={}));var OD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(OD||(OD={}));var LD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(LD||(LD={}));var $D;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($D||($D={}));var VD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(VD||(VD={}));var UD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(UD||(UD={}));var zD;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(zD||(zD={}));var BD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(BD||(BD={}));var FD;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(FD||(FD={}));var qD;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qD||(qD={}));var GD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(GD||(GD={}));var HD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(HD||(HD={}));var KD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(KD||(KD={}));var WD;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(WD||(WD={}));var YD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(YD||(YD={}));var JD;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(JD||(JD={}));var XD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(XD||(XD={}));var QD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(QD||(QD={}));var ZD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ZD||(ZD={}));var ej;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ej||(ej={}));var tj;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(tj||(tj={}));var nj;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nj||(nj={}));var rj;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rj||(rj={}));var ij;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ij||(ij={}));var sj;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sj||(sj={}));var aj;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(aj||(aj={}));var oj;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(oj||(oj={}));var $d;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($d||($d={}));class BE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class am{get text(){var e,n,r,i,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const _ of(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[v,S]of Object.entries(_))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(v);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,d+=_.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[_,v]of Object.entries(p))_!=="inlineData"&&(v!==null||v!==void 0)&&h.push(_);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,s,a,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,a,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(l=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class lj{}class cj{}class JVe{}class XVe{}class QVe{}class ZVe{}class uj{}class dj{}class fj{}class eUe{}class vv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vv;let i;const s=e;return n?i=$Ve(s):i=LVe(s),Object.assign(r,i),r}}class hj{}class mj{}class pj{}class tUe{}class nUe{}class rUe{}class wk{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new wk,s=GVe(e);return Object.assign(r,s),r}}class iUe{}class sUe{}class aUe{}class gj{}class oUe{get text(){var e,n,r;let i="",s=!1;const a=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&a.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="inlineData"&&u!==null&&s.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lUe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sk{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Sk,s=C5(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function N5(t,e){const n=Lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function P5(t){return Array.isArray(t)?t.map(e=>bv(e)):[bv(t)]}function bv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function R5(t){const e=bv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function M5(t){const e=bv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _j(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function D5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_j(e)):[_j(t)]}function FE(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function yj(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vj(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Hr(t){if(t==null)throw new Error("ContentUnion is required");return FE(t)?t:{role:"user",parts:D5(t)}}function Tk(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Hr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Hr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Hr(n)):[Hr(e)]}function Ss(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(yj(t)||vj(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Hr(t)]}const e=[],n=[],r=FE(t[0]);for(const i of t){const s=FE(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(yj(i)||vj(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:D5(n)}),e}function cUe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values($l).includes(n[0].toUpperCase())?n[0].toUpperCase():$l.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values($l).includes(r.toUpperCase())?r.toUpperCase():$l.TYPE_UNSPECIFIED})}}function Hd(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&cUe(t.type,e);for(const[a,l]of Object.entries(t))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values($l).includes(l.toUpperCase())?l.toUpperCase():$l.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Hd(l);else if(r.includes(a)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(Hd(d))}e[a]=u}else if(i.includes(a)){const u={};for(const[d,h]of Object.entries(l))u[d]=Hd(h);e[a]=u}else{if(a==="additionalProperties")continue;e[a]=l}return e}function Ek(t){return Hd(t)}function Ak(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function kk(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $f(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Hd(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Hd(e.response));return t}function Vf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function uUe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function jo(t,e){if(typeof e!="string")throw new Error("name must be a string");return uUe(t,e,"cachedContents")}function j5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sc(t){return xk(t)}function dUe(t){return t!=null&&typeof t=="object"&&"name"in t}function fUe(t){return t!=null&&typeof t=="object"&&"video"in t}function hUe(t){return t!=null&&typeof t=="object"&&"uri"in t}function O5(t){var e;let n;if(dUe(t)&&(n=t.name),!(hUe(t)&&(n=t.uri,n===void 0))&&!(fUe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function L5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function $5(t){for(const e of["models","tunedModels","publisherModels"])if(mUe(t,e))return t[e];return[]}function mUe(t,e){return t!==null&&typeof t=="object"&&e in t}function pUe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function gUe(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=pUe(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function V5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function _Ue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function U5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const u=a.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Uf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function z5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yUe(t){const e={},n=y(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>QUe(a))),b(e,["inlinedResponses"],s)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["inlinedEmbedContentResponses"],s)}return e}function vUe(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function bUe(t){const e={},n=y(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function jy(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&b(e,["state"],z5(i));const s=y(t,["metadata","createTime"]);s!=null&&b(e,["createTime"],s);const a=y(t,["metadata","endTime"]);a!=null&&b(e,["endTime"],a);const l=y(t,["metadata","updateTime"]);l!=null&&b(e,["updateTime"],l);const u=y(t,["metadata","model"]);u!=null&&b(e,["model"],u);const d=y(t,["metadata","output"]);return d!=null&&b(e,["dest"],yUe(U5(d))),e}function qE(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["state"]);i!=null&&b(e,["state"],z5(i));const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["createTime"]);a!=null&&b(e,["createTime"],a);const l=y(t,["startTime"]);l!=null&&b(e,["startTime"],l);const u=y(t,["endTime"]);u!=null&&b(e,["endTime"],u);const d=y(t,["updateTime"]);d!=null&&b(e,["updateTime"],d);const h=y(t,["model"]);h!=null&&b(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&b(e,["src"],xUe(p));const _=y(t,["outputConfig"]);_!=null&&b(e,["dest"],vUe(U5(_)));const v=y(t,["completionStats"]);return v!=null&&b(e,["completionStats"],v),e}function xUe(t){const e={},n=y(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function wUe(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>XUe(t,a))),b(n,["requests","requests"],s)}return n}function SUe(t){const e={},n=y(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function TUe(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function EUe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Uf(t,r)),n}function AUe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Uf(t,r)),n}function kUe(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],IUe(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&b(e,["finishReason"],s);const a=y(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=y(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=y(t,["index"]);u!=null&&b(e,["index"],u);const d=y(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const h=y(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(v=>v)),b(e,["safetyRatings"],_)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function IUe(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function B5(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>sze(s))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function CUe(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function NUe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],bUe(_Ue(i))),n}function bj(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],wUe(t,V5(t,i)));const s=y(e,["config"]);return s!=null&&CUe(s,n),n}function PUe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],Lt(t,r));const i=y(e,["src"]);i!=null&&b(n,["inputConfig"],SUe(V5(t,i)));const s=y(e,["config"]);return s!=null&&NUe(s,n),n}function RUe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function MUe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],UUe(t,i));const s=y(e,["config"]);return s!=null&&RUe(s,n),n}function DUe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Uf(t,r)),n}function jUe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Uf(t,r)),n}function OUe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);return s!=null&&b(e,["error"],s),e}function LUe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);return s!=null&&b(e,["error"],s),e}function $Ue(t,e){const n={},r=y(e,["contents"]);if(r!=null){let s=Tk(t,r);Array.isArray(s)&&(s=s.map(a=>a)),b(n,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(b(n,["_self"],VUe(i,n)),jVe(n,{"requests[].*":"requests[].request.*"})),n}function VUe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function UUe(t,e){const n={},r=y(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],$Ue(t,i)),n}function zUe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function BUe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FUe(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qUe(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],B5(Hr(i)));const s=y(e,["temperature"]);s!=null&&b(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&b(r,["topP"],a);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const u=y(e,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const _=y(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const E=y(e,["seed"]);E!=null&&b(r,["seed"],E);const A=y(e,["responseMimeType"]);A!=null&&b(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&b(r,["responseSchema"],Ek(I));const j=y(e,["responseJsonSchema"]);if(j!=null&&b(r,["responseJsonSchema"],j),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let U=M;Array.isArray(U)&&(U=U.map(q=>aze(q))),b(n,["safetySettings"],U)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let U=Vf(B);Array.isArray(U)&&(U=U.map(q=>lze($f(q)))),b(n,["tools"],U)}const V=y(e,["toolConfig"]);if(n!==void 0&&V!=null&&b(n,["toolConfig"],oze(V)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=y(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],jo(t,N));const P=y(e,["responseModalities"]);P!=null&&b(r,["responseModalities"],P);const O=y(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const D=y(e,["speechConfig"]);if(D!=null&&b(r,["speechConfig"],Ak(D)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=y(e,["thinkingConfig"]);z!=null&&b(r,["thinkingConfig"],z);const $=y(e,["imageConfig"]);return $!=null&&b(r,["imageConfig"],JUe($)),r}function GUe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>kUe(d))),b(e,["candidates"],u)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=y(t,["responseId"]);a!=null&&b(e,["responseId"],a);const l=y(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function HUe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Uf(t,r)),n}function KUe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Uf(t,r)),n}function WUe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function YUe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function JUe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function XUe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["request","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let l=Ss(i);Array.isArray(l)&&(l=l.map(u=>B5(u))),b(n,["request","contents"],l)}const s=y(e,["metadata"]);s!=null&&b(n,["metadata"],s);const a=y(e,["config"]);return a!=null&&b(n,["request","generationConfig"],qUe(t,a,y(n,["request"],{}))),n}function QUe(t){const e={},n=y(t,["response"]);n!=null&&b(e,["response"],GUe(n));const r=y(t,["error"]);return r!=null&&b(e,["error"],r),e}function ZUe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function eze(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const s=y(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),n}function tze(t){const e={},n=y(t,["config"]);return n!=null&&ZUe(n,e),e}function nze(t){const e={},n=y(t,["config"]);return n!=null&&eze(n,e),e}function rze(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>jy(a))),b(e,["batchJobs"],s)}return e}function ize(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>qE(a))),b(e,["batchJobs"],s)}return e}function sze(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(t,["fileData"]);s!=null&&b(e,["fileData"],zUe(s));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],BUe(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const u=y(t,["inlineData"]);u!=null&&b(e,["inlineData"],TUe(u));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const _=y(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function aze(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function oze(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],FUe(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function lze(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],WUe(l));const u=y(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],YUe(u));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(xo||(xo={}));class Iu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cze extends Do{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Iu(xo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=bj(this.apiClient,e),r=n._url,i=Le("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,d=[];for(const h of u){const p=Object.assign({},h);if(p.systemInstruction){const _=p.systemInstruction;delete p.systemInstruction;const v=p.request;v.systemInstruction=_,p.request=v}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=PUe(this.apiClient,e);return l=Le("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>qE(h))}else{const d=bj(this.apiClient,e);return l=Le("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>jy(h))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=MUe(this.apiClient,e);return s=Le("{model}:asyncBatchEmbedContent",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>jy(u))}}async get(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=KUe(this.apiClient,e);return l=Le("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>qE(h))}else{const d=HUe(this.apiClient,e);return l=Le("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>jy(h))}}async cancel(e){var n,r,i,s;let a="",l={};if(this.apiClient.isVertexAI()){const u=AUe(this.apiClient,e);a=Le("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=EUe(this.apiClient,e);a=Le("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=nze(e);return l=Le("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=ize(h),_=new gj;return Object.assign(_,p),_})}else{const d=tze(e);return l=Le("batches",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=rze(h),_=new gj;return Object.assign(_,p),_})}}async delete(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=jUe(this.apiClient,e);return l=Le("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>LUe(h))}else{const d=DUe(this.apiClient,e);return l=Le("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>OUe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uze(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function xj(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Mze(s))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function dze(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let h=Ss(a);Array.isArray(h)&&(h=h.map(p=>xj(p))),b(e,["contents"],h)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],xj(Hr(l)));const u=y(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>jze(p))),b(e,["tools"],h)}const d=y(t,["toolConfig"]);if(e!==void 0&&d!=null&&b(e,["toolConfig"],Dze(d)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function fze(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const a=y(t,["contents"]);if(e!==void 0&&a!=null){let p=Ss(a);Array.isArray(p)&&(p=p.map(_=>_)),b(e,["contents"],p)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],Hr(l));const u=y(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(_=>Oze(_))),b(e,["tools"],p)}const d=y(t,["toolConfig"]);e!==void 0&&d!=null&&b(e,["toolConfig"],d);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function hze(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],N5(t,r));const i=y(e,["config"]);return i!=null&&dze(i,n),n}function mze(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],N5(t,r));const i=y(e,["config"]);return i!=null&&fze(i,n),n}function pze(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],jo(t,r)),n}function gze(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],jo(t,r)),n}function _ze(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function yze(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function vze(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function bze(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xze(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wze(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=y(t,["response"]);a!=null&&b(e,["response"],a);const l=y(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function Sze(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],jo(t,r)),n}function Tze(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],jo(t,r)),n}function Eze(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Aze(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function kze(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Ize(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Cze(t){const e={},n=y(t,["config"]);return n!=null&&kze(n,e),e}function Nze(t){const e={},n=y(t,["config"]);return n!=null&&Ize(n,e),e}function Pze(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["cachedContents"],s)}return e}function Rze(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["cachedContents"],s)}return e}function Mze(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(t,["fileData"]);s!=null&&b(e,["fileData"],vze(s));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],bze(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const u=y(t,["inlineData"]);u!=null&&b(e,["inlineData"],uze(u));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const _=y(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function Dze(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],xze(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function jze(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],Eze(l));const u=y(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],Aze(u));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function Oze(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(_=>wze(_))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=y(t,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const l=y(t,["enterpriseWebSearch"]);l!=null&&b(e,["enterpriseWebSearch"],l);const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Lze(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function $ze(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function Vze(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],jo(t,r));const i=y(e,["config"]);return i!=null&&Lze(i,n),n}function Uze(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],jo(t,r));const i=y(e,["config"]);return i!=null&&$ze(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zze extends Do{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(xo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=mze(this.apiClient,e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const d=hze(this.apiClient,e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Tze(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const d=Sze(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=gze(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=yze(h),_=new mj;return Object.assign(_,p),_})}else{const d=pze(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=_ze(h),_=new mj;return Object.assign(_,p),_})}}async update(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Uze(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const d=Vze(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Nze(e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=Rze(h),_=new pj;return Object.assign(_,p),_})}else{const d=Cze(e);return l=Le("cachedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=Pze(h),_=new pj;return Object.assign(_,p),_})}}}function wj(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(t){return this instanceof gn?(this.v=t,this):new gn(t)}function Kd(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(S){return Promise.resolve(S).then(v,p)}}function l(v,S){r[v]&&(i[v]=function(E){return new Promise(function(A,I){s.push([v,E,A,I])>1||u(v,E)})},S&&(i[v]=S(i[v])))}function u(v,S){try{d(r[v](S))}catch(E){_(s[0][3],E)}}function d(v){v.value instanceof gn?Promise.resolve(v.value.v).then(h,p):_(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function _(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Bm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wj=="function"?wj(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(l,u){a=t[s](a),i(l,u,a.done,a.value)})}}function i(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bze(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:F5(n)}function F5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Fze(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Sj(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!F5(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class qze{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Gze(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Gze{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Fze(s)}async sendMessage(e){var n;await this.sendPromise;const r=Hr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,l;const u=await i,d=(a=(s=u.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,h=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let _=[];h!=null&&(_=(l=h.slice(p))!==null&&l!==void 0?l:[]);const v=d?[d]:[];this.recordHistory(r,v,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Hr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?Sj(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Kd(this,arguments,function*(){var a,l,u,d;const h=[];try{for(var p=!0,_=Bm(e),v;v=yield gn(_.next()),a=v.done,!a;p=!0){d=v.value,p=!1;const S=d;if(Bze(S)){const E=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;E!==void 0&&h.push(E)}yield yield gn(S)}}catch(S){l={error:S}}finally{try{!p&&!a&&(u=_.return)&&(yield gn(u.call(_)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Sj(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Fb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hze(t){const e={},n=y(t,["file"]);return n!=null&&b(e,["file"],n),e}function Kze(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Wze(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],O5(n)),e}function Yze(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Jze(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],O5(n)),e}function Xze(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Qze(t){const e={},n=y(t,["config"]);return n!=null&&Xze(n,e),e}function Zze(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e3e extends Do{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(xo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Qze(e);return s=Le("files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=Zze(u),h=new iUe;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Hze(e);return s=Le("upload/v1beta/files",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Kze(u),h=new sUe;return Object.assign(h,d),h})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jze(e);return s=Le("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wze(e);return s=Le("files/{file}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=Yze(u),h=new aUe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function t3e(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>_3e(s))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function n3e(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function r3e(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function i3e(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=y(t,["response"]);a!=null&&b(e,["response"],a);const l=y(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function s3e(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=y(t,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const a=y(t,["enableAffectiveDialog"]);a!=null&&b(e,["enableAffectiveDialog"],a);const l=y(t,["frequencyPenalty"]);l!=null&&b(e,["frequencyPenalty"],l);const u=y(t,["logprobs"]);u!=null&&b(e,["logprobs"],u);const d=y(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const _=y(t,["responseLogprobs"]);_!=null&&b(e,["responseLogprobs"],_);const v=y(t,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const S=y(t,["responseModalities"]);S!=null&&b(e,["responseModalities"],S);const E=y(t,["responseSchema"]);E!=null&&b(e,["responseSchema"],E);const A=y(t,["routingConfig"]);A!=null&&b(e,["routingConfig"],A);const I=y(t,["seed"]);I!=null&&b(e,["seed"],I);const j=y(t,["speechConfig"]);j!=null&&b(e,["speechConfig"],q5(j));const M=y(t,["stopSequences"]);M!=null&&b(e,["stopSequences"],M);const B=y(t,["temperature"]);B!=null&&b(e,["temperature"],B);const V=y(t,["thinkingConfig"]);V!=null&&b(e,["thinkingConfig"],V);const N=y(t,["topK"]);N!=null&&b(e,["topK"],N);const P=y(t,["topP"]);if(P!=null&&b(e,["topP"],P),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function a3e(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function o3e(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function l3e(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const a=y(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const u=y(t,["maxOutputTokens"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","maxOutputTokens"],u);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],kk(p));const _=y(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],t3e(Hr(S)));const E=y(t,["tools"]);if(e!==void 0&&E!=null){let N=Vf(E);Array.isArray(N)&&(N=N.map(P=>v3e($f(P)))),b(e,["setup","tools"],N)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&b(e,["setup","sessionResumption"],y3e(A));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","inputAudioTranscription"],I);const j=y(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&b(e,["setup","outputAudioTranscription"],j);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&b(e,["setup","contextWindowCompression"],B);const V=y(t,["proactivity"]);return e!==void 0&&V!=null&&b(e,["setup","proactivity"],V),n}function c3e(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],s3e(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const a=y(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const u=y(t,["maxOutputTokens"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","maxOutputTokens"],u);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],q5(kk(p)));const _=y(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],Hr(S));const E=y(t,["tools"]);if(e!==void 0&&E!=null){let N=Vf(E);Array.isArray(N)&&(N=N.map(P=>b3e($f(P)))),b(e,["setup","tools"],N)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&b(e,["setup","sessionResumption"],A);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","inputAudioTranscription"],I);const j=y(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&b(e,["setup","outputAudioTranscription"],j);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&b(e,["setup","contextWindowCompression"],B);const V=y(t,["proactivity"]);return e!==void 0&&V!=null&&b(e,["setup","proactivity"],V),n}function u3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],Lt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],l3e(i,n)),n}function d3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],Lt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],c3e(i,n)),n}function f3e(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function h3e(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function m3e(t){const e={},n=y(t,["media"]);if(n!=null){let d=P5(n);Array.isArray(d)&&(d=d.map(h=>Oy(h))),b(e,["mediaChunks"],d)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],Oy(M5(r)));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&b(e,["video"],Oy(R5(s)));const a=y(t,["text"]);a!=null&&b(e,["text"],a);const l=y(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const u=y(t,["activityEnd"]);return u!=null&&b(e,["activityEnd"],u),e}function p3e(t){const e={},n=y(t,["media"]);if(n!=null){let d=P5(n);Array.isArray(d)&&(d=d.map(h=>h)),b(e,["mediaChunks"],d)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],M5(r));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&b(e,["video"],R5(s));const a=y(t,["text"]);a!=null&&b(e,["text"],a);const l=y(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const u=y(t,["activityEnd"]);return u!=null&&b(e,["activityEnd"],u),e}function g3e(t){const e={},n=y(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const s=y(t,["toolCallCancellation"]);s!=null&&b(e,["toolCallCancellation"],s);const a=y(t,["usageMetadata"]);a!=null&&b(e,["usageMetadata"],x3e(a));const l=y(t,["goAway"]);l!=null&&b(e,["goAway"],l);const u=y(t,["sessionResumptionUpdate"]);return u!=null&&b(e,["sessionResumptionUpdate"],u),e}function _3e(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(t,["fileData"]);s!=null&&b(e,["fileData"],n3e(s));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],r3e(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const u=y(t,["inlineData"]);u!=null&&b(e,["inlineData"],Oy(u));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const _=y(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function y3e(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q5(t){const e={},n=y(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function v3e(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],a3e(l));const u=y(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],o3e(u));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function b3e(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(_=>i3e(_))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=y(t,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const l=y(t,["enterpriseWebSearch"]);l!=null&&b(e,["enterpriseWebSearch"],l);const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function x3e(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const s=y(t,["toolUsePromptTokenCount"]);s!=null&&b(e,["toolUsePromptTokenCount"],s);const a=y(t,["thoughtsTokenCount"]);a!=null&&b(e,["thoughtsTokenCount"],a);const l=y(t,["totalTokenCount"]);l!=null&&b(e,["totalTokenCount"],l);const u=y(t,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),b(e,["promptTokensDetails"],v)}const d=y(t,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(S=>S)),b(e,["cacheTokensDetails"],v)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(S=>S)),b(e,["responseTokensDetails"],v)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(S=>S)),b(e,["toolUsePromptTokensDetails"],v)}const _=y(t,["trafficType"]);return _!=null&&b(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w3e(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function S3e(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],T3e(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&b(e,["finishReason"],s);const a=y(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=y(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=y(t,["index"]);u!=null&&b(e,["index"],u);const d=y(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const h=y(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(v=>v)),b(e,["safetyRatings"],_)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function T3e(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function E3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ss(i);Array.isArray(s)&&(s=s.map(a=>a)),b(n,["contents"],s)}return n}function A3e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["tokensInfo"],i)}return e}function k3e(t){const e={},n=y(t,["values"]);n!=null&&b(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&b(e,["statistics"],I3e(r)),e}function I3e(t){const e={},n=y(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function qb(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>L5e(s))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function C3e(t){const e={},n=y(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function N3e(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function P3e(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],Hr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Y5(l))),b(e,["tools"],a)}const s=y(t,["generationConfig"]);return e!==void 0&&s!=null&&b(e,["generationConfig"],w5e(s)),n}function R3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ss(i);Array.isArray(a)&&(a=a.map(l=>qb(l))),b(n,["contents"],a)}const s=y(e,["config"]);return s!=null&&N3e(s),n}function M3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ss(i);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["contents"],a)}const s=y(e,["config"]);return s!=null&&P3e(s,n),n}function D3e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function j3e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function O3e(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Lt(t,r)),n}function L3e(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Lt(t,r)),n}function $3e(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function V3e(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function U3e(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&b(e,["parameters","guidanceScale"],l);const u=y(t,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const d=y(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const _=y(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const v=y(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const S=y(t,["outputMimeType"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","mimeType"],S);const E=y(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&b(e,["parameters","outputOptions","compressionQuality"],E);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&b(e,["parameters","addWatermark"],A);const I=y(t,["labels"]);e!==void 0&&I!=null&&b(e,["labels"],I);const j=y(t,["editMode"]);e!==void 0&&j!=null&&b(e,["parameters","editMode"],j);const M=y(t,["baseSteps"]);return e!==void 0&&M!=null&&b(e,["parameters","editConfig","baseSteps"],M),n}function z3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>F5e(u))),b(n,["instances[0]","referenceImages"],l)}const a=y(e,["config"]);return a!=null&&U3e(a,n),n}function B3e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Gb(s))),b(e,["generatedImages"],i)}return e}function F3e(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function q3e(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const s=y(t,["outputDimensionality"]);e!==void 0&&s!=null&&b(e,["parameters","outputDimensionality"],s);const a=y(t,["mimeType"]);e!==void 0&&a!=null&&b(e,["instances[]","mimeType"],a);const l=y(t,["autoTruncate"]);return e!==void 0&&l!=null&&b(e,["parameters","autoTruncate"],l),n}function G3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let l=Tk(t,i);Array.isArray(l)&&(l=l.map(u=>u)),b(n,["requests[]","content"],l)}const s=y(e,["config"]);s!=null&&F3e(s,n);const a=y(e,["model"]);return a!==void 0&&b(n,["requests[]","model"],Lt(t,a)),n}function H3e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Tk(t,i);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&q3e(s,n),n}function K3e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function W3e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>k3e(a))),b(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Y3e(t){const e={},n=y(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function J3e(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function X3e(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Q3e(t){const e={},n=y(t,["mode"]);n!=null&&b(e,["mode"],n);const r=y(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Z3e(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=y(t,["response"]);a!=null&&b(e,["response"],a);const l=y(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function e5e(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],qb(Hr(i)));const s=y(e,["temperature"]);s!=null&&b(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&b(r,["topP"],a);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const u=y(e,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const _=y(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const E=y(e,["seed"]);E!=null&&b(r,["seed"],E);const A=y(e,["responseMimeType"]);A!=null&&b(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&b(r,["responseSchema"],Ek(I));const j=y(e,["responseJsonSchema"]);if(j!=null&&b(r,["responseJsonSchema"],j),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let U=M;Array.isArray(U)&&(U=U.map(q=>q5e(q))),b(n,["safetySettings"],U)}const B=y(e,["tools"]);if(n!==void 0&&B!=null){let U=Vf(B);Array.isArray(U)&&(U=U.map(q=>X5e($f(q)))),b(n,["tools"],U)}const V=y(e,["toolConfig"]);if(n!==void 0&&V!=null&&b(n,["toolConfig"],J5e(V)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=y(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],jo(t,N));const P=y(e,["responseModalities"]);P!=null&&b(r,["responseModalities"],P);const O=y(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const D=y(e,["speechConfig"]);if(D!=null&&b(r,["speechConfig"],Ak(D)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=y(e,["thinkingConfig"]);z!=null&&b(r,["thinkingConfig"],z);const $=y(e,["imageConfig"]);return $!=null&&b(r,["imageConfig"],k5e($)),r}function t5e(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],Hr(i));const s=y(e,["temperature"]);s!=null&&b(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&b(r,["topP"],a);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const u=y(e,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const _=y(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const E=y(e,["seed"]);E!=null&&b(r,["seed"],E);const A=y(e,["responseMimeType"]);A!=null&&b(r,["responseMimeType"],A);const I=y(e,["responseSchema"]);I!=null&&b(r,["responseSchema"],Ek(I));const j=y(e,["responseJsonSchema"]);j!=null&&b(r,["responseJsonSchema"],j);const M=y(e,["routingConfig"]);M!=null&&b(r,["routingConfig"],M);const B=y(e,["modelSelectionConfig"]);B!=null&&b(r,["modelConfig"],B);const V=y(e,["safetySettings"]);if(n!==void 0&&V!=null){let Y=V;Array.isArray(Y)&&(Y=Y.map(X=>X)),b(n,["safetySettings"],Y)}const N=y(e,["tools"]);if(n!==void 0&&N!=null){let Y=Vf(N);Array.isArray(Y)&&(Y=Y.map(X=>Y5($f(X)))),b(n,["tools"],Y)}const P=y(e,["toolConfig"]);n!==void 0&&P!=null&&b(n,["toolConfig"],P);const O=y(e,["labels"]);n!==void 0&&O!=null&&b(n,["labels"],O);const D=y(e,["cachedContent"]);n!==void 0&&D!=null&&b(n,["cachedContent"],jo(t,D));const z=y(e,["responseModalities"]);z!=null&&b(r,["responseModalities"],z);const $=y(e,["mediaResolution"]);$!=null&&b(r,["mediaResolution"],$);const U=y(e,["speechConfig"]);U!=null&&b(r,["speechConfig"],W5(Ak(U)));const q=y(e,["audioTimestamp"]);q!=null&&b(r,["audioTimestamp"],q);const te=y(e,["thinkingConfig"]);te!=null&&b(r,["thinkingConfig"],te);const ee=y(e,["imageConfig"]);return ee!=null&&b(r,["imageConfig"],I5e(ee)),r}function Tj(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ss(i);Array.isArray(a)&&(a=a.map(l=>qb(l))),b(n,["contents"],a)}const s=y(e,["config"]);return s!=null&&b(n,["generationConfig"],e5e(t,s,n)),n}function Ej(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["contents"]);if(i!=null){let a=Ss(i);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["contents"],a)}const s=y(e,["config"]);return s!=null&&b(n,["generationConfig"],t5e(t,s,n)),n}function Aj(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>S3e(d))),b(e,["candidates"],u)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=y(t,["responseId"]);a!=null&&b(e,["responseId"],a);const l=y(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function kj(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),b(e,["candidates"],d)}const i=y(t,["createTime"]);i!=null&&b(e,["createTime"],i);const s=y(t,["modelVersion"]);s!=null&&b(e,["modelVersion"],s);const a=y(t,["promptFeedback"]);a!=null&&b(e,["promptFeedback"],a);const l=y(t,["responseId"]);l!=null&&b(e,["responseId"],l);const u=y(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function n5e(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const s=y(t,["guidanceScale"]);if(e!==void 0&&s!=null&&b(e,["parameters","guidanceScale"],s),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&b(e,["parameters","safetySetting"],a);const l=y(t,["personGeneration"]);e!==void 0&&l!=null&&b(e,["parameters","personGeneration"],l);const u=y(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&b(e,["parameters","includeSafetyAttributes"],u);const d=y(t,["includeRaiReason"]);e!==void 0&&d!=null&&b(e,["parameters","includeRaiReason"],d);const h=y(t,["language"]);e!==void 0&&h!=null&&b(e,["parameters","language"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","mimeType"],p);const _=y(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(t,["imageSize"]);if(e!==void 0&&v!=null&&b(e,["parameters","sampleImageSize"],v),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function r5e(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const a=y(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&b(e,["parameters","guidanceScale"],l);const u=y(t,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const d=y(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const _=y(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const v=y(t,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const S=y(t,["outputMimeType"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","mimeType"],S);const E=y(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&b(e,["parameters","outputOptions","compressionQuality"],E);const A=y(t,["addWatermark"]);e!==void 0&&A!=null&&b(e,["parameters","addWatermark"],A);const I=y(t,["labels"]);e!==void 0&&I!=null&&b(e,["labels"],I);const j=y(t,["imageSize"]);e!==void 0&&j!=null&&b(e,["parameters","sampleImageSize"],j);const M=y(t,["enhancePrompt"]);return e!==void 0&&M!=null&&b(e,["parameters","enhancePrompt"],M),n}function i5e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&n5e(s,n),n}function s5e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&r5e(s,n),n}function a5e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>y5e(a))),b(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],H5(i)),e}function o5e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Gb(a))),b(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],K5(i)),e}function l5e(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=y(t,["resolution"]);e!==void 0&&a!=null&&b(e,["parameters","resolution"],a);const l=y(t,["personGeneration"]);if(e!==void 0&&l!=null&&b(e,["parameters","personGeneration"],l),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=y(t,["negativePrompt"]);e!==void 0&&u!=null&&b(e,["parameters","negativePrompt"],u);const d=y(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&b(e,["parameters","enhancePrompt"],d),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(t,["lastFrame"]);e!==void 0&&h!=null&&b(e,["instances[0]","lastFrame"],Hb(h));const p=y(t,["referenceImages"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(v=>uBe(v))),b(e,["instances[0]","referenceImages"],_)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function c5e(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const s=y(t,["fps"]);e!==void 0&&s!=null&&b(e,["parameters","fps"],s);const a=y(t,["durationSeconds"]);e!==void 0&&a!=null&&b(e,["parameters","durationSeconds"],a);const l=y(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=y(t,["aspectRatio"]);e!==void 0&&u!=null&&b(e,["parameters","aspectRatio"],u);const d=y(t,["resolution"]);e!==void 0&&d!=null&&b(e,["parameters","resolution"],d);const h=y(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=y(t,["pubsubTopic"]);e!==void 0&&p!=null&&b(e,["parameters","pubsubTopic"],p);const _=y(t,["negativePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","negativePrompt"],_);const v=y(t,["enhancePrompt"]);e!==void 0&&v!=null&&b(e,["parameters","enhancePrompt"],v);const S=y(t,["generateAudio"]);e!==void 0&&S!=null&&b(e,["parameters","generateAudio"],S);const E=y(t,["lastFrame"]);e!==void 0&&E!=null&&b(e,["instances[0]","lastFrame"],Qs(E));const A=y(t,["referenceImages"]);if(e!==void 0&&A!=null){let M=A;Array.isArray(M)&&(M=M.map(B=>dBe(B))),b(e,["instances[0]","referenceImages"],M)}const I=y(t,["mask"]);e!==void 0&&I!=null&&b(e,["instances[0]","mask"],cBe(I));const j=y(t,["compressionQuality"]);return e!==void 0&&j!=null&&b(e,["parameters","compressionQuality"],j),n}function u5e(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response","generateVideoResponse"]);return a!=null&&b(e,["response"],m5e(a)),e}function d5e(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response"]);return a!=null&&b(e,["response"],p5e(a)),e}function f5e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&b(n,["instances[0]","image"],Hb(s));const a=y(e,["video"]);a!=null&&b(n,["instances[0]","video"],J5(a));const l=y(e,["source"]);l!=null&&g5e(l,n);const u=y(e,["config"]);return u!=null&&l5e(u,n),n}function h5e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&b(n,["instances[0]","image"],Qs(s));const a=y(e,["video"]);a!=null&&b(n,["instances[0]","video"],X5(a));const l=y(e,["source"]);l!=null&&_5e(l,n);const u=y(e,["config"]);return u!=null&&c5e(u,n),n}function m5e(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>b5e(a))),b(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function p5e(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>x5e(a))),b(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function g5e(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Hb(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],J5(s)),n}function _5e(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Qs(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],X5(s)),n}function y5e(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],C5e(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],H5(i)),e}function Gb(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["image"],G5(n));const r=y(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&b(e,["safetyAttributes"],K5(i));const s=y(t,["prompt"]);return s!=null&&b(e,["enhancedPrompt"],s),e}function v5e(t){const e={},n=y(t,["_self"]);n!=null&&b(e,["mask"],G5(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["labels"],i)}return e}function b5e(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],oBe(n)),e}function x5e(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],lBe(n)),e}function w5e(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=y(t,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const a=y(t,["enableAffectiveDialog"]);a!=null&&b(e,["enableAffectiveDialog"],a);const l=y(t,["frequencyPenalty"]);l!=null&&b(e,["frequencyPenalty"],l);const u=y(t,["logprobs"]);u!=null&&b(e,["logprobs"],u);const d=y(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const _=y(t,["responseLogprobs"]);_!=null&&b(e,["responseLogprobs"],_);const v=y(t,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const S=y(t,["responseModalities"]);S!=null&&b(e,["responseModalities"],S);const E=y(t,["responseSchema"]);E!=null&&b(e,["responseSchema"],E);const A=y(t,["routingConfig"]);A!=null&&b(e,["routingConfig"],A);const I=y(t,["seed"]);I!=null&&b(e,["seed"],I);const j=y(t,["speechConfig"]);j!=null&&b(e,["speechConfig"],W5(j));const M=y(t,["stopSequences"]);M!=null&&b(e,["stopSequences"],M);const B=y(t,["temperature"]);B!=null&&b(e,["temperature"],B);const V=y(t,["thinkingConfig"]);V!=null&&b(e,["thinkingConfig"],V);const N=y(t,["topK"]);N!=null&&b(e,["topK"],N);const P=y(t,["topP"]);if(P!=null&&b(e,["topP"],P),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function S5e(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Lt(t,r)),n}function T5e(t,e){const n={},r=y(e,["model"]);return r!=null&&b(n,["_url","name"],Lt(t,r)),n}function E5e(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function A5e(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function k5e(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function I5e(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=y(t,["outputMimeType"]);i!=null&&b(e,["imageOutputOptions","mimeType"],i);const s=y(t,["outputCompressionQuality"]);return s!=null&&b(e,["imageOutputOptions","compressionQuality"],s),e}function C5e(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],sc(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function G5(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],sc(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Hb(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],sc(n));const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Qs(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],sc(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function N5e(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const a=y(e,["filter"]);n!==void 0&&a!=null&&b(n,["_query","filter"],a);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&b(n,["_url","models_url"],L5(t,l)),r}function P5e(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const a=y(e,["filter"]);n!==void 0&&a!=null&&b(n,["_query","filter"],a);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&b(n,["_url","models_url"],L5(t,l)),r}function R5e(t,e){const n={},r=y(e,["config"]);return r!=null&&N5e(t,r,n),n}function M5e(t,e){const n={},r=y(e,["config"]);return r!=null&&P5e(t,r,n),n}function D5e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=$5(i);Array.isArray(s)&&(s=s.map(a=>GE(a))),b(e,["models"],s)}return e}function j5e(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=$5(i);Array.isArray(s)&&(s=s.map(a=>HE(a))),b(e,["models"],s)}return e}function O5e(t){const e={},n=y(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function GE(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const s=y(t,["version"]);s!=null&&b(e,["version"],s);const a=y(t,["_self"]);a!=null&&b(e,["tunedModelInfo"],Q5e(a));const l=y(t,["inputTokenLimit"]);l!=null&&b(e,["inputTokenLimit"],l);const u=y(t,["outputTokenLimit"]);u!=null&&b(e,["outputTokenLimit"],u);const d=y(t,["supportedGenerationMethods"]);d!=null&&b(e,["supportedActions"],d);const h=y(t,["temperature"]);h!=null&&b(e,["temperature"],h);const p=y(t,["maxTemperature"]);p!=null&&b(e,["maxTemperature"],p);const _=y(t,["topP"]);_!=null&&b(e,["topP"],_);const v=y(t,["topK"]);v!=null&&b(e,["topK"],v);const S=y(t,["thinking"]);return S!=null&&b(e,["thinking"],S),e}function HE(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);i!=null&&b(e,["description"],i);const s=y(t,["versionId"]);s!=null&&b(e,["version"],s);const a=y(t,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(_=>Y3e(_))),b(e,["endpoints"],p)}const l=y(t,["labels"]);l!=null&&b(e,["labels"],l);const u=y(t,["_self"]);u!=null&&b(e,["tunedModelInfo"],Z5e(u));const d=y(t,["defaultCheckpointId"]);d!=null&&b(e,["defaultCheckpointId"],d);const h=y(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(_=>_)),b(e,["checkpoints"],p)}return e}function L5e(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(t,["fileData"]);s!=null&&b(e,["fileData"],J3e(s));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],X3e(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const u=y(t,["inlineData"]);u!=null&&b(e,["inlineData"],w3e(u));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const _=y(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function $5e(t){const e={},n=y(t,["productImage"]);return n!=null&&b(e,["image"],Qs(n)),e}function V5e(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const s=y(t,["outputGcsUri"]);e!==void 0&&s!=null&&b(e,["parameters","storageUri"],s);const a=y(t,["seed"]);e!==void 0&&a!=null&&b(e,["parameters","seed"],a);const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&b(e,["parameters","safetySetting"],l);const u=y(t,["personGeneration"]);e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u);const d=y(t,["addWatermark"]);e!==void 0&&d!=null&&b(e,["parameters","addWatermark"],d);const h=y(t,["outputMimeType"]);e!==void 0&&h!=null&&b(e,["parameters","outputOptions","mimeType"],h);const p=y(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","compressionQuality"],p);const _=y(t,["enhancePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","enhancePrompt"],_);const v=y(t,["labels"]);return e!==void 0&&v!=null&&b(e,["labels"],v),n}function U5e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["source"]);i!=null&&B5e(i,n);const s=y(e,["config"]);return s!=null&&V5e(s,n),n}function z5e(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gb(i))),b(e,["generatedImages"],r)}return e}function B5e(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],Qs(i));const s=y(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>$5e(l))),b(e,["instances[0]","productImages"],a)}return n}function F5e(t){const e={},n=y(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],Qs(n));const r=y(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const s=y(t,["maskImageConfig"]);s!=null&&b(e,["maskImageConfig"],O5e(s));const a=y(t,["controlImageConfig"]);a!=null&&b(e,["controlImageConfig"],C3e(a));const l=y(t,["styleImageConfig"]);l!=null&&b(e,["styleImageConfig"],l);const u=y(t,["subjectImageConfig"]);return u!=null&&b(e,["subjectImageConfig"],u),e}function H5(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function K5(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function q5e(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function G5e(t){const e={},n=y(t,["image"]);return n!=null&&b(e,["image"],Qs(n)),e}function H5e(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const s=y(t,["confidenceThreshold"]);e!==void 0&&s!=null&&b(e,["parameters","confidenceThreshold"],s);const a=y(t,["maskDilation"]);e!==void 0&&a!=null&&b(e,["parameters","maskDilation"],a);const l=y(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&b(e,["parameters","binaryColorThreshold"],l);const u=y(t,["labels"]);return e!==void 0&&u!=null&&b(e,["labels"],u),n}function K5e(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["source"]);i!=null&&Y5e(i,n);const s=y(e,["config"]);return s!=null&&H5e(s,n),n}function W5e(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>v5e(i))),b(e,["generatedMasks"],r)}return e}function Y5e(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Qs(i));const s=y(t,["scribbleImage"]);return e!==void 0&&s!=null&&b(e,["instances[0]","scribble"],G5e(s)),n}function W5(t){const e={},n=y(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=y(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function J5e(t){const e={},n=y(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Q3e(n));const r=y(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function X5e(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],E5e(l));const u=y(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],A5e(u));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function Y5(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(_=>Z3e(_))),b(e,["functionDeclarations"],p)}const r=y(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=y(t,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const l=y(t,["enterpriseWebSearch"]);l!=null&&b(e,["enterpriseWebSearch"],l);const u=y(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const d=y(t,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Q5e(t){const e={},n=y(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function Z5e(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function eBe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),n}function tBe(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),n}function nBe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","name"],Lt(t,r));const i=y(e,["config"]);return i!=null&&eBe(i,n),n}function rBe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["config"]);return i!=null&&tBe(i,n),n}function iBe(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const s=y(t,["personGeneration"]);e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s);const a=y(t,["includeRaiReason"]);e!==void 0&&a!=null&&b(e,["parameters","includeRaiReason"],a);const l=y(t,["outputMimeType"]);e!==void 0&&l!=null&&b(e,["parameters","outputOptions","mimeType"],l);const u=y(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&b(e,["parameters","outputOptions","compressionQuality"],u);const d=y(t,["enhanceInputImage"]);e!==void 0&&d!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=y(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=y(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const _=y(t,["numberOfImages"]);e!==void 0&&_!=null&&b(e,["parameters","sampleCount"],_);const v=y(t,["mode"]);return e!==void 0&&v!=null&&b(e,["parameters","mode"],v),n}function sBe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],Lt(t,r));const i=y(e,["image"]);i!=null&&b(n,["instances[0]","image"],Qs(i));const s=y(e,["upscaleFactor"]);s!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&iBe(a,n),n}function aBe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Gb(s))),b(e,["generatedImages"],i)}return e}function oBe(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],sc(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function lBe(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],sc(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function cBe(t){const e={},n=y(t,["image"]);n!=null&&b(e,["_self"],Qs(n));const r=y(t,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function uBe(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],Hb(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function dBe(t){const e={},n=y(t,["image"]);n!=null&&b(e,["image"],Qs(n));const r=y(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function J5(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["encodedVideo"],sc(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function X5(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],sc(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fBe="Content-Type",hBe="X-Server-Timeout",mBe="User-Agent",KE="x-goog-api-client",pBe="1.30.0",gBe=`google-genai-sdk/${pBe}`,_Be="v1beta1",yBe="v1beta",Ij=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vBe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:_Be,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:yBe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,l]of Object.entries(e.queryParams))i.searchParams.append(a,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,a=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&bBe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Cj(i),new BE(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Cj(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Kd(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:l,value:u}=yield gn(i.read());if(l){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=s.decode(u,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const _=JSON.parse(JSON.stringify(p.error)),v=_.status,S=_.code,E=`got status: ${v}. ${JSON.stringify(p)}`;if(S>=400&&S<600)throw new Fb({message:E,status:S})}}catch(p){if(p.name==="ApiError")throw p}a+=d;let h=a.match(Ij);for(;h;){const p=h[1];try{const _=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gn(new BE(_)),a=a.slice(h[0].length),h=a.match(Ij)}catch(_){throw new Error(`exception parsing stream chunk ${p}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=gBe+" "+this.clientOptions.userAgentExtra;return e[mBe]=n,e[KE]=n,e[fBe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(hBe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},d=this.getFileName(e),h=Le("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,u,n==null?void 0:n.httpOptions);return s.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,a=await s.stat(n),l=String(a.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const _=await this.fetchUploadUrl(d,l,u,h,p,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,a){var l;let u={};a?u=a:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=d==null?void 0:d.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Cj(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Fb({message:i,status:n}):new Error(i)}}function bBe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const l=Object.assign({},s);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const d=a[u],h=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?l[u]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xBe="mcp_used/unknown";let wBe=!1;function Q5(t){for(const e of t)if(SBe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return wBe}function Z5(t){var e;const n=(e=t[KE])!==null&&e!==void 0?e:"";t[KE]=(n+` ${xBe}`).trimStart()}function SBe(t){return t!==null&&typeof t=="object"&&t instanceof Ik}function TBe(t,e=100){return Kd(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield gn(t.listTools({cursor:r}));for(const a of s.tools)yield yield gn(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class Ik{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ik(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const h of this.mcpClients)try{for(var l=!0,u=(n=void 0,Bm(TBe(h))),d;d=await u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const p=i;a.push(p);const _=p.name;if(s[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);s[_]=h}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),gUe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function EBe(t,e,n){const r=new lUe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ABe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=CBe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const h=new Promise(M=>{d=M}),p=e.callbacks,_=function(){d({})},v=this.apiClient,S={onopen:_,onmessage:M=>{EBe(v,p.onmessage,M)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(M){}},E=this.webSocketFactory.create(u,IBe(a),S);E.connect(),await h;const j={setup:{model:Lt(this.apiClient,e.model)}};return E.send(JSON.stringify(j)),new kBe(E,this.apiClient)}}class kBe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=h3e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=f3e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($d.PLAY)}pause(){this.sendPlaybackControl($d.PAUSE)}stop(){this.sendPlaybackControl($d.STOP)}resetContext(){this.sendPlaybackControl($d.RESET_CONTEXT)}close(){this.conn.close()}}function IBe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function CBe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NBe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function PBe(t,e,n){const r=new oUe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=g3e(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class RBe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ABe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&Q5(e.config.tools)&&Z5(p);const _=OBe(p);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,h);else{const D=this.apiClient.getApiKey();let z="BidiGenerateContent",$="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",$="access_token"),h=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${z}?${$}=${D}`}let v=()=>{};const S=new Promise(D=>{v=D}),E=e.callbacks,A=function(){var D;(D=E==null?void 0:E.onopen)===null||D===void 0||D.call(E),v({})},I=this.apiClient,j={onopen:A,onmessage:D=>{PBe(I,E.onmessage,D)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(D){}},M=this.webSocketFactory.create(h,jBe(_),j);M.connect(),await S;let B=Lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const D=this.apiClient.getProject(),z=this.apiClient.getLocation();B=`projects/${D}/locations/${z}/`+B}let V={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vf.AUDIO]}:e.config.responseModalities=[vf.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(l=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],P=[];for(const D of N)if(this.isCallableTool(D)){const z=D;P.push(await z.tool())}else P.push(D);P.length>0&&(e.config.tools=P);const O={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=d3e(this.apiClient,O):V=u3e(this.apiClient,O),delete V.config,M.send(JSON.stringify(V)),new DBe(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const MBe={turnComplete:!0};class DBe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ss(n.turns),e.isVertexAI()||(r=r.map(i=>qb(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(NBe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},MBe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:p3e(e)}:n={realtimeInput:m3e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jBe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function OBe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nj=10;function Pj(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Wd(a)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Wd(t){return"callTool"in t&&typeof t.callTool=="function"}function LBe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Wd(i)))!==null&&r!==void 0?r:!1}function Rj(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Wd(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function Mj(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $Be extends Do{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!LBe(n)||Pj(n.config))return await this.generateContentInternal(u);const d=Rj(n);if(d.length>0){const E=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,p;const _=Ss(u.contents),v=(s=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Nj;let S=0;for(;S<v&&(h=await this.generateContentInternal(u),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,A=[];for(const I of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Wd(I)){const M=await I.callTool(h.functionCalls);A.push(...M)}S++,p={role:"user",parts:A},u.contents=Ss(u.contents),u.contents.push(E),u.contents.push(p),Mj(u.config)&&(_.push(E),_.push(p))}return Mj(u.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{var r,i,s,a,l;if(this.maybeMoveToResponseJsonSchem(n),Pj(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const u=Rj(n);if(u.length>0){const p=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(l=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=u==null?void 0:u.safetyAttributes:a.push(u);let l;return s?l={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Iu(xo.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,a,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async u=>Wd(u)?await u.tool():u)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(l.config.tools=a,e.config&&e.config.tools&&Q5(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Z5(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wd(a)){const l=a,u=await l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Nj;let a=!1,l=0;const u=await this.initAfcToolsMap(e);return(function(d,h,p){var _,v;return Kd(this,arguments,function*(){for(var S,E,A,I;l<s;){a&&(l++,a=!1);const V=yield gn(d.processParamsMaybeAddMcpUsage(p)),N=yield gn(d.generateContentStreamInternal(V)),P=[],O=[];try{for(var j=!0,M=(E=void 0,Bm(N)),B;B=yield gn(M.next()),S=B.done,!S;j=!0){I=B.value,j=!1;const D=I;if(yield yield gn(D),D.candidates&&(!((_=D.candidates[0])===null||_===void 0)&&_.content)){O.push(D.candidates[0].content);for(const z of(v=D.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<s&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const $=yield gn(h.get(z.functionCall.name).callTool([z.functionCall]));P.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(D){E={error:D}}finally{try{!j&&!S&&(A=M.return)&&(yield gn(A.call(M)))}finally{if(E)throw E.error}}if(P.length>0){a=!0;const D=new am;D.candidates=[{content:{role:"user",parts:P}}],yield yield gn(D);const z=[];z.push(...O),z.push({role:"user",parts:P});const $=Ss(p.contents).concat(z);p.contents=$}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Ej(this.apiClient,e);return l=Le("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=kj(h),_=new am;return Object.assign(_,p),_})}else{const d=Tj(this.apiClient,e);return l=Le("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=Aj(h),_=new am;return Object.assign(_,p),_})}}async generateContentStreamInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Ej(this.apiClient,e);return l=Le("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Kd(this,arguments,function*(){var _,v,S,E;try{for(var A=!0,I=Bm(p),j;j=yield gn(I.next()),_=j.done,!_;A=!0){E=j.value,A=!1;const M=E,B=kj(yield gn(M.json()));B.sdkHttpResponse={headers:M.headers};const V=new am;Object.assign(V,B),yield yield gn(V)}}catch(M){v={error:M}}finally{try{!A&&!_&&(S=I.return)&&(yield gn(S.call(I)))}finally{if(v)throw v.error}}})})}else{const d=Tj(this.apiClient,e);return l=Le("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return Kd(this,arguments,function*(){var _,v,S,E;try{for(var A=!0,I=Bm(p),j;j=yield gn(I.next()),_=j.done,!_;A=!0){E=j.value,A=!1;const M=E,B=Aj(yield gn(M.json()));B.sdkHttpResponse={headers:M.headers};const V=new am;Object.assign(V,B),yield yield gn(V)}}catch(M){v={error:M}}finally{try{!A&&!_&&(S=I.return)&&(yield gn(S.call(I)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=H3e(this.apiClient,e);return l=Le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=W3e(h),_=new lj;return Object.assign(_,p),_})}else{const d=G3e(this.apiClient,e);return l=Le("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=K3e(h),_=new lj;return Object.assign(_,p),_})}}async generateImagesInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=s5e(this.apiClient,e);return l=Le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=o5e(h),_=new cj;return Object.assign(_,p),_})}else{const d=i5e(this.apiClient,e);return l=Le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=a5e(h),_=new cj;return Object.assign(_,p),_})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=z3e(this.apiClient,e);return s=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=B3e(u),h=new JVe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=sBe(this.apiClient,e);return s=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=aBe(u),h=new XVe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=U5e(this.apiClient,e);return s=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=z5e(u),h=new QVe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=K5e(this.apiClient,e);return s=Le("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=W5e(u),h=new ZVe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=T5e(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>HE(h))}else{const d=S5e(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>GE(h))}}async listInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=M5e(this.apiClient,e);return l=Le("{models_url}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=j5e(h),_=new uj;return Object.assign(_,p),_})}else{const d=R5e(this.apiClient,e);return l=Le("{models_url}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=D5e(h),_=new uj;return Object.assign(_,p),_})}}async update(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=rBe(this.apiClient,e);return l=Le("{model}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>HE(h))}else{const d=nBe(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>GE(h))}}async delete(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=L3e(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=V3e(h),_=new dj;return Object.assign(_,p),_})}else{const d=O3e(this.apiClient,e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=$3e(h),_=new dj;return Object.assign(_,p),_})}}async countTokens(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=M3e(this.apiClient,e);return l=Le("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=j3e(h),_=new fj;return Object.assign(_,p),_})}else{const d=R3e(this.apiClient,e);return l=Le("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=D3e(h),_=new fj;return Object.assign(_,p),_})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=E3e(this.apiClient,e);return s=Le("{model}:computeTokens",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const d=A3e(u),h=new eUe;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=h5e(this.apiClient,e);return l=Le("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=d5e(h),_=new vv;return Object.assign(_,p),_})}else{const d=f5e(this.apiClient,e);return l=Le("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=u5e(h),_=new vv;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VBe extends Do{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=qVe(e);return l=Le("{operationName}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const d=FVe(e);return l=Le("{operationName}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=OVe(e);return s=Le("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UBe(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function zBe(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>JBe(s))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function BBe(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&b(n,["newSessionExpireTime"],s);const a=y(e,["uses"]);n!==void 0&&a!=null&&b(n,["uses"],a);const l=y(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&b(n,["bidiGenerateContentSetup"],YBe(t,l));const u=y(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&b(n,["fieldMask"],u),r}function FBe(t,e){const n={},r=y(e,["config"]);return r!=null&&b(n,["config"],BBe(t,r,n)),n}function qBe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function GBe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HBe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function KBe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function WBe(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const a=y(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const u=y(t,["maxOutputTokens"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","maxOutputTokens"],u);const d=y(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],kk(p));const _=y(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const v=y(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],zBe(Hr(S)));const E=y(t,["tools"]);if(e!==void 0&&E!=null){let N=Vf(E);Array.isArray(N)&&(N=N.map(P=>QBe($f(P)))),b(e,["setup","tools"],N)}const A=y(t,["sessionResumption"]);e!==void 0&&A!=null&&b(e,["setup","sessionResumption"],XBe(A));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","inputAudioTranscription"],I);const j=y(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&b(e,["setup","outputAudioTranscription"],j);const M=y(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&b(e,["setup","realtimeInputConfig"],M);const B=y(t,["contextWindowCompression"]);e!==void 0&&B!=null&&b(e,["setup","contextWindowCompression"],B);const V=y(t,["proactivity"]);return e!==void 0&&V!=null&&b(e,["setup","proactivity"],V),n}function YBe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],Lt(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],WBe(i,n)),n}function JBe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(t,["fileData"]);s!=null&&b(e,["fileData"],qBe(s));const a=y(t,["functionCall"]);a!=null&&b(e,["functionCall"],GBe(a));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const u=y(t,["inlineData"]);u!=null&&b(e,["inlineData"],UBe(u));const d=y(t,["text"]);d!=null&&b(e,["text"],d);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const _=y(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function XBe(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QBe(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=y(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],HBe(l));const u=y(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],KBe(u));const d=y(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZBe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function eFe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=ZBe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const u=[];s&&u.push(s),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class tFe extends Do{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=FBe(this.apiClient,e);s=Le("auth_tokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query;const u=eFe(l,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nFe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function rFe(t){const e={},n=y(t,["config"]);return n!=null&&nFe(n,e),e}function iFe(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function sFe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&iFe(r,e),e}function aFe(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function oFe(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["customMetadata"],s)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function lFe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const s=y(t,["error"]);s!=null&&b(e,["error"],s);const a=y(t,["response"]);return a!=null&&b(e,["response"],uFe(a)),e}function cFe(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&oFe(i,e),e}function uFe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function dFe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function fFe(t){const e={},n=y(t,["config"]);return n!=null&&dFe(n,e),e}function hFe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["fileSearchStores"],s)}return e}function mFe(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const s=y(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),b(e,["customMetadata"],l)}const a=y(t,["chunkingConfig"]);return e!==void 0&&a!=null&&b(e,["chunkingConfig"],a),n}function pFe(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&mFe(r,e),e}function gFe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Fe(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function yFe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&_Fe(r,e),e}function vFe(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function bFe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function xFe(t){const e={},n=y(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&bFe(r,e),e}function wFe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SFe extends Do{constructor(e){super(),this.apiClient=e,this.list=async n=>new Iu(xo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vFe(e);return s=Le("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yFe(e);i=Le("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xFe(e);return s=Le("{parent}/documents",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=wFe(u),h=new tUe;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TFe extends Do{constructor(e,n=new SFe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Iu(xo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=rFe(e);return s=Le("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=aFe(e);return s=Le("{name}",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=sFe(e);i=Le("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fFe(e);return s=Le("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=hFe(u),h=new nUe;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pFe(e);return s=Le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=gFe(u),h=new rUe;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cFe(e);return s=Le("{file_search_store_name}:importFile",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=lFe(u),h=new wk;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EFe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function AFe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function kFe(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(t,["epochCount"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(t,["learningRateMultiplier"]);if(a!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=y(t,["batchSize"]);e!==void 0&&l!=null&&b(e,["tuningTask","hyperparameters","batchSize"],l);const u=y(t,["learningRate"]);if(e!==void 0&&u!=null&&b(e,["tuningTask","hyperparameters","learningRate"],u),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function IFe(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec"],Dj(v))}else if(i==="PREFERENCE_TUNING"){const v=y(t,["validationDataset"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec"],Dj(v))}const s=y(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&b(e,["tunedModelDisplayName"],s);const a=y(t,["description"]);e!==void 0&&a!=null&&b(e,["description"],a);let l=y(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(t,["epochCount"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=y(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(h==="PREFERENCE_TUNING"){const v=y(t,["adapterSize"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=y(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const _=y(t,["beta"]);return e!==void 0&&_!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function CFe(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&UFe(s);const a=y(t,["config"]);return a!=null&&kFe(a,n),n}function NFe(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&zFe(s,n,e);const a=y(t,["config"]);return a!=null&&IFe(a,n,e),n}function PFe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function RFe(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function MFe(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const a=y(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),r}function DFe(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const a=y(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),r}function jFe(t,e){const n={},r=y(t,["config"]);return r!=null&&MFe(r,n),n}function OFe(t,e){const n={},r=y(t,["config"]);return r!=null&&DFe(r,n),n}function LFe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=y(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>eB(l))),b(n,["tuningJobs"],a)}return n}function $Fe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=y(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>WE(l))),b(n,["tuningJobs"],a)}return n}function VFe(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["model"],r);const i=y(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function UFe(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(n,["examples","examples"],i)}return n}function zFe(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(t,["gcsUri"]);e!==void 0&&a!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function eB(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const s=y(t,["state"]);s!=null&&b(n,["state"],j5(s));const a=y(t,["createTime"]);a!=null&&b(n,["createTime"],a);const l=y(t,["tuningTask","startTime"]);l!=null&&b(n,["startTime"],l);const u=y(t,["tuningTask","completeTime"]);u!=null&&b(n,["endTime"],u);const d=y(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const h=y(t,["description"]);h!=null&&b(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&b(n,["baseModel"],p);const _=y(t,["_self"]);return _!=null&&b(n,["tunedModel"],VFe(_)),n}function WE(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const s=y(t,["state"]);s!=null&&b(n,["state"],j5(s));const a=y(t,["createTime"]);a!=null&&b(n,["createTime"],a);const l=y(t,["startTime"]);l!=null&&b(n,["startTime"],l);const u=y(t,["endTime"]);u!=null&&b(n,["endTime"],u);const d=y(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const h=y(t,["error"]);h!=null&&b(n,["error"],h);const p=y(t,["description"]);p!=null&&b(n,["description"],p);const _=y(t,["baseModel"]);_!=null&&b(n,["baseModel"],_);const v=y(t,["tunedModel"]);v!=null&&b(n,["tunedModel"],v);const S=y(t,["preTunedModel"]);S!=null&&b(n,["preTunedModel"],S);const E=y(t,["supervisedTuningSpec"]);E!=null&&b(n,["supervisedTuningSpec"],E);const A=y(t,["preferenceOptimizationSpec"]);A!=null&&b(n,["preferenceOptimizationSpec"],A);const I=y(t,["tuningDataStats"]);I!=null&&b(n,["tuningDataStats"],I);const j=y(t,["encryptionSpec"]);j!=null&&b(n,["encryptionSpec"],j);const M=y(t,["partnerModelTuningSpec"]);M!=null&&b(n,["partnerModelTuningSpec"],M);const B=y(t,["customBaseModel"]);B!=null&&b(n,["customBaseModel"],B);const V=y(t,["experiment"]);V!=null&&b(n,["experiment"],V);const N=y(t,["labels"]);N!=null&&b(n,["labels"],N);const P=y(t,["outputUri"]);P!=null&&b(n,["outputUri"],P);const O=y(t,["pipelineJob"]);O!=null&&b(n,["pipelineJob"],O);const D=y(t,["serviceAccount"]);D!=null&&b(n,["serviceAccount"],D);const z=y(t,["tunedModelDisplayName"]);z!=null&&b(n,["tunedModelDisplayName"],z);const $=y(t,["veoTuningSpec"]);return $!=null&&b(n,["veoTuningSpec"],$),n}function BFe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const s=y(t,["metadata"]);s!=null&&b(n,["metadata"],s);const a=y(t,["done"]);a!=null&&b(n,["done"],a);const l=y(t,["error"]);return l!=null&&b(n,["error"],l),n}function Dj(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FFe extends Do{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Iu(xo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:zE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=RFe(e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>WE(h))}else{const d=PFe(e);return l=Le("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>eB(h))}}async listInternal(e){var n,r,i,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=OFe(e);return l=Le("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=$Fe(h),_=new hj;return Object.assign(_,p),_})}else{const d=jFe(e);return l=Le("tunedModels",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:h.headers},_})),a.then(h=>{const p=LFe(h),_=new hj;return Object.assign(_,p),_})}}async cancel(e){var n,r,i,s;let a="",l={};if(this.apiClient.isVertexAI()){const u=AFe(e);a=Le("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=EFe(e);a=Le("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const l=NFe(e,e);return s=Le("tuningJobs",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>WE(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CFe(e);return s=Le("tunedModels",l._url),a=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>BFe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qFe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GFe=1024*1024*8,HFe=3,KFe=1e3,WFe=2,xv="x-goog-upload-status";async function YFe(t,e,n){var r;const i=await tB(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[xv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function JFe(t,e,n){var r;const i=await tB(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[xv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=C5(s),l=new Sk;return Object.assign(l,a),l}async function tB(t,e,n){var r,i;let s=0,a=0,l=new BE(new Response),u="upload";for(s=t.size;a<s;){const d=Math.min(GFe,s-a),h=t.slice(a,a+d);a+d>=s&&(u+=", finalize");let p=0,_=KFe;for(;p<HFe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[xv]));)p++,await QFe(_),_=_*WFe;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[xv])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function XFe(t){return{size:t.size,type:t.type}}function QFe(t){return new Promise(e=>setTimeout(e,t))}class ZFe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YFe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JFe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XFe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e6e{create(e,n,r){return new t6e(e,n,r)}}class t6e{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jj="x-goog-api-key";class n6e{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(jj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r6e="gl-node/";class Ck{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=DVe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new n6e(this.apiKey);this.apiClient=new vBe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:r6e+"web",uploader:new ZFe,downloader:new qFe}),this.models=new $Be(this.apiClient),this.live=new RBe(this.apiClient,i,new e6e),this.batches=new cze(this.apiClient),this.chats=new qze(this.models,this.apiClient),this.caches=new zze(this.apiClient),this.files=new e3e(this.apiClient),this.operations=new VBe(this.apiClient),this.authTokens=new tFe(this.apiClient),this.tunings=new FFe(this.apiClient),this.fileSearchStores=new TFe(this.apiClient)}}let mp;try{mp="AIzaSyAlNm0JytBZWTrGoV0FfHFEfJttM_WbYUo"}catch{mp=void 0}let Kb=null;if(mp)try{Kb=new Ck({apiKey:mp})}catch(t){console.error("Kon Gemini niet initialiseren:",t)}const Qi={nl:"Dutch",en:"English",de:"German"},ai=()=>!mp||!Kb?(console.error("Google AI API Key ontbreekt of client is niet geladen!"),!1):!0,Zi=async(t,e,n)=>{if(!ai())throw new Error("API Key missing");try{return(await Kb.models.generateContent({model:t,contents:e,config:n})).text||""}catch(r){throw console.error("Gemini Error:",r),r}},i6e=async(t,e,n)=>{if(!ai())return"[]";const r=n.join(", "),i=`
        Your task is to act as a data analyst. Use Google Search to find current information from reliable sources (official websites, pricewise, gaslicht.com, etc.).
        Find offers for NEW customers (promotions) and EXISTING customers (standard rates).
        If a value is not found, use null. Do NOT guess.
        Output ONLY a valid JSON array. No markdown formatting.
    `;let s="";t==="telecom"?s=`${i}
        Analyze telecom packages in NL for: ${r}.
        Comparison offer: Package: ${e.packageType}, Speed: ${e.internetSpeed}, Price: ${e.price}.
        JSON Structure: [{ "companyName": "string", "standardOffer": { "packageName": "string", "internetSpeed": number|null, "monthlyPrice": number|null, "setupFee": number|null, "discount": number|null, "usps": ["string"] }, "newCustomerOffer": { "packageName": "string", "internetSpeed": number|null, "monthlyPrice": number|null, "setupFee": number|null, "discount": number|null, "usps": ["string"] } }]`:s=`${i}
        Analyze energy contracts in NL for: ${r}.
        Comparison offer: Duration: ${e.contractDuration}, Normal Rate: ${e.powerRateNormal}, Gas: ${e.gasRate}.
        JSON Structure: [{ "companyName": "string", "standardOffer": { "contractType": "string", "powerRateNormal": number|null, "powerRateLow": number|null, "gasRate": number|null, "fixedCostMonthly": number|null, "welcomeBonus": number|null, "usps": ["string"] }, "newCustomerOffer": { "contractType": "string", "powerRateNormal": number|null, "powerRateLow": number|null, "gasRate": number|null, "fixedCostMonthly": number|null, "welcomeBonus": number|null, "usps": ["string"] } }]`;try{return await Zi("gemini-2.5-pro",s,{tools:[{googleSearch:{}}],thinkingConfig:{thinkingBudget:1024}})}catch{return"[]"}},s6e=async(t,e,n="nl")=>{if(!ai())return"AI API Key ontbreekt.";const i=`
        As a sales strategist, compare my offer with competitors.
        Write a strategic summary in ${Qi[n]||"Dutch"} and Markdown.
        Address: Strengths/Weaknesses vs New Customers AND vs Existing Customers.
        
        My Offer: ${JSON.stringify(t)}
        Competitor Data: ${JSON.stringify(e)}
    `;try{return await Zi("gemini-2.5-flash",i)}catch{return"Geen samenvatting beschikbaar."}},a6e=async(t,e="nl")=>{if(!ai())return"AI API Key ontbreekt.";const n=Qi[e]||"Dutch",r=`
        Sales Coach analysis of this pitch:
        ${t}
        
        Provide feedback in ${n} and Markdown with headings:
        ### Structuur & Flow
        ### Woordkeuze & Toon
        ### Waardepropositie
        ### Afsluiting (Call to Action)
    `;try{return await Zi("gemini-2.5-flash",r)}catch{return"Geen suggesties beschikbaar."}},o6e=async(t,e="nl")=>{if(!ai())return"AI API Key ontbreekt.";if(!t||t.trim()==="")return"Geen notities.";const r=`
        Analyze these sales notes. Provide a summary and action items in ${Qi[e]||"Dutch"} and Markdown.
        Structure:
        ### Samenvatting
        ### Actiepunten
        
        Notes: ${t}
    `;try{return await Zi("gemini-2.5-flash",r)}catch{return"Geen analyse beschikbaar."}},l6e=async(t,e,n,r,i="nl")=>{var u;if(!ai())return"AI API Key ontbreekt.";const s=Qi[i]||"Dutch",a=((u=t.sales)==null?void 0:u.filter(d=>new Date(d.date)>=new Date(Date.now()-10080*60*1e3)))||[],l=`
        Weekly sales review for ${t.name} in ${s} and Markdown.
        Stats: New Clients: ${n.length}, New Pitches: ${r.length}, Sales Value: ${a.reduce((d,h)=>d+h.value,0)}.
        Goals: ${JSON.stringify(e)}.
        
        Sections:
        ### Terugblik op de Week
        ### Voortgang op Doelen
        ### Focuspunten voor Volgende Week
    `;try{return await Zi("gemini-2.5-flash",l)}catch{return"Geen review beschikbaar."}},c6e=async(t,e,n,r="nl")=>{if(!ai())return"AI API Key ontbreekt.";const i=Qi[r]||"Dutch",s=n.filter(l=>new Date(l.date).toDateString()===new Date().toDateString()),a=`
        Generate 1 short, actionable sales tip (max 30 words) in ${i} for ${t.name}.
        Context: Industry ${t.industry}, Sales today: ${s.length}. Goals: ${JSON.stringify(e)}.
    `;try{return await Zi("gemini-2.5-flash",a)}catch{return"Zet hem op vandaag!"}},u6e=async(t,e="nl")=>{if(!ai())return e==="nl"?"Kan agenda niet laden.":"Cannot load agenda.";if(t.length===0)return e==="nl"?"Geen afspraken.":"No appointments.";const r=`Summarize this agenda in 2 sentences in ${Qi[e]||"Dutch"}: ${JSON.stringify(t)}`;try{return await Zi("gemini-2.5-flash",r)}catch{return"Geen overzicht."}},d6e=async(t,e,n="nl")=>{if(!ai())return"AI API Key ontbreekt.";const r=Qi[n]||"Dutch",i=`
        Pre-call briefing for ${t.name} calling ${e.name} (${e.company}).
        Output in ${r} and Markdown.
        Sections:
        ### Klantprofiel
        ### Belangrijkste Punten uit Notities
        ### Doel van dit Gesprek
        ### Mogelijke Opening
        
        Notes: ${e.notes}
    `;try{return await Zi("gemini-2.5-flash",i)}catch{return"Geen briefing beschikbaar."}},f6e=async(t,e="nl")=>{if(!ai())return"AI API Key ontbreekt.";const r=`
        Create client profile from notes in ${Qi[e]||"Dutch"} and Markdown.
        Sections:
        ### Klanttype
        ### Belangrijkste Behoeften & Pijnpunten
        ### Communicatiestijl
        
        Notes: ${t}
    `;try{return await Zi("gemini-2.5-flash",r)}catch{return"Geen profiel beschikbaar."}},h6e=async(t,e,n,r="nl")=>{if(!ai())return"AI API Key ontbreekt.";const s=`
        Write a professional follow-up email in ${Qi[r]||"Dutch"} from ${t.name}.
        Goal: ${n}.
        Context: ${e}.
    `;try{return await Zi("gemini-2.5-flash",s)}catch{return"Kon geen email genereren."}},m6e=async(t,e="nl")=>{if(!ai())return"AI API Key ontbreekt.";const r=`
        Analyze team sales performance in ${Qi[e]||"Dutch"} and Markdown.
        Sections:
        1. Overall Team Performance
        2. Top Performer
        3. Coaching Opportunity
        
        Data: ${JSON.stringify(t)}
    `;try{return await Zi("gemini-2.5-flash",r)}catch{return"Geen analyse beschikbaar."}},p6e=async(t,e="nl")=>{if(!ai())return"AI API Key ontbreekt.";const n=Qi[e]||"Dutch",r=`Write a short, inspiring sales team post about "${t}" in ${n}. No title.`;try{return await Zi("gemini-2.5-flash",r)}catch{return"Geen inspiratie beschikbaar."}},g6e=async(t,e,n="nl")=>{if(!ai())return"AI API Key ontbreekt.";const r=Qi[n]||"Dutch",s=`
        Create a simple, structured training plan${t.industry&&t.industry!=="beide"?` in the ${t.industry} industry`:""} for a sales team on the topic of "${e}".
        The output must be in ${r} and in Markdown.
        The plan should include:

        ### Leerdoelen
        List 2-3 key learning objectives.

        ### Kernconcepten
        Explain the main ideas in a few bullet points.

        ### Oefening / Rollenspel
        Describe a practical exercise or role-play scenario for the team to practice.
    `;try{return await Zi("gemini-2.5-flash",s)}catch{return"Geen plan beschikbaar."}},_6e=(t="nl")=>{if(!ai())throw new Error("API Key missing");const e=Qi[t]||"Dutch";try{return Kb.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:`You are a helpful AI assistant for "Sales Copilot". Help users use the app. Respond in ${e}. Be concise.`}})}catch(n){throw console.error("Error starting help chat:",n),n}};function y6e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const v6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,x6e={};function Oj(t,e){return(x6e.jsx?b6e:v6e).test(t)}const w6e=/[ \t\n\f\r]/g;function S6e(t){return typeof t=="object"?t.type==="text"?Lj(t.value):!1:Lj(t)}function Lj(t){return t.replace(w6e,"")===""}class Qp{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Qp.prototype.normal={};Qp.prototype.property={};Qp.prototype.space=void 0;function nB(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Qp(n,r,e)}function YE(t){return t.toLowerCase()}class Ii{constructor(e,n){this.attribute=n,this.property=e}}Ii.prototype.attribute="";Ii.prototype.booleanish=!1;Ii.prototype.boolean=!1;Ii.prototype.commaOrSpaceSeparated=!1;Ii.prototype.commaSeparated=!1;Ii.prototype.defined=!1;Ii.prototype.mustUseProperty=!1;Ii.prototype.number=!1;Ii.prototype.overloadedBoolean=!1;Ii.prototype.property="";Ii.prototype.spaceSeparated=!1;Ii.prototype.space=void 0;let T6e=0;const ht=Cu(),er=Cu(),JE=Cu(),Ie=Cu(),ln=Cu(),Yd=Cu(),zi=Cu();function Cu(){return 2**++T6e}const XE=Object.freeze(Object.defineProperty({__proto__:null,boolean:ht,booleanish:er,commaOrSpaceSeparated:zi,commaSeparated:Yd,number:Ie,overloadedBoolean:JE,spaceSeparated:ln},Symbol.toStringTag,{value:"Module"})),iS=Object.keys(XE);class Nk extends Ii{constructor(e,n,r,i){let s=-1;if(super(e,n),$j(this,"space",i),typeof r=="number")for(;++s<iS.length;){const a=iS[s];$j(this,iS[s],(r&XE[a])===XE[a])}}}Nk.prototype.defined=!0;function $j(t,e,n){n&&(t[e]=n)}function zf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Nk(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[YE(r)]=r,n[YE(s.attribute)]=r}return new Qp(e,n,t.space)}const rB=zf({properties:{ariaActiveDescendant:null,ariaAtomic:er,ariaAutoComplete:null,ariaBusy:er,ariaChecked:er,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:ln,ariaCurrent:null,ariaDescribedBy:ln,ariaDetails:null,ariaDisabled:er,ariaDropEffect:ln,ariaErrorMessage:null,ariaExpanded:er,ariaFlowTo:ln,ariaGrabbed:er,ariaHasPopup:null,ariaHidden:er,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ln,ariaLevel:Ie,ariaLive:null,ariaModal:er,ariaMultiLine:er,ariaMultiSelectable:er,ariaOrientation:null,ariaOwns:ln,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:er,ariaReadOnly:er,ariaRelevant:null,ariaRequired:er,ariaRoleDescription:ln,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:er,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function iB(t,e){return e in t?t[e]:e}function sB(t,e){return iB(t,e.toLowerCase())}const E6e=zf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yd,acceptCharset:ln,accessKey:ln,action:null,allow:null,allowFullScreen:ht,allowPaymentRequest:ht,allowUserMedia:ht,alt:null,as:null,async:ht,autoCapitalize:null,autoComplete:ln,autoFocus:ht,autoPlay:ht,blocking:ln,capture:null,charSet:null,checked:ht,cite:null,className:ln,cols:Ie,colSpan:null,content:null,contentEditable:er,controls:ht,controlsList:ln,coords:Ie|Yd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ht,defer:ht,dir:null,dirName:null,disabled:ht,download:JE,draggable:er,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ht,formTarget:null,headers:ln,height:Ie,hidden:JE,high:Ie,href:null,hrefLang:null,htmlFor:ln,httpEquiv:ln,id:null,imageSizes:null,imageSrcSet:null,inert:ht,inputMode:null,integrity:null,is:null,isMap:ht,itemId:null,itemProp:ln,itemRef:ln,itemScope:ht,itemType:ln,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ht,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:ht,muted:ht,name:null,nonce:null,noModule:ht,noValidate:ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ht,optimum:Ie,pattern:null,ping:ln,placeholder:null,playsInline:ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ht,referrerPolicy:null,rel:ln,required:ht,reversed:ht,rows:Ie,rowSpan:Ie,sandbox:ln,scope:null,scoped:ht,seamless:ht,selected:ht,shadowRootClonable:ht,shadowRootDelegatesFocus:ht,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:er,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:ht,useMap:null,value:er,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ln,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ht,declare:ht,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:ht,noHref:ht,noShade:ht,noWrap:ht,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:er,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ht,disableRemotePlayback:ht,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:sB}),A6e=zf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zi,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:ln,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yd,g2:Yd,glyphName:Yd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:zi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ln,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zi,rev:zi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zi,requiredFeatures:zi,requiredFonts:zi,requiredFormats:zi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:zi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zi,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:iB}),aB=zf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),oB=zf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sB}),lB=zf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),k6e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},I6e=/[A-Z]/g,Vj=/-[a-z]/g,C6e=/^data[-\w.:]+$/i;function N6e(t,e){const n=YE(e);let r=e,i=Ii;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&C6e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Vj,R6e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Vj.test(s)){let a=s.replace(I6e,P6e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=Nk}return new i(r,e)}function P6e(t){return"-"+t.toLowerCase()}function R6e(t){return t.charAt(1).toUpperCase()}const M6e=nB([rB,E6e,aB,oB,lB],"html"),Pk=nB([rB,A6e,aB,oB,lB],"svg");function D6e(t){return t.join(" ").trim()}var kd={},sS,Uj;function j6e(){if(Uj)return sS;Uj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",h="*",p="",_="comment",v="declaration";function S(A,I){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];I=I||{};var j=1,M=1;function B(te){var ee=te.match(e);ee&&(j+=ee.length);var Y=te.lastIndexOf(u);M=~Y?te.length-Y:M+te.length}function V(){var te={line:j,column:M};return function(ee){return ee.position=new N(te),D(),ee}}function N(te){this.start=te,this.end={line:j,column:M},this.source=I.source}N.prototype.content=A;function P(te){var ee=new Error(I.source+":"+j+":"+M+": "+te);if(ee.reason=te,ee.filename=I.source,ee.line=j,ee.column=M,ee.source=A,!I.silent)throw ee}function O(te){var ee=te.exec(A);if(ee){var Y=ee[0];return B(Y),A=A.slice(Y.length),ee}}function D(){O(n)}function z(te){var ee;for(te=te||[];ee=$();)ee!==!1&&te.push(ee);return te}function $(){var te=V();if(!(d!=A.charAt(0)||h!=A.charAt(1))){for(var ee=2;p!=A.charAt(ee)&&(h!=A.charAt(ee)||d!=A.charAt(ee+1));)++ee;if(ee+=2,p===A.charAt(ee-1))return P("End of comment missing");var Y=A.slice(2,ee-2);return M+=2,B(Y),A=A.slice(ee),M+=2,te({type:_,comment:Y})}}function U(){var te=V(),ee=O(r);if(ee){if($(),!O(i))return P("property missing ':'");var Y=O(s),X=te({type:v,property:E(ee[0].replace(t,p)),value:Y?E(Y[0].replace(t,p)):p});return O(a),X}}function q(){var te=[];z(te);for(var ee;ee=U();)ee!==!1&&(te.push(ee),z(te));return te}return D(),q()}function E(A){return A?A.replace(l,p):p}return sS=S,sS}var zj;function O6e(){if(zj)return kd;zj=1;var t=kd&&kd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kd,"__esModule",{value:!0}),kd.default=n;const e=t(j6e());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,e.default)(r),l=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:h}=u;l?i(d,h,u):h&&(s=s||{},s[d]=h)}),s}return kd}var om={},Bj;function L6e(){if(Bj)return om;Bj=1,Object.defineProperty(om,"__esModule",{value:!0}),om.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},a=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},u=function(d,h){return h===void 0&&(h={}),s(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,a))};return om.camelCase=u,om}var lm,Fj;function $6e(){if(Fj)return lm;Fj=1;var t=lm&&lm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(O6e()),n=L6e();function r(i,s){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(a[(0,n.camelCase)(l,s)]=u)}),a}return r.default=r,lm=r,lm}var V6e=$6e();const U6e=Is(V6e),cB=uB("end"),Rk=uB("start");function uB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function z6e(t){const e=Rk(t),n=cB(t);if(e&&n)return{start:e,end:n}}function Fm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?qj(t.position):"start"in t||"end"in t?qj(t):"line"in t||"column"in t?QE(t):""}function QE(t){return Gj(t&&t.line)+":"+Gj(t&&t.column)}function qj(t){return QE(t&&t.start)+"-"+QE(t&&t.end)}function Gj(t){return t&&typeof t=="number"?t:1}class Jr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Fm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Jr.prototype.file="";Jr.prototype.name="";Jr.prototype.reason="";Jr.prototype.message="";Jr.prototype.stack="";Jr.prototype.column=void 0;Jr.prototype.line=void 0;Jr.prototype.ancestors=void 0;Jr.prototype.cause=void 0;Jr.prototype.fatal=void 0;Jr.prototype.place=void 0;Jr.prototype.ruleId=void 0;Jr.prototype.source=void 0;const Mk={}.hasOwnProperty,B6e=new Map,F6e=/[A-Z]/g,q6e=new Set(["table","tbody","thead","tfoot","tr"]),G6e=new Set(["td","th"]),dB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function H6e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=eqe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Z6e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Pk:M6e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=fB(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function fB(t,e,n){if(e.type==="element")return K6e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return W6e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return J6e(t,e,n);if(e.type==="mdxjsEsm")return Y6e(t,e);if(e.type==="root")return X6e(t,e,n);if(e.type==="text")return Q6e(t,e)}function K6e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Pk,t.schema=i),t.ancestors.push(e);const s=mB(t,e.tagName,!1),a=tqe(t,e);let l=jk(t,e);return q6e.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!S6e(u):!0})),hB(t,a,s,e),Dk(a,l),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function W6e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}pp(t,e.position)}function Y6e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);pp(t,e.position)}function J6e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Pk,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:mB(t,e.name,!0),a=nqe(t,e),l=jk(t,e);return hB(t,a,s,e),Dk(a,l),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function X6e(t,e,n){const r={};return Dk(r,jk(t,e)),t.create(e,t.Fragment,r,n)}function Q6e(t,e){return e.value}function hB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Dk(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Z6e(t,e,n){return r;function r(i,s,a,l){const d=Array.isArray(a.children)?n:e;return l?d(s,a,l):d(s,a)}}function eqe(t,e){return n;function n(r,i,s,a){const l=Array.isArray(s.children),u=Rk(r);return e(i,s,a,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function tqe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Mk.call(e.properties,i)){const s=rqe(t,i,e.properties[i]);if(s){const[a,l]=s;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&G6e.has(e.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function nqe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else pp(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else pp(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function jk(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:B6e;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const l=fB(t,s,a);l!==void 0&&n.push(l)}return n}function rqe(t,e,n){const r=N6e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?y6e(n):D6e(n)),r.property==="style"){let i=typeof n=="object"?n:iqe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=sqe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?k6e[r.property]||r.property:r.attribute,n]}}function iqe(t,e){try{return U6e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Jr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=dB+"#cannot-parse-style-attribute",i}}function mB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const l=Oj(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=Oj(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Mk.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);pp(t)}function pp(t,e){const n=new Jr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=dB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sqe(t){const e={};let n;for(n in t)Mk.call(t,n)&&(e[aqe(n)]=t[n]);return e}function aqe(t){let e=t.replace(F6e,oqe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function oqe(t){return"-"+t.toLowerCase()}const aS={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lqe={};function cqe(t,e){const n=lqe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pB(t,r,i)}function pB(t,e,n){if(uqe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Hj(t.children,e,n)}return Array.isArray(t)?Hj(t,e,n):""}function Hj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=pB(t[i],e,n);return r.join("")}function uqe(t){return!!(t&&typeof t=="object")}const Kj=document.createElement("i");function Ok(t){const e="&"+t+";";Kj.innerHTML=e;const n=Kj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Da(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function vs(t,e){return t.length>0?(Da(t,t.length,0,e),t):e}const Wj={}.hasOwnProperty;function dqe(t){const e={};let n=-1;for(;++n<t.length;)fqe(e,t[n]);return e}function fqe(t,e){let n;for(n in e){const i=(Wj.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){Wj.call(i,a)||(i[a]=[]);const l=s[a];hqe(i[a],Array.isArray(l)?l:l?[l]:[])}}}function hqe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Da(t,0,0,r)}function gB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Jd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xa=ac(/[A-Za-z]/),Ki=ac(/[\dA-Za-z]/),mqe=ac(/[#-'*+\--9=?A-Z^-~]/);function ZE(t){return t!==null&&(t<32||t===127)}const e1=ac(/\d/),pqe=ac(/[\dA-Fa-f]/),gqe=ac(/[!-/:-@[-`{-~]/);function rt(t){return t!==null&&t<-2}function ki(t){return t!==null&&(t<0||t===32)}function Bt(t){return t===-2||t===-1||t===32}const _qe=ac(new RegExp("\\p{P}|\\p{S}","u")),yqe=ac(/\s/);function ac(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Bf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Ki(t.charCodeAt(n+1))&&Ki(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function un(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return Bt(u)?(t.enter(n),l(u)):e(u)}function l(u){return Bt(u)&&s++<i?(t.consume(u),l):(t.exit(n),e(u))}}const vqe={tokenize:bqe};function bqe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),un(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return rt(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),a)}}const xqe={tokenize:wqe},Yj={tokenize:Sqe};function wqe(t){const e=this,n=[];let r=0,i,s,a;return l;function l(M){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,u,d)(M)}return d(M)}function u(M){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&j();const B=e.events.length;let V=B,N;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){N=e.events[V][1].end;break}I(r);let P=B;for(;P<e.events.length;)e.events[P][1].end={...N},P++;return Da(e.events,V+1,0,e.events.slice(B)),e.events.length=P,d(M)}return l(M)}function d(M){if(r===n.length){if(!i)return _(M);if(i.currentConstruct&&i.currentConstruct.concrete)return S(M);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Yj,h,p)(M)}function h(M){return i&&j(),I(r),_(M)}function p(M){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,S(M)}function _(M){return e.containerState={},t.attempt(Yj,v,S)(M)}function v(M){return r++,n.push([e.currentConstruct,e.containerState]),_(M)}function S(M){if(M===null){i&&j(),I(0),t.consume(M);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),E(M)}function E(M){if(M===null){A(t.exit("chunkFlow"),!0),I(0),t.consume(M);return}return rt(M)?(t.consume(M),A(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(M),E)}function A(M,B){const V=e.sliceStream(M);if(B&&V.push(null),M.previous=s,s&&(s.next=M),s=M,i.defineSkip(M.start),i.write(V),e.parser.lazy[M.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<a&&(!i.events[N][1].end||i.events[N][1].end.offset>a))return;const P=e.events.length;let O=P,D,z;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(D){z=e.events[O][1].end;break}D=!0}for(I(r),N=P;N<e.events.length;)e.events[N][1].end={...z},N++;Da(e.events,O+1,0,e.events.slice(P)),e.events.length=N}}function I(M){let B=n.length;for(;B-- >M;){const V=n[B];e.containerState=V[1],V[0].exit.call(e,t)}n.length=M}function j(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Sqe(t,e,n){return un(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Jj(t){if(t===null||ki(t)||yqe(t))return 1;if(_qe(t))return 2}function Lk(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const t1={name:"attention",resolveAll:Tqe,tokenize:Eqe};function Tqe(t,e){let n=-1,r,i,s,a,l,u,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[r][1].end},_={...t[n][1].start};Xj(p,-u),Xj(_,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=vs(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=vs(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),d=vs(d,Lk(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=vs(d,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=vs(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Da(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Eqe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Jj(r);let s;return a;function a(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;const d=t.exit("attentionSequence"),h=Jj(u),p=!h||h===2&&i||n.includes(u),_=!i||i===2&&h||n.includes(r);return d._open=!!(s===42?p:p&&(i||!_)),d._close=!!(s===42?_:_&&(h||!p)),e(u)}}function Xj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Aqe={name:"autolink",tokenize:kqe};function kqe(t,e,n){let r=0;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return xa(v)?(t.consume(v),a):v===64?n(v):d(v)}function a(v){return v===43||v===45||v===46||Ki(v)?(r=1,l(v)):d(v)}function l(v){return v===58?(t.consume(v),r=0,u):(v===43||v===45||v===46||Ki(v))&&r++<32?(t.consume(v),l):(r=0,d(v))}function u(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):v===null||v===32||v===60||ZE(v)?n(v):(t.consume(v),u)}function d(v){return v===64?(t.consume(v),h):mqe(v)?(t.consume(v),d):n(v)}function h(v){return Ki(v)?p(v):n(v)}function p(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e):_(v)}function _(v){if((v===45||Ki(v))&&r++<63){const S=v===45?_:p;return t.consume(v),S}return n(v)}}const Wb={partial:!0,tokenize:Iqe};function Iqe(t,e,n){return r;function r(s){return Bt(s)?un(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||rt(s)?e(s):n(s)}}const _B={continuation:{tokenize:Nqe},exit:Pqe,name:"blockQuote",tokenize:Cqe};function Cqe(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Bt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Nqe(t,e,n){const r=this;return i;function i(a){return Bt(a)?un(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(_B,e,n)(a)}}function Pqe(t){t.exit("blockQuote")}const yB={name:"characterEscape",tokenize:Rqe};function Rqe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return gqe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const vB={name:"characterReference",tokenize:Mqe};function Mqe(t,e,n){const r=this;let i=0,s,a;return l;function l(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),u}function u(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,a=Ki,h(p))}function d(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=pqe,h):(t.enter("characterReferenceValue"),s=7,a=e1,h(p))}function h(p){if(p===59&&i){const _=t.exit("characterReferenceValue");return a===Ki&&!Ok(r.sliceSerialize(_))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(p)&&i++<s?(t.consume(p),h):n(p)}}const Qj={partial:!0,tokenize:jqe},Zj={concrete:!0,name:"codeFenced",tokenize:Dqe};function Dqe(t,e,n){const r=this,i={partial:!0,tokenize:V};let s=0,a=0,l;return u;function u(N){return d(N)}function d(N){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=N,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(N)}function h(N){return N===l?(a++,t.consume(N),h):a<3?n(N):(t.exit("codeFencedFenceSequence"),Bt(N)?un(t,p,"whitespace")(N):p(N))}function p(N){return N===null||rt(N)?(t.exit("codeFencedFence"),r.interrupt?e(N):t.check(Qj,E,B)(N)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(N))}function _(N){return N===null||rt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(N)):Bt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),un(t,v,"whitespace")(N)):N===96&&N===l?n(N):(t.consume(N),_)}function v(N){return N===null||rt(N)?p(N):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(N))}function S(N){return N===null||rt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(N)):N===96&&N===l?n(N):(t.consume(N),S)}function E(N){return t.attempt(i,B,A)(N)}function A(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),I}function I(N){return s>0&&Bt(N)?un(t,j,"linePrefix",s+1)(N):j(N)}function j(N){return N===null||rt(N)?t.check(Qj,E,B)(N):(t.enter("codeFlowValue"),M(N))}function M(N){return N===null||rt(N)?(t.exit("codeFlowValue"),j(N)):(t.consume(N),M)}function B(N){return t.exit("codeFenced"),e(N)}function V(N,P,O){let D=0;return z;function z(ee){return N.enter("lineEnding"),N.consume(ee),N.exit("lineEnding"),$}function $(ee){return N.enter("codeFencedFence"),Bt(ee)?un(N,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):U(ee)}function U(ee){return ee===l?(N.enter("codeFencedFenceSequence"),q(ee)):O(ee)}function q(ee){return ee===l?(D++,N.consume(ee),q):D>=a?(N.exit("codeFencedFenceSequence"),Bt(ee)?un(N,te,"whitespace")(ee):te(ee)):O(ee)}function te(ee){return ee===null||rt(ee)?(N.exit("codeFencedFence"),P(ee)):O(ee)}}}function jqe(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const oS={name:"codeIndented",tokenize:Lqe},Oqe={partial:!0,tokenize:$qe};function Lqe(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),un(t,s,"linePrefix",5)(d)}function s(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):rt(d)?t.attempt(Oqe,a,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||rt(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function $qe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):rt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):un(t,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):rt(a)?i(a):n(a)}}const Vqe={name:"codeText",previous:zqe,resolve:Uqe,tokenize:Bqe};function Uqe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function zqe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Bqe(t,e,n){let r=0,i,s;return a;function a(p){return t.enter("codeText"),t.enter("codeTextSequence"),l(p)}function l(p){return p===96?(t.consume(p),r++,l):(t.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),u):p===96?(s=t.enter("codeTextSequence"),i=0,h(p)):rt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||rt(p)?(t.exit("codeTextData"),u(p)):(t.consume(p),d)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class Fqe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&cm(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),cm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),cm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);cm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);cm(this.left,n.reverse())}}}function cm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function bB(t){const e={};let n=-1,r,i,s,a,l,u,d;const h=new Fqe(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,qqe(h,n)),n=e[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,n),l.unshift(r),h.splice(i,n-i+1,l))}}return Da(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function qqe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],d={};let h,p,_=-1,v=n,S=0,E=0;const A=[E];for(;v;){for(;t.get(++i)[1]!==v;);s.push(i),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),p&&a.defineSkip(v.start),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),v._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++_<l.length;)l[_][0]==="exit"&&l[_-1][0]==="enter"&&l[_][1].type===l[_-1][1].type&&l[_][1].start.line!==l[_][1].end.line&&(E=_+1,A.push(E),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(a.events=[],v?(v._tokenizer=void 0,v.previous=void 0):A.pop(),_=A.length;_--;){const I=l.slice(A[_],A[_+1]),j=s.pop();u.push([j,j+I.length-1]),t.splice(j,2,I)}for(u.reverse(),_=-1;++_<u.length;)d[S+u[_][0]]=S+u[_][1],S+=u[_][1]-u[_][0]-1;return d}const Gqe={resolve:Kqe,tokenize:Wqe},Hqe={partial:!0,tokenize:Yqe};function Kqe(t){return bB(t),t}function Wqe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):rt(l)?t.check(Hqe,a,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Yqe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),un(t,s,"linePrefix")}function s(a){if(a===null||rt(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function xB(t,e,n,r,i,s,a,l,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return p;function p(I){return I===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(I),t.exit(s),_):I===null||I===32||I===41||ZE(I)?n(I):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),E(I))}function _(I){return I===62?(t.enter(s),t.consume(I),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===62?(t.exit("chunkString"),t.exit(l),_(I)):I===null||I===60||rt(I)?n(I):(t.consume(I),I===92?S:v)}function S(I){return I===60||I===62||I===92?(t.consume(I),v):v(I)}function E(I){return!h&&(I===null||I===41||ki(I))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(I)):h<d&&I===40?(t.consume(I),h++,E):I===41?(t.consume(I),h--,E):I===null||I===32||I===40||ZE(I)?n(I):(t.consume(I),I===92?A:E)}function A(I){return I===40||I===41||I===92?(t.consume(I),E):E(I)}}function wB(t,e,n,r,i,s){const a=this;let l=0,u;return d;function d(v){return t.enter(r),t.enter(i),t.consume(v),t.exit(i),t.enter(s),h}function h(v){return l>999||v===null||v===91||v===93&&!u||v===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(v):v===93?(t.exit(s),t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):rt(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||rt(v)||l++>999?(t.exit("chunkString"),h(v)):(t.consume(v),u||(u=!Bt(v)),v===92?_:p)}function _(v){return v===91||v===92||v===93?(t.consume(v),l++,p):p(v)}}function SB(t,e,n,r,i,s){let a;return l;function l(_){return _===34||_===39||_===40?(t.enter(r),t.enter(i),t.consume(_),t.exit(i),a=_===40?41:_,u):n(_)}function u(_){return _===a?(t.enter(i),t.consume(_),t.exit(i),t.exit(r),e):(t.enter(s),d(_))}function d(_){return _===a?(t.exit(s),u(a)):_===null?n(_):rt(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),un(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===a||_===null||rt(_)?(t.exit("chunkString"),d(_)):(t.consume(_),_===92?p:h)}function p(_){return _===a||_===92?(t.consume(_),h):h(_)}}function qm(t,e){let n;return r;function r(i){return rt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Bt(i)?un(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Jqe={name:"definition",tokenize:Qqe},Xqe={partial:!0,tokenize:Zqe};function Qqe(t,e,n){const r=this;let i;return s;function s(v){return t.enter("definition"),a(v)}function a(v){return wB.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function l(v){return i=Jd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),u):n(v)}function u(v){return ki(v)?qm(t,d)(v):d(v)}function d(v){return xB(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return t.attempt(Xqe,p,p)(v)}function p(v){return Bt(v)?un(t,_,"whitespace")(v):_(v)}function _(v){return v===null||rt(v)?(t.exit("definition"),r.parser.defined.push(i),e(v)):n(v)}}function Zqe(t,e,n){return r;function r(l){return ki(l)?qm(t,i)(l):n(l)}function i(l){return SB(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Bt(l)?un(t,a,"whitespace")(l):a(l)}function a(l){return l===null||rt(l)?e(l):n(l)}}const eGe={name:"hardBreakEscape",tokenize:tGe};function tGe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return rt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const nGe={name:"headingAtx",resolve:rGe,tokenize:iGe};function rGe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Da(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function iGe(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||ki(h)?(t.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(t.enter("atxHeadingSequence"),u(h)):h===null||rt(h)?(t.exit("atxHeading"),e(h)):Bt(h)?un(t,l,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function u(h){return h===35?(t.consume(h),u):(t.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||ki(h)?(t.exit("atxHeadingText"),l(h)):(t.consume(h),d)}}const sGe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eO=["pre","script","style","textarea"],aGe={concrete:!0,name:"htmlFlow",resolveTo:cGe,tokenize:uGe},oGe={partial:!0,tokenize:fGe},lGe={partial:!0,tokenize:dGe};function cGe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function uGe(t,e,n){const r=this;let i,s,a,l,u;return d;function d(H){return h(H)}function h(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),p}function p(H){return H===33?(t.consume(H),_):H===47?(t.consume(H),s=!0,E):H===63?(t.consume(H),i=3,r.interrupt?e:F):xa(H)?(t.consume(H),a=String.fromCharCode(H),A):n(H)}function _(H){return H===45?(t.consume(H),i=2,v):H===91?(t.consume(H),i=5,l=0,S):xa(H)?(t.consume(H),i=4,r.interrupt?e:F):n(H)}function v(H){return H===45?(t.consume(H),r.interrupt?e:F):n(H)}function S(H){const ge="CDATA[";return H===ge.charCodeAt(l++)?(t.consume(H),l===ge.length?r.interrupt?e:U:S):n(H)}function E(H){return xa(H)?(t.consume(H),a=String.fromCharCode(H),A):n(H)}function A(H){if(H===null||H===47||H===62||ki(H)){const ge=H===47,Ee=a.toLowerCase();return!ge&&!s&&eO.includes(Ee)?(i=1,r.interrupt?e(H):U(H)):sGe.includes(a.toLowerCase())?(i=6,ge?(t.consume(H),I):r.interrupt?e(H):U(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?j(H):M(H))}return H===45||Ki(H)?(t.consume(H),a+=String.fromCharCode(H),A):n(H)}function I(H){return H===62?(t.consume(H),r.interrupt?e:U):n(H)}function j(H){return Bt(H)?(t.consume(H),j):z(H)}function M(H){return H===47?(t.consume(H),z):H===58||H===95||xa(H)?(t.consume(H),B):Bt(H)?(t.consume(H),M):z(H)}function B(H){return H===45||H===46||H===58||H===95||Ki(H)?(t.consume(H),B):V(H)}function V(H){return H===61?(t.consume(H),N):Bt(H)?(t.consume(H),V):M(H)}function N(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),u=H,P):Bt(H)?(t.consume(H),N):O(H)}function P(H){return H===u?(t.consume(H),u=null,D):H===null||rt(H)?n(H):(t.consume(H),P)}function O(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||ki(H)?V(H):(t.consume(H),O)}function D(H){return H===47||H===62||Bt(H)?M(H):n(H)}function z(H){return H===62?(t.consume(H),$):n(H)}function $(H){return H===null||rt(H)?U(H):Bt(H)?(t.consume(H),$):n(H)}function U(H){return H===45&&i===2?(t.consume(H),Y):H===60&&i===1?(t.consume(H),X):H===62&&i===4?(t.consume(H),K):H===63&&i===3?(t.consume(H),F):H===93&&i===5?(t.consume(H),be):rt(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(oGe,Q,q)(H)):H===null||rt(H)?(t.exit("htmlFlowData"),q(H)):(t.consume(H),U)}function q(H){return t.check(lGe,te,Q)(H)}function te(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),ee}function ee(H){return H===null||rt(H)?q(H):(t.enter("htmlFlowData"),U(H))}function Y(H){return H===45?(t.consume(H),F):U(H)}function X(H){return H===47?(t.consume(H),a="",fe):U(H)}function fe(H){if(H===62){const ge=a.toLowerCase();return eO.includes(ge)?(t.consume(H),K):U(H)}return xa(H)&&a.length<8?(t.consume(H),a+=String.fromCharCode(H),fe):U(H)}function be(H){return H===93?(t.consume(H),F):U(H)}function F(H){return H===62?(t.consume(H),K):H===45&&i===2?(t.consume(H),F):U(H)}function K(H){return H===null||rt(H)?(t.exit("htmlFlowData"),Q(H)):(t.consume(H),K)}function Q(H){return t.exit("htmlFlow"),e(H)}}function dGe(t,e,n){const r=this;return i;function i(a){return rt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function fGe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Wb,e,n)}}const hGe={name:"htmlText",tokenize:mGe};function mGe(t,e,n){const r=this;let i,s,a;return l;function l(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),u}function u(F){return F===33?(t.consume(F),d):F===47?(t.consume(F),V):F===63?(t.consume(F),M):xa(F)?(t.consume(F),O):n(F)}function d(F){return F===45?(t.consume(F),h):F===91?(t.consume(F),s=0,S):xa(F)?(t.consume(F),j):n(F)}function h(F){return F===45?(t.consume(F),v):n(F)}function p(F){return F===null?n(F):F===45?(t.consume(F),_):rt(F)?(a=p,X(F)):(t.consume(F),p)}function _(F){return F===45?(t.consume(F),v):p(F)}function v(F){return F===62?Y(F):F===45?_(F):p(F)}function S(F){const K="CDATA[";return F===K.charCodeAt(s++)?(t.consume(F),s===K.length?E:S):n(F)}function E(F){return F===null?n(F):F===93?(t.consume(F),A):rt(F)?(a=E,X(F)):(t.consume(F),E)}function A(F){return F===93?(t.consume(F),I):E(F)}function I(F){return F===62?Y(F):F===93?(t.consume(F),I):E(F)}function j(F){return F===null||F===62?Y(F):rt(F)?(a=j,X(F)):(t.consume(F),j)}function M(F){return F===null?n(F):F===63?(t.consume(F),B):rt(F)?(a=M,X(F)):(t.consume(F),M)}function B(F){return F===62?Y(F):M(F)}function V(F){return xa(F)?(t.consume(F),N):n(F)}function N(F){return F===45||Ki(F)?(t.consume(F),N):P(F)}function P(F){return rt(F)?(a=P,X(F)):Bt(F)?(t.consume(F),P):Y(F)}function O(F){return F===45||Ki(F)?(t.consume(F),O):F===47||F===62||ki(F)?D(F):n(F)}function D(F){return F===47?(t.consume(F),Y):F===58||F===95||xa(F)?(t.consume(F),z):rt(F)?(a=D,X(F)):Bt(F)?(t.consume(F),D):Y(F)}function z(F){return F===45||F===46||F===58||F===95||Ki(F)?(t.consume(F),z):$(F)}function $(F){return F===61?(t.consume(F),U):rt(F)?(a=$,X(F)):Bt(F)?(t.consume(F),$):D(F)}function U(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),i=F,q):rt(F)?(a=U,X(F)):Bt(F)?(t.consume(F),U):(t.consume(F),te)}function q(F){return F===i?(t.consume(F),i=void 0,ee):F===null?n(F):rt(F)?(a=q,X(F)):(t.consume(F),q)}function te(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||ki(F)?D(F):(t.consume(F),te)}function ee(F){return F===47||F===62||ki(F)?D(F):n(F)}function Y(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function X(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),fe}function fe(F){return Bt(F)?un(t,be,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):be(F)}function be(F){return t.enter("htmlTextData"),a(F)}}const $k={name:"labelEnd",resolveAll:yGe,resolveTo:vGe,tokenize:bGe},pGe={tokenize:xGe},gGe={tokenize:wGe},_Ge={tokenize:SGe};function yGe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Da(t,0,t.length,n),t}function vGe(t,e){let n=t.length,r=0,i,s,a,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=vs(l,t.slice(s+1,s+r+3)),l=vs(l,[["enter",h,e]]),l=vs(l,Lk(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),l=vs(l,[["exit",h,e],t[a-2],t[a-1],["exit",d,e]]),l=vs(l,t.slice(a+1)),l=vs(l,[["exit",u,e]]),Da(t,s,t.length,l),t}function bGe(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(_){return s?s._inactive?p(_):(a=r.parser.defined.includes(Jd(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),u):n(_)}function u(_){return _===40?t.attempt(pGe,h,a?h:p)(_):_===91?t.attempt(gGe,h,a?d:p)(_):a?h(_):p(_)}function d(_){return t.attempt(_Ge,h,p)(_)}function h(_){return e(_)}function p(_){return s._balanced=!0,n(_)}}function xGe(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return ki(p)?qm(t,s)(p):s(p)}function s(p){return p===41?h(p):xB(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return ki(p)?qm(t,u)(p):h(p)}function l(p){return n(p)}function u(p){return p===34||p===39||p===40?SB(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return ki(p)?qm(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function wGe(t,e,n){const r=this;return i;function i(l){return wB.call(r,t,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Jd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function SGe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const TGe={name:"labelStartImage",resolveAll:$k.resolveAll,tokenize:EGe};function EGe(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const AGe={name:"labelStartLink",resolveAll:$k.resolveAll,tokenize:kGe};function kGe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const lS={name:"lineEnding",tokenize:IGe};function IGe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),un(t,e,"linePrefix")}}const Ly={name:"thematicBreak",tokenize:CGe};function CGe(t,e,n){let r=0,i;return s;function s(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||rt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),Bt(d)?un(t,l,"whitespace")(d):l(d))}}const gi={continuation:{tokenize:MGe},exit:jGe,name:"list",tokenize:RGe},NGe={partial:!0,tokenize:OGe},PGe={partial:!0,tokenize:DGe};function RGe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(v){const S=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:e1(v)){if(r.containerState.type||(r.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(Ly,n,d)(v):d(v);if(!r.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(v)}return n(v)}function u(v){return e1(v)&&++a<10?(t.consume(v),u):(!r.interrupt||a<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),d(v)):n(v)}function d(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,t.check(Wb,r.interrupt?n:h,t.attempt(NGe,_,p))}function h(v){return r.containerState.initialBlankLine=!0,s++,_(v)}function p(v){return Bt(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),_):n(v)}function _(v){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(v)}}function MGe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Wb,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Bt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(PGe,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(t,t.attempt(gi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function DGe(t,e,n){const r=this;return un(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function jGe(t){t.exit(this.containerState.type)}function OGe(t,e,n){const r=this;return un(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Bt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const tO={name:"setextUnderline",resolveTo:LGe,tokenize:$Ge};function LGe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function $Ge(t,e,n){const r=this;let i;return s;function s(d){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Bt(d)?un(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||rt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const VGe={tokenize:UGe};function UGe(t){const e=this,n=t.attempt(Wb,r,t.attempt(this.parser.constructs.flowInitial,i,un(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Gqe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const zGe={resolveAll:EB()},BGe=TB("string"),FGe=TB("text");function TB(t){return{resolveAll:EB(t==="text"?qGe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,l);return a;function a(h){return d(h)?s(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return d(h)?(n.exit("data"),s(h)):(n.consume(h),u)}function d(h){if(h===null)return!0;const p=i[h];let _=-1;if(p)for(;++_<p.length;){const v=p[_];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function EB(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function qGe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,l=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)u=!0,l++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const GGe={42:gi,43:gi,45:gi,48:gi,49:gi,50:gi,51:gi,52:gi,53:gi,54:gi,55:gi,56:gi,57:gi,62:_B},HGe={91:Jqe},KGe={[-2]:oS,[-1]:oS,32:oS},WGe={35:nGe,42:Ly,45:[tO,Ly],60:aGe,61:tO,95:Ly,96:Zj,126:Zj},YGe={38:vB,92:yB},JGe={[-5]:lS,[-4]:lS,[-3]:lS,33:TGe,38:vB,42:t1,60:[Aqe,hGe],91:AGe,92:[eGe,yB],93:$k,95:t1,96:Vqe},XGe={null:[t1,zGe]},QGe={null:[42,95]},ZGe={null:[]},e9e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:QGe,contentInitial:HGe,disable:ZGe,document:GGe,flow:WGe,flowInitial:KGe,insideSpan:XGe,string:YGe,text:JGe},Symbol.toStringTag,{value:"Module"}));function t9e(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const u={attempt:P(V),check:P(N),consume:j,enter:M,exit:B,interrupt:P(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:E,events:[],now:S,parser:t,previous:null,sliceSerialize:_,sliceStream:v,write:p};let h=e.tokenize.call(d,u);return e.resolveAll&&s.push(e),d;function p($){return a=vs(a,$),A(),a[a.length-1]!==null?[]:(O(e,0),d.events=Lk(s,d.events,d),d.events)}function _($,U){return r9e(v($),U)}function v($){return n9e(a,$)}function S(){const{_bufferIndex:$,_index:U,line:q,column:te,offset:ee}=r;return{_bufferIndex:$,_index:U,line:q,column:te,offset:ee}}function E($){i[$.line]=$.column,z()}function A(){let $;for(;r._index<a.length;){const U=a[r._index];if(typeof U=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<U.length;)I(U.charCodeAt(r._bufferIndex));else I(U)}}function I($){h=h($)}function j($){rt($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,z()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=$}function M($,U){const q=U||{};return q.type=$,q.start=S(),d.events.push(["enter",q,d]),l.push(q),q}function B($){const U=l.pop();return U.end=S(),d.events.push(["exit",U,d]),U}function V($,U){O($,U.from)}function N($,U){U.restore()}function P($,U){return q;function q(te,ee,Y){let X,fe,be,F;return Array.isArray(te)?Q(te):"tokenize"in te?Q([te]):K(te);function K(se){return re;function re($e){const ae=$e!==null&&se[$e],Re=$e!==null&&se.null,Me=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return Q(Me)($e)}}function Q(se){return X=se,fe=0,se.length===0?Y:H(se[fe])}function H(se){return re;function re($e){return F=D(),be=se,se.partial||(d.currentConstruct=se),se.name&&d.parser.constructs.disable.null.includes(se.name)?Ee():se.tokenize.call(U?Object.assign(Object.create(d),U):d,u,ge,Ee)($e)}}function ge(se){return $(be,F),ee}function Ee(se){return F.restore(),++fe<X.length?H(X[fe]):Y}}}function O($,U){$.resolveAll&&!s.includes($)&&s.push($),$.resolve&&Da(d.events,U,d.events.length-U,$.resolve(d.events.slice(U),d)),$.resolveTo&&(d.events=$.resolveTo(d.events,d))}function D(){const $=S(),U=d.previous,q=d.currentConstruct,te=d.events.length,ee=Array.from(l);return{from:te,restore:Y};function Y(){r=$,d.previous=U,d.currentConstruct=q,d.events.length=te,l=ee,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function n9e(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function r9e(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function i9e(t){const r={constructs:dqe([e9e,...(t||{}).extensions||[]]),content:i(vqe),defined:[],document:i(xqe),flow:i(VGe),lazy:{},string:i(BGe),text:i(FGe)};return r;function i(s){return a;function a(l){return t9e(r,s,l)}}}function s9e(t){for(;!bB(t););return t}const nO=/[\0\t\n\r]/g;function a9e(){let t=1,e="",n=!0,r;return i;function i(s,a,l){const u=[];let d,h,p,_,v;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,e="",n&&(s.charCodeAt(0)===65279&&p++,n=void 0);p<s.length;){if(nO.lastIndex=p,d=nO.exec(s),_=d&&d.index!==void 0?d.index:s.length,v=s.charCodeAt(_),!d){e=s.slice(p);break}if(v===10&&p===_&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<_&&(u.push(s.slice(p,_)),t+=_-p),v){case 0:{u.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,u.push(-2);t++<h;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}p=_+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const o9e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function l9e(t){return t.replace(o9e,c9e)}function c9e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return gB(n.slice(s?2:1),s?16:10)}return Ok(n)||t}const AB={}.hasOwnProperty;function u9e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),d9e(n)(s9e(i9e(n).document().write(a9e()(t,e,!0))))}function d9e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Fe),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(mt),blockQuote:s(Re),characterEscape:D,characterReference:D,codeFenced:s(Me),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Me,a),codeText:s(le,a),codeTextData:D,data:D,codeFlowValue:D,definition:s(nt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Ge),hardBreakEscape:s(pt),hardBreakTrailing:s(pt),htmlFlow:s(Pt,a),htmlFlowData:D,htmlText:s(Pt,a),htmlTextData:D,image:s(vt),label:a,link:s(Fe),listItem:s(ot),listItemValue:_,listOrdered:s(Ae,p),listUnordered:s(Ae),paragraph:s(Er),reference:H,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(mt),strong:s(Lr),thematicBreak:s(ea)},exit:{atxHeading:u(),atxHeadingSequence:V,autolink:u(),autolinkEmail:ae,autolinkProtocol:$e,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:se,characterReference:re,codeFenced:u(A),codeFencedFence:E,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:z,codeIndented:u(I),codeText:u(ee),codeTextData:z,data:z,definition:u(),definitionDestinationString:B,definitionLabelString:j,definitionTitleString:M,emphasis:u(),hardBreakEscape:u(U),hardBreakTrailing:u(U),htmlFlow:u(q),htmlFlowData:z,htmlText:u(te),htmlTextData:z,image:u(X),label:be,labelText:fe,lineEnding:$,link:u(Y),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ge,resourceDestinationString:F,resourceTitleString:K,resource:Q,setextHeading:u(O),setextHeadingLineSequence:P,setextHeadingText:N,strong:u(),thematicBreak:u()}};kB(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ve){let Ne={type:"root",children:[]};const Qe={stack:[Ne],tokenStack:[],config:e,enter:l,exit:d,buffer:a,resume:h,data:n},gt=[];let Dt=-1;for(;++Dt<ve.length;)if(ve[Dt][1].type==="listOrdered"||ve[Dt][1].type==="listUnordered")if(ve[Dt][0]==="enter")gt.push(Dt);else{const Ar=gt.pop();Dt=i(ve,Ar,Dt)}for(Dt=-1;++Dt<ve.length;){const Ar=e[ve[Dt][0]];AB.call(Ar,ve[Dt][1].type)&&Ar[ve[Dt][1].type].call(Object.assign({sliceSerialize:ve[Dt][2].sliceSerialize},Qe),ve[Dt][1])}if(Qe.tokenStack.length>0){const Ar=Qe.tokenStack[Qe.tokenStack.length-1];(Ar[1]||rO).call(Qe,void 0,Ar[0])}for(Ne.position={start:Al(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Al(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},Dt=-1;++Dt<e.transforms.length;)Ne=e.transforms[Dt](Ne)||Ne;return Ne}function i(ve,Ne,Qe){let gt=Ne-1,Dt=-1,Ar=!1,Pi,Nn,bn,ir;for(;++gt<=Qe;){const Tt=ve[gt];switch(Tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tt[0]==="enter"?Dt++:Dt--,ir=void 0;break}case"lineEndingBlank":{Tt[0]==="enter"&&(Pi&&!ir&&!Dt&&!bn&&(bn=gt),ir=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ir=void 0}if(!Dt&&Tt[0]==="enter"&&Tt[1].type==="listItemPrefix"||Dt===-1&&Tt[0]==="exit"&&(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered")){if(Pi){let es=gt;for(Nn=void 0;es--;){const kr=ve[es];if(kr[1].type==="lineEnding"||kr[1].type==="lineEndingBlank"){if(kr[0]==="exit")continue;Nn&&(ve[Nn][1].type="lineEndingBlank",Ar=!0),kr[1].type="lineEnding",Nn=es}else if(!(kr[1].type==="linePrefix"||kr[1].type==="blockQuotePrefix"||kr[1].type==="blockQuotePrefixWhitespace"||kr[1].type==="blockQuoteMarker"||kr[1].type==="listItemIndent"))break}bn&&(!Nn||bn<Nn)&&(Pi._spread=!0),Pi.end=Object.assign({},Nn?ve[Nn][1].start:Tt[1].end),ve.splice(Nn||gt,0,["exit",Pi,Tt[2]]),gt++,Qe++}if(Tt[1].type==="listItemPrefix"){const es={type:"listItem",_spread:!1,start:Object.assign({},Tt[1].start),end:void 0};Pi=es,ve.splice(gt,0,["enter",es,Tt[2]]),gt++,Qe++,bn=void 0,ir=!0}}}return ve[Ne][1]._spread=Ar,Qe}function s(ve,Ne){return Qe;function Qe(gt){l.call(this,ve(gt),gt),Ne&&Ne.call(this,gt)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ve,Ne,Qe){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Ne,Qe||void 0]),ve.position={start:Al(Ne.start),end:void 0}}function u(ve){return Ne;function Ne(Qe){ve&&ve.call(this,Qe),d.call(this,Qe)}}function d(ve,Ne){const Qe=this.stack.pop(),gt=this.tokenStack.pop();if(gt)gt[0].type!==ve.type&&(Ne?Ne.call(this,ve,gt[0]):(gt[1]||rO).call(this,ve,gt[0]));else throw new Error("Cannot close `"+ve.type+"` ("+Fm({start:ve.start,end:ve.end})+"): its not open");Qe.position.end=Al(ve.end)}function h(){return cqe(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function _(ve){if(this.data.expectingFirstListItemValue){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=ve}function S(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=ve}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve.replace(/(\r?\n|\r)$/g,"")}function j(ve){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=Ne,Qe.identifier=Jd(this.sliceSerialize(ve)).toLowerCase()}function M(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ve}function B(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ve}function V(ve){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const Qe=this.sliceSerialize(ve).length;Ne.depth=Qe}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(ve){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ve){const Qe=this.stack[this.stack.length-1].children;let gt=Qe[Qe.length-1];(!gt||gt.type!=="text")&&(gt=vn(),gt.position={start:Al(ve.start),end:void 0},Qe.push(gt)),this.stack.push(gt)}function z(ve){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(ve),Ne.position.end=Al(ve.end)}function $(ve){const Ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Qe=Ne.children[Ne.children.length-1];Qe.position.end=Al(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ne.type)&&(D.call(this,ve),z.call(this,ve))}function U(){this.data.atHardBreak=!0}function q(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve}function te(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve}function ee(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve}function Y(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ne,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function X(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ne=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ne,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function fe(ve){const Ne=this.sliceSerialize(ve),Qe=this.stack[this.stack.length-2];Qe.label=l9e(Ne),Qe.identifier=Jd(Ne).toLowerCase()}function be(){const ve=this.stack[this.stack.length-1],Ne=this.resume(),Qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Qe.type==="link"){const gt=ve.children;Qe.children=gt}else Qe.alt=Ne}function F(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ve}function K(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ve}function Q(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function ge(ve){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=Ne,Qe.identifier=Jd(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function Ee(ve){this.data.characterReferenceType=ve.type}function se(ve){const Ne=this.sliceSerialize(ve),Qe=this.data.characterReferenceType;let gt;Qe?(gt=gB(Ne,Qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gt=Ok(Ne);const Dt=this.stack[this.stack.length-1];Dt.value+=gt}function re(ve){const Ne=this.stack.pop();Ne.position.end=Al(ve.end)}function $e(ve){z.call(this,ve);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(ve)}function ae(ve){z.call(this,ve);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(ve)}function Re(){return{type:"blockquote",children:[]}}function Me(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ge(){return{type:"emphasis",children:[]}}function mt(){return{type:"heading",depth:0,children:[]}}function pt(){return{type:"break"}}function Pt(){return{type:"html",value:""}}function vt(){return{type:"image",title:null,url:"",alt:null}}function Fe(){return{type:"link",title:null,url:"",children:[]}}function Ae(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function ot(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Er(){return{type:"paragraph",children:[]}}function Lr(){return{type:"strong",children:[]}}function vn(){return{type:"text",value:""}}function ea(){return{type:"thematicBreak"}}}function Al(t){return{line:t.line,column:t.column,offset:t.offset}}function kB(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?kB(t,r):f9e(t,r)}}function f9e(t,e){let n;for(n in e)if(AB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function rO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Fm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Fm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Fm({start:e.start,end:e.end})+") is still open")}function h9e(t){const e=this;e.parser=n;function n(r){return u9e(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function m9e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function p9e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function g9e(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function _9e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function y9e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function v9e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Bf(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function b9e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function x9e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function IB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function w9e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return IB(t,e);const i={src:Bf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function S9e(t,e){const n={src:Bf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function T9e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function E9e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return IB(t,e);const i={href:Bf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function A9e(t,e){const n={href:Bf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function k9e(t,e,n){const r=t.all(e),i=n?I9e(n):CB(e),s={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,d),t.applyData(e,d)}function I9e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=CB(n[r])}return e}function CB(t){const e=t.spread;return e??t.children.length>1}function C9e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function N9e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function P9e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function R9e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function M9e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Rk(e.children[1]),u=cB(e.children[e.children.length-1]);l&&u&&(a.position={start:l,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function D9e(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const p=e.children[u],_={},v=a?a[u]:void 0;v&&(_.align=v);let S={type:"element",tagName:s,properties:_,children:[]};p&&(S.children=t.all(p),t.patch(p,S),S=t.applyData(p,S)),d.push(S)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function j9e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const iO=9,sO=32;function O9e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(aO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(aO(e.slice(i),i>0,!1)),s.join("")}function aO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===iO||s===sO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===iO||s===sO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function L9e(t,e){const n={type:"text",value:O9e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function $9e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const V9e={blockquote:m9e,break:p9e,code:g9e,delete:_9e,emphasis:y9e,footnoteReference:v9e,heading:b9e,html:x9e,imageReference:w9e,image:S9e,inlineCode:T9e,linkReference:E9e,link:A9e,listItem:k9e,list:C9e,paragraph:N9e,root:P9e,strong:R9e,table:M9e,tableCell:j9e,tableRow:D9e,text:L9e,thematicBreak:$9e,toml:X_,yaml:X_,definition:X_,footnoteDefinition:X_};function X_(){}const NB=-1,Yb=0,Gm=1,wv=2,Vk=3,Uk=4,zk=5,Bk=6,PB=7,RB=8,oO=typeof self=="object"?self:globalThis,U9e=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case Yb:case NB:return n(a,i);case Gm:{const l=n([],i);for(const u of a)l.push(r(u));return l}case wv:{const l=n({},i);for(const[u,d]of a)l[r(u)]=r(d);return l}case Vk:return n(new Date(a),i);case Uk:{const{source:l,flags:u}=a;return n(new RegExp(l,u),i)}case zk:{const l=n(new Map,i);for(const[u,d]of a)l.set(r(u),r(d));return l}case Bk:{const l=n(new Set,i);for(const u of a)l.add(r(u));return l}case PB:{const{name:l,message:u}=a;return n(new oO[l](u),i)}case RB:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new oO[s](a),i)};return r},lO=t=>U9e(new Map,t)(0),Id="",{toString:z9e}={},{keys:B9e}=Object,um=t=>{const e=typeof t;if(e!=="object"||!t)return[Yb,e];const n=z9e.call(t).slice(8,-1);switch(n){case"Array":return[Gm,Id];case"Object":return[wv,Id];case"Date":return[Vk,Id];case"RegExp":return[Uk,Id];case"Map":return[zk,Id];case"Set":return[Bk,Id];case"DataView":return[Gm,n]}return n.includes("Array")?[Gm,n]:n.includes("Error")?[PB,n]:[wv,n]},Q_=([t,e])=>t===Yb&&(e==="function"||e==="symbol"),F9e=(t,e,n,r)=>{const i=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},s=a=>{if(n.has(a))return n.get(a);let[l,u]=um(a);switch(l){case Yb:{let h=a;switch(u){case"bigint":l=RB,h=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([NB],a)}return i([l,h],a)}case Gm:{if(u){let _=a;return u==="DataView"?_=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(_=new Uint8Array(a)),i([u,[..._]],a)}const h=[],p=i([l,h],a);for(const _ of a)h.push(s(_));return p}case wv:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const h=[],p=i([l,h],a);for(const _ of B9e(a))(t||!Q_(um(a[_])))&&h.push([s(_),s(a[_])]);return p}case Vk:return i([l,a.toISOString()],a);case Uk:{const{source:h,flags:p}=a;return i([l,{source:h,flags:p}],a)}case zk:{const h=[],p=i([l,h],a);for(const[_,v]of a)(t||!(Q_(um(_))||Q_(um(v))))&&h.push([s(_),s(v)]);return p}case Bk:{const h=[],p=i([l,h],a);for(const _ of a)(t||!Q_(um(_)))&&h.push(s(_));return p}}const{message:d}=a;return i([l,{name:u,message:d}],a)};return s},cO=(t,{json:e,lossy:n}={})=>{const r=[];return F9e(!(e||n),!!e,new Map,r)(t),r},Sv=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?lO(cO(t,e)):structuredClone(t):(t,e)=>lO(cO(t,e));function q9e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function G9e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function H9e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||q9e,r=t.options.footnoteBackLabel||G9e,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const h=t.all(d),p=String(d.identifier).toUpperCase(),_=Bf(p.toLowerCase());let v=0;const S=[],E=t.footnoteCounts.get(p);for(;E!==void 0&&++v<=E;){S.length>0&&S.push({type:"text",value:" "});let j=typeof n=="string"?n:n(u,v);typeof j=="string"&&(j={type:"text",value:j}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const A=h[h.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const j=A.children[A.children.length-1];j&&j.type==="text"?j.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...S)}else h.push(...S);const I={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(h,!0)};t.patch(d,I),l.push(I)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Sv(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const MB=(function(t){if(t==null)return J9e;if(typeof t=="function")return Jb(t);if(typeof t=="object")return Array.isArray(t)?K9e(t):W9e(t);if(typeof t=="string")return Y9e(t);throw new Error("Expected function, string, or object as test")});function K9e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=MB(t[n]);return Jb(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function W9e(t){const e=t;return Jb(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Y9e(t){return Jb(e);function e(n){return n&&n.type===t}}function Jb(t){return e;function e(n,r,i){return!!(X9e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function J9e(){return!0}function X9e(t){return t!==null&&typeof t=="object"&&"type"in t}const DB=[],Q9e=!0,uO=!1,Z9e="skip";function e8e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=MB(i),a=r?-1:1;l(t,void 0,[])();function l(u,d,h){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return _;function _(){let v=DB,S,E,A;if((!e||s(u,d,h[h.length-1]||void 0))&&(v=t8e(n(u,h)),v[0]===uO))return v;if("children"in u&&u.children){const I=u;if(I.children&&v[0]!==Z9e)for(E=(r?I.children.length:-1)+a,A=h.concat(I);E>-1&&E<I.children.length;){const j=I.children[E];if(S=l(j,E,A)(),S[0]===uO)return S;E=typeof S[1]=="number"?S[1]:E+a}}return v}}}function t8e(t){return Array.isArray(t)?t:typeof t=="number"?[Q9e,t]:t==null?DB:[t]}function jB(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),e8e(t,s,l,i);function l(u,d){const h=d[d.length-1],p=h?h.children.indexOf(u):void 0;return a(u,p,h)}}const n1={}.hasOwnProperty,n8e={};function r8e(t,e){const n=e||n8e,r=new Map,i=new Map,s=new Map,a={...V9e,...n.handlers},l={all:d,applyData:s8e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:i8e,wrap:o8e};return jB(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,_=String(h.identifier).toUpperCase();p.has(_)||p.set(_,h)}}),l;function u(h,p){const _=h.type,v=l.handlers[_];if(n1.call(l.handlers,_)&&v)return v(l,h,p);if(l.options.passThrough&&l.options.passThrough.includes(_)){if("children"in h){const{children:E,...A}=h,I=Sv(A);return I.children=l.all(h),I}return Sv(h)}return(l.options.unknownHandler||a8e)(l,h,p)}function d(h){const p=[];if("children"in h){const _=h.children;let v=-1;for(;++v<_.length;){const S=l.one(_[v],h);if(S){if(v&&_[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=dO(S.value)),!Array.isArray(S)&&S.type==="element")){const E=S.children[0];E&&E.type==="text"&&(E.value=dO(E.value))}Array.isArray(S)?p.push(...S):p.push(S)}}}return p}}function i8e(t,e){t.position&&(e.position=z6e(t))}function s8e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Sv(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function a8e(t,e){const n=e.data||{},r="value"in e&&!(n1.call(n,"hProperties")||n1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function o8e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function dO(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function fO(t,e){const n=r8e(t,e),r=n.one(t,void 0),i=H9e(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function l8e(t,e){return t&&"run"in t?async function(n,r){const i=fO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return fO(n,{file:r,...t||e})}}function hO(t){if(t)throw t}var cS,mO;function c8e(){if(mO)return cS;mO=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var _;for(_ in d);return typeof _>"u"||t.call(d,_)},a=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return cS=function u(){var d,h,p,_,v,S,E=arguments[0],A=1,I=arguments.length,j=!1;for(typeof E=="boolean"&&(j=E,E=arguments[1]||{},A=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});A<I;++A)if(d=arguments[A],d!=null)for(h in d)p=l(E,h),_=l(d,h),E!==_&&(j&&_&&(s(_)||(v=i(_)))?(v?(v=!1,S=p&&i(p)?p:[]):S=p&&s(p)?p:{},a(E,{name:h,newValue:u(j,S,_)})):typeof _<"u"&&a(E,{name:h,newValue:_}));return E},cS}var u8e=c8e();const uS=Is(u8e);function r1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function d8e(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...d){const h=t[++s];let p=-1;if(u){a(u);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?f8e(h,l)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function f8e(t,e){let n;return r;function r(...a){const l=t.length>a.length;let u;l&&a.push(i);try{u=t.apply(this,a)}catch(d){const h=d;if(l&&n)throw h;return i(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...l){n||(n=!0,e(a,...l))}function s(a){i(null,a)}}const ya={basename:h8e,dirname:m8e,extname:p8e,join:g8e,sep:"/"};function h8e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Zp(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function m8e(t){if(Zp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function p8e(t){Zp(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function g8e(...t){let e=-1,n;for(;++e<t.length;)Zp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_8e(n)}function _8e(t){Zp(t);const e=t.codePointAt(0)===47;let n=y8e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function y8e(t,e){let n="",r=0,i=-1,s=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function Zp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const v8e={cwd:b8e};function b8e(){return"/"}function i1(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function x8e(t){if(typeof t=="string")t=new URL(t);else if(!i1(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return w8e(t)}function w8e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const dS=["history","path","basename","stem","extname","dirname"];class OB{constructor(e){let n;e?i1(e)?n={path:e}:typeof e=="string"||S8e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":v8e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<dS.length;){const s=dS[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)dS.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ya.basename(this.path):void 0}set basename(e){hS(e,"basename"),fS(e,"basename"),this.path=ya.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ya.dirname(this.path):void 0}set dirname(e){pO(this.basename,"dirname"),this.path=ya.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ya.extname(this.path):void 0}set extname(e){if(fS(e,"extname"),pO(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ya.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){i1(e)&&(e=x8e(e)),hS(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ya.basename(this.path,this.extname):void 0}set stem(e){hS(e,"stem"),fS(e,"stem"),this.path=ya.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Jr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function fS(t,e){if(t&&t.includes(ya.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ya.sep+"`")}function hS(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function pO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function S8e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const T8e=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),E8e={}.hasOwnProperty;class Fk extends T8e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=d8e()}copy(){const e=new Fk;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(uS(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gS("data",this.frozen),this.namespace[e]=n,this):E8e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gS("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Z_(e),r=this.parser||this.Parser;return mS("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),mS("process",this.parser||this.Parser),pS("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=Z_(e),u=r.parse(l);r.run(u,l,function(h,p,_){if(h||!p||!_)return d(h);const v=p,S=r.stringify(v,_);I8e(S)?_.value=S:_.result=S,d(h,_)});function d(h,p){h||!p?a(h):s?s(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),mS("processSync",this.parser||this.Parser),pS("processSync",this.compiler||this.Compiler),this.process(e,i),_O("processSync","process",n),r;function i(s,a){n=!0,hO(s),r=a}}run(e,n,r){gO(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const u=Z_(n);i.run(e,u,d);function d(h,p,_){const v=p||e;h?l(h):a?a(v):r(void 0,v,_)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),_O("runSync","run",r),i;function s(a,l){hO(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=Z_(n),i=this.compiler||this.Compiler;return pS("stringify",i),gO(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(gS("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;u(h,p)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=uS(!0,i.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let p=-1,_=-1;for(;++p<r.length;)if(r[p][0]===d){_=p;break}if(_===-1)r.push([d,...h]);else if(h.length>0){let[v,...S]=h;const E=r[_][1];r1(E)&&r1(v)&&(v=uS(!0,E,v)),r[_]=[d,v,...S]}}}}const A8e=new Fk().freeze();function mS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function pS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gS(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gO(t){if(!r1(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function _O(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Z_(t){return k8e(t)?t:new OB(t)}function k8e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function I8e(t){return typeof t=="string"||C8e(t)}function C8e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const N8e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",yO=[],vO={allowDangerousHtml:!0},P8e=/^(https?|ircs?|mailto|xmpp)$/i,R8e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function si(t){const e=M8e(t),n=D8e(t);return j8e(e.runSync(e.parse(n),n),t)}function M8e(t){const e=t.rehypePlugins||yO,n=t.remarkPlugins||yO,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...vO}:vO;return A8e().use(h9e).use(n).use(l8e,r).use(e)}function D8e(t){const e=t.children||"",n=new OB;return typeof e=="string"&&(n.value=e),n}function j8e(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||O8e;for(const h of R8e)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+N8e+h.id,void 0);return jB(t,d),H6e(t,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function d(h,p,_){if(h.type==="raw"&&_&&typeof p=="number")return a?_.children.splice(p,1):_.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let v;for(v in aS)if(Object.hasOwn(aS,v)&&Object.hasOwn(h.properties,v)){const S=h.properties[v],E=aS[v];(E===null||E.includes(h.tagName))&&(h.properties[v]=u(String(S||""),v,h))}}if(h.type==="element"){let v=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(h,p,_)),v&&_&&typeof p=="number")return l&&h.children?_.children.splice(p,1,...h.children):_.children.splice(p,1),p}}}function O8e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||P8e.test(t.slice(0,e))?t:""}const L8e=()=>{const[t,e]=k.useState(!1),[n,r]=k.useState([]),[i,s]=k.useState(""),[a,l]=k.useState(!1),u=k.useRef(null),d=k.useRef(null),{language:h,t:p}=Xe();k.useEffect(()=>{t&&!u.current&&(u.current=_6e(h),l(!0),u.current.sendMessage({message:"Start"}).then(S=>{r([{role:"model",text:S.text.replace(`Start
`,"")}])}).catch(S=>{console.error(S),r([{role:"model",text:"Sorry, de help-assistent is momenteel niet beschikbaar."}])}).finally(()=>{l(!1)}))},[t,h]),k.useEffect(()=>{var S;(S=d.current)==null||S.scrollIntoView({behavior:"smooth"})},[n,a]);const _=async S=>{if(S.trim()===""||!u.current||a)return;const E={role:"user",text:S};r(A=>[...A,E]),s(""),l(!0);try{const I={role:"model",text:(await u.current.sendMessage({message:S})).text};r(j=>[...j,I])}catch(A){console.error("Error sending chat message:",A);const I={role:"model",text:"Mijn excuses, er is een fout opgetreden. Probeer het alstublieft opnieuw."};r(j=>[...j,I])}finally{l(!1)}},v=[p("quick_reply_log_sale"),p("quick_reply_add_member"),p("quick_reply_generate_pitch"),p("quick_reply_manage_clients")];return f.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:t?f.jsxs("div",{className:"bg-brand-surface rounded-xl shadow-2xl w-full max-w-md h-[70vh] flex flex-col animate-slide-in-bottom-right",children:[f.jsxs("div",{className:"p-4 border-b border-brand-border flex justify-between items-center flex-shrink-0",children:[f.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[f.jsx(cD,{className:"w-6 h-6 mr-2 text-brand-primary"}),p("help_assistant_title")]}),f.jsx("button",{onClick:()=>e(!1),className:"text-3xl font-light text-brand-text-secondary hover:text-brand-text-primary",children:""})]}),f.jsxs("div",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:[n.map((S,E)=>f.jsxs("div",{className:`flex items-start gap-3 ${S.role==="user"?"justify-end":""}`,children:[S.role==="model"&&f.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary flex items-center justify-center text-white flex-shrink-0 text-sm font-bold",children:"AI"}),f.jsx("div",{className:`p-3 rounded-lg max-w-[85%] prose max-w-none text-brand-text-primary prose-p:my-0 ${S.role==="user"?"bg-brand-primary text-white":"bg-brand-secondary"}`,children:f.jsx(si,{children:S.text})})]},E)),a&&f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary flex items-center justify-center text-white flex-shrink-0 text-sm font-bold",children:"AI"}),f.jsxs("div",{className:"p-3 rounded-lg bg-brand-secondary",children:[f.jsx("span",{className:"inline-block w-2 h-2 bg-brand-text-secondary rounded-full animate-pulse mx-0.5"}),f.jsx("span",{className:"inline-block w-2 h-2 bg-brand-text-secondary rounded-full animate-pulse mx-0.5",style:{animationDelay:"0.2s"}}),f.jsx("span",{className:"inline-block w-2 h-2 bg-brand-text-secondary rounded-full animate-pulse mx-0.5",style:{animationDelay:"0.4s"}})]})]}),f.jsx("div",{ref:d})]}),f.jsxs("div",{className:"p-4 border-t border-brand-border flex-shrink-0 space-y-3",children:[n.length<=1&&!a&&f.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(S=>f.jsx("button",{onClick:()=>_(S),className:"text-sm bg-brand-secondary text-brand-primary font-semibold py-1.5 px-3 rounded-full hover:bg-brand-border transition-colors",children:S},S))}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:i,onChange:S=>s(S.target.value),onKeyPress:S=>S.key==="Enter"&&_(i),placeholder:p("ask_your_question"),className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",disabled:a}),f.jsx("button",{onClick:()=>_(i),disabled:a||i.trim()==="",className:"bg-brand-primary text-white rounded-lg disabled:opacity-50 transition-colors grid place-items-center w-10 h-10",children:f.jsx(yk,{className:"w-5 h-5"})})]})]})]}):f.jsx("button",{onClick:()=>e(!0),className:"bg-brand-primary text-white rounded-full shadow-lg hover:opacity-90 transition-all transform hover:scale-110 grid place-items-center w-16 h-16","aria-label":"Open help chatbot",children:f.jsx(cD,{className:"w-8 h-8"})})})},$8e=t=>{switch(t){case Pe.MijnPriveTeam:return"nav_mijnpriveteam";case Pe.MijnFiliaalTeam:return"nav_mijnfiliaalteam";default:return`nav_${String(t).toLowerCase().replace(/\s+/g,"_")}`}},V8e=({isSidebarOpen:t})=>{const{theme:e,toggleTheme:n}=EC(),{t:r}=Xe();return f.jsxs("button",{onClick:n,title:r(e==="light"?"theme_toggle_dark":"theme_toggle_light"),className:`flex items-center w-full py-2.5 rounded-lg transition-colors duration-200 text-brand-text-secondary hover:bg-brand-surface hover:text-brand-text-primary ${t?"px-4":"justify-center"}`,"aria-label":r(e==="light"?"theme_toggle_dark":"theme_toggle_light"),children:[e==="light"?f.jsx(Lee,{className:"flex-shrink-0 w-6 h-6"}):f.jsx(Oee,{className:"flex-shrink-0 w-6 h-6"}),f.jsx("span",{className:"ml-4 font-medium whitespace-nowrap overflow-hidden transition-all duration-300",style:{maxWidth:t?"150px":"0",opacity:t?1:0},children:r(e==="light"?"theme_toggle_dark":"theme_toggle_light")})]})},_S=({icon:t,label:e,isActive:n,onClick:r,isSidebarOpen:i})=>{const{t:s}=Xe(),a=s($8e(e));return f.jsxs("button",{onClick:r,title:i?"":a,className:`flex items-center w-full py-2.5 rounded-lg transition-all duration-200 transform hover:scale-105 ${n?"bg-brand-primary text-white shadow-md":"text-brand-text-secondary hover:bg-brand-surface hover:text-brand-text-primary"} ${i?"px-4":"justify-center"}`,children:[t,f.jsx("span",{className:"ml-4 font-medium whitespace-nowrap overflow-hidden transition-all duration-300",style:{maxWidth:i?"150px":"0",opacity:i?1:0},children:a})]})},U8e=({currentPage:t,onMenuClick:e,onLogSaleClick:n})=>{const{user:r}=bt(),{t:i}=Xe(),s=(r==null?void 0:r.role)==="salesperson"||(r==null?void 0:r.role)==="leader"||(r==null?void 0:r.role)==="team-leader";return f.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between h-20 px-4 sm:px-6 lg:px-8 bg-brand-surface/80 backdrop-blur-sm border-b border-brand-border shadow-sm",children:[f.jsxs("div",{className:"flex items-center min-w-0",children:[f.jsx("button",{onClick:e,className:"lg:hidden text-brand-text-secondary hover:text-brand-text-primary mr-4","aria-label":"Open sidebar",children:f.jsx(x5,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold text-brand-text-primary truncate",children:t})]}),s&&f.jsxs("button",{onClick:n,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-all duration-200 transform hover:scale-105",children:[f.jsx(Vb,{className:"w-5 h-5 mr-2"}),i("register_sale")]})]})},z8e=({children:t,currentPage:e,setCurrentPage:n})=>{const[r,i]=k.useState(!0),[s,a]=k.useState(!1),{user:l,logout:u,logSale:d}=bt(),{t:h}=Xe();k.useEffect(()=>{const D=()=>{i(window.innerWidth>=1024)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const p=(l==null?void 0:l.role)==="owner",_=(l==null?void 0:l.role)==="manager",v=_||p,S=[{icon:f.jsx(v5,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Dashboard},{icon:f.jsx(Yr,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.PitchGenerator},{icon:f.jsx(Gd,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Pitches},{icon:f.jsx(gk,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.PitchPractice},{icon:f.jsx(_v,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Clients},{icon:f.jsx(pk,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.CompetitorAnalysis},{icon:f.jsx(dp,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.CompetitorNotes},{icon:f.jsx(Jp,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Goals}],E=[Pe.PitchGenerator,Pe.Pitches,Pe.PitchPractice,Pe.CompetitorAnalysis,Pe.Goals,Pe.MijnFiliaalTeam,Pe.Clients,Pe.CompetitorNotes],I=[...S.filter(D=>!_||D.label!==Pe.Clients&&D.label!==Pe.Goals).filter(D=>!p||!E.includes(D.label))],j=D=>{switch(D){case Pe.Pitches:return"page_title_opgeslagen_pitches";case Pe.PitchPractice:return"page_title_pitch_oefenen";case Pe.CompetitorNotes:return"page_title_concurrentie_notities";case Pe.Billing:return"page_title_facturatie";case Pe.MijnPriveTeam:return"page_title_mijnpriveteam";case Pe.MijnFiliaalTeam:return"page_title_mijnfiliaalteam";default:return`page_title_${String(D).toLowerCase().replace(/\s+/g,"_")}`}},M=D=>D===Pe.MijnPriveTeam?h(_?"page_title_mijn_filiaal":p?"page_title_mijn_organisatie":"page_title_mijnpriveteam"):D===Pe.TeamKnowledgeBase||D===Pe.OrganizationNews?h(p?"page_title_organisatie_news":_?"nav_branch_knowledge_base":"page_title_team_kennisbank"):h(j(D));p&&(I.push({icon:f.jsx(yv,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Organization}),I.push({icon:f.jsx(Bb,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.SalesAnalytics})),["manager","leader","team-leader","salesperson"].includes(l==null?void 0:l.role)&&!p&&(_?I.push({icon:f.jsx(Ql,{className:"flex-shrink-0 w-6 h-6"}),label:"Mijn Filiaal"}):I.push({icon:f.jsx(Ql,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.MijnPriveTeam})),v&&(I.push({icon:f.jsx(Ub,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Planning}),I.push({icon:f.jsx(zb,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.PackageManagement})),p&&I.push({icon:f.jsx(vk,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Billing}),l!=null&&l.role&&["salesperson","leader","team-leader"].includes(l.role)&&I.push({icon:f.jsx(Uee,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.MijnFiliaalTeam}),I.push({icon:f.jsx(up,{className:"flex-shrink-0 w-6 h-6"}),label:p?Pe.OrganizationNews:_?"Filiaal Kennisbank":Pe.TeamKnowledgeBase});const V=D=>{let z;D==="Mijn Filiaal"?z=Pe.MijnPriveTeam:D==="Filiaal Kennisbank"?z=Pe.TeamKnowledgeBase:z=D,n(z),window.innerWidth<1024&&i(!1)},N=async D=>{try{await d(D)}catch(z){throw alert(`Fout bij registreren van verkoop: ${z.message}`),z}},P=_?"Mijn Filiaal":p?Pe.Organization:Pe.MijnPriveTeam,O=p?Pe.OrganizationNews:_?"Filiaal Kennisbank":Pe.TeamKnowledgeBase;return f.jsxs("div",{className:"flex h-screen bg-brand-background font-sans text-brand-text-primary overflow-hidden",children:[f.jsx("div",{onClick:()=>i(!1),className:`fixed inset-0 bg-black/60 z-30 lg:hidden transition-opacity ${r?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),f.jsxs("aside",{className:`bg-brand-surface border-r border-brand-border flex-shrink-0 flex flex-col transition-all duration-300 ease-in-out z-40
        fixed inset-y-0 left-0 ${r?"translate-x-0":"-translate-x-full"} w-64
        lg:relative lg:translate-x-0 ${r?"lg:w-64":"lg:w-20"}`,children:[f.jsxs("div",{className:"relative flex items-center border-b border-brand-border px-4 flex-shrink-0 h-20 justify-center",children:[f.jsx("div",{className:"flex items-center text-center transition-all duration-300",children:f.jsx("img",{src:"https://i.imgur.com/moW461j.png",alt:"Bedrijfslogo",className:"h-32 w-34 flex-shrink-0"})}),f.jsx("button",{onClick:()=>i(!r),className:`hidden lg:grid place-items-center text-brand-text-secondary hover:text-brand-text-primary rounded-full hover:bg-brand-secondary transition-all duration-300 w-8 h-8 absolute top-1/2 -translate-y-1/2 ${r?"right-2":"-right-4"}`,"aria-label":r?"Collapse sidebar":"Expand sidebar",children:f.jsx(jee,{className:`w-6 h-6 transition-transform duration-300 ${r?"":"rotate-180"}`})})]}),f.jsx("nav",{className:"flex-grow p-3 space-y-2 overflow-y-auto",children:I.map(D=>f.jsx(_S,{icon:D.icon,label:D.label,isActive:e===D.label||D.label===P&&(e===Pe.MijnPriveTeam||e===Pe.Organization)||D.label===O&&(e===Pe.TeamKnowledgeBase||e===Pe.OrganizationNews),onClick:()=>V(D.label),isSidebarOpen:r},String(D.label)))}),f.jsxs("div",{className:"p-3 mt-auto border-t border-brand-border space-y-2",children:[f.jsx(_S,{icon:l!=null&&l.profilePicture?f.jsx("img",{src:l.profilePicture,alt:"Profile",className:"w-6 h-6 rounded-full object-cover flex-shrink-0"}):f.jsx(Ts,{className:"w-6 h-6 flex-shrink-0"}),label:Pe.Profile,isActive:e===Pe.Profile,onClick:()=>V(Pe.Profile),isSidebarOpen:r}),f.jsx(_S,{icon:f.jsx(Vee,{className:"flex-shrink-0 w-6 h-6"}),label:Pe.Settings,isActive:e===Pe.Settings,onClick:()=>V(Pe.Settings),isSidebarOpen:r}),f.jsx(V8e,{isSidebarOpen:r}),f.jsxs("button",{onClick:u,title:h("nav_logout"),className:`flex items-center w-full py-2.5 rounded-lg transition-colors duration-200 text-red-500/80 hover:bg-red-500/10 hover:text-red-500 ${r?"px-4":"justify-center"}`,"aria-label":h("nav_logout"),children:[f.jsx($ee,{className:"flex-shrink-0 w-6 h-6"}),f.jsx("span",{className:"ml-4 font-medium whitespace-nowrap overflow-hidden transition-all duration-300",style:{maxWidth:r?"150px":"0",opacity:r?1:0},children:h("nav_logout")})]})]})]}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsx(U8e,{currentPage:M(e),onMenuClick:()=>i(!0),onLogSaleClick:()=>a(!0)}),f.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]}),f.jsx(NVe,{isOpen:s,onClose:()=>a(!1),onLogSale:N}),f.jsx(L8e,{})]})},B8e=({posts:t,onEdit:e})=>{const{user:n,deleteMotivationPost:r}=bt(),{t:i}=Xe(),s=async a=>{if(window.confirm("Weet u zeker dat u dit bericht wilt verwijderen?"))try{await r(a)}catch(l){alert(`Fout bij verwijderen: ${l.message}`)}};return f.jsx("div",{className:"space-y-6 h-[calc(100vh-22rem)] overflow-y-auto pr-2 -mr-2",children:t.length>0?t.map(a=>{var u;const l=((u=St.currentUser)==null?void 0:u.uid)===a.authorId||(n==null?void 0:n.role)==="team-leader"||(n==null?void 0:n.role)==="leader"||(n==null?void 0:n.role)==="manager"||(n==null?void 0:n.role)==="owner";return f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-5 border border-brand-border",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center mb-3",children:[a.authorProfilePicture?f.jsx("img",{src:a.authorProfilePicture,alt:a.authorName,className:"w-10 h-10 rounded-full object-cover"}):f.jsx(Ts,{className:"w-10 h-10 text-brand-text-secondary"}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"font-semibold text-brand-text-primary",children:a.authorName}),f.jsx("p",{className:"text-xs text-brand-text-secondary",children:new Date(a.createdAt).toLocaleString()})]})]}),l&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>e(a),className:"text-xs text-brand-primary hover:underline",children:"Bewerken"}),f.jsx("button",{onClick:()=>s(a.id),className:"text-red-500 hover:text-red-700",children:f.jsx(Va,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("h3",{className:"text-xl font-bold text-brand-text-primary mb-2",children:a.title}),a.keep&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-brand-text-secondary ml-2",children:[f.jsx("title",{children:"Dit bericht is vastgepind en verloopt niet."}),f.jsx("path",{fillRule:"evenodd",d:"M10 2a.75.75 0 0 1 .75.75V8a.75.75 0 0 1-1.5 0V2.75A.75.75 0 0 1 10 2ZM5.113 4.41a.75.75 0 0 1 .157 1.05l-2.005 3.473a.75.75 0 0 1-1.21-.698l2.005-3.473a.75.75 0 0 1 1.05-.157ZM15.94 5.46a.75.75 0 0 1 1.05.157l2.005 3.473a.75.75 0 1 1-1.21.698l-2.005-3.473a.75.75 0 0 1 .155-1.05ZM8.5 8.75A.75.75 0 0 1 9.25 8h1.5a.75.75 0 0 1 0 1.5h-1.5A.75.75 0 0 1 8.5 8.75ZM3.75 12a.75.75 0 0 1 .75-.75h11a.75.75 0 0 1 0 1.5h-11a.75.75 0 0 1-.75-.75ZM3 15.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})]})]}),f.jsx("div",{className:"prose prose-invert max-w-none text-brand-text-secondary prose-p:my-2",children:f.jsx(si,{children:a.content})})]},a.id)}):f.jsx("div",{className:"text-center text-brand-text-secondary py-10",children:f.jsx("p",{children:i("team_updates_empty")})})})},F8e=({isOpen:t,onClose:e,postToEdit:n})=>{const{addMotivationPost:r,updateMotivationPost:i}=bt(),{t:s,language:a}=Xe(),[l,u]=k.useState(""),[d,h]=k.useState(""),[p,_]=k.useState(!1),[v,S]=k.useState(""),[E,A]=k.useState(!1),[I,j]=k.useState(!1),[M,B]=k.useState("");k.useEffect(()=>{n?(u(n.title),h(n.content),_(n.keep||!1)):(u(""),h(""),_(!1)),S(""),B("")},[n,t]);const V=async()=>{if(v){A(!0);try{const D=await p6e(v,a);h(z=>`${z?z+`

`:""}${D}`)}catch(D){console.error(D),alert("Kon geen inspiratie genereren.")}finally{A(!1)}}},N=async D=>{if(D.preventDefault(),!l||!d){B(s("error_title_content_required"));return}j(!0),B("");try{n?await i({...n,title:l,content:d,keep:p}):await r({title:l,content:d,keep:p}),e()}catch(z){B(z.message||"Kon bericht niet publiceren.")}finally{j(!1)}};if(!t)return null;const P="w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",O="block text-sm font-medium text-brand-text-secondary mb-1";return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:e,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-2xl m-4",onClick:D=>D.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:s(n?"modal_edit_post":"modal_new_post")}),f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"title",className:O,children:s("title")}),f.jsx("input",{type:"text",id:"title",value:l,onChange:D=>u(D.target.value),required:!0,className:P})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"content",className:O,children:s("content_markdown")}),f.jsx("textarea",{id:"content",value:d,onChange:D=>h(D.target.value),rows:8,required:!0,className:`${P} resize-y`})]}),f.jsxs("div",{className:"border-t border-brand-border pt-4",children:[f.jsx("label",{htmlFor:"inspiration",className:O,children:s("ai_inspiration")}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",id:"inspiration",value:v,onChange:D=>S(D.target.value),placeholder:s("inspiration_topic_placeholder"),className:`${P} flex-grow`}),f.jsx("button",{type:"button",onClick:V,disabled:E||!v,className:"bg-brand-primary text-white rounded-lg grid place-items-center hover:opacity-90 transition-opacity disabled:opacity-50 w-10 h-10",children:E?f.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Yr,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",id:"keep",checked:p,onChange:D=>_(D.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),f.jsx("label",{htmlFor:"keep",className:"text-sm text-brand-text-secondary",children:s("pin_post")})]}),M&&f.jsx("p",{className:"text-red-500 text-sm",children:M}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-brand-border text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:opacity-80 transition-opacity",children:s("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",disabled:I,children:s(I?"saving":"save")})]})]})]})})},bO=()=>{const{user:t,allUsers:e}=bt(),{t:n}=Xe(),r=k.useMemo(()=>{if(!t||!e)return{teamTotalToday:0,topPerformer:null,coachingOpportunities:[]};let a=[];t.role==="manager"?a=e.filter(p=>p.branchName===t.branchName&&p.email!==t.email):(t.role==="leader"||t.role==="team-leader")&&(a=e.filter(p=>{var _;return(_=t.teamMembers)==null?void 0:_.includes(p.email)}));const l=a.map(p=>({name:p.name,profilePicture:p.profilePicture,salesToday:yn(p.sales||[],"today")})).sort((p,_)=>_.salesToday-p.salesToday),u=l.reduce((p,_)=>p+_.salesToday,0),d=l.length>0&&l[0].salesToday>0?l[0]:null,h=l.filter(p=>p.salesToday===0);return{teamTotalToday:u,topPerformer:d,coachingOpportunities:h}},[t,e]),{topPerformer:i,coachingOpportunities:s}=r;return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg h-full",children:[f.jsxs("h2",{className:"text-lg font-semibold mb-4 text-brand-text-primary flex items-center",children:[f.jsx(Ql,{className:"w-6 h-6 mr-3 text-brand-primary"}),n("team_pulse_widget_title")]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold text-brand-text-secondary mb-2 flex items-center",children:[f.jsx(Jp,{className:"w-5 h-5 mr-2 text-yellow-500"})," ",n("top_performer")]}),i?f.jsxs("div",{className:"flex items-center bg-brand-secondary p-3 rounded-lg",children:[i.profilePicture?f.jsx("img",{src:i.profilePicture,alt:i.name,className:"w-8 h-8 rounded-full object-cover mr-3"}):f.jsx(Ts,{className:"w-8 h-8 text-brand-text-secondary mr-3"}),f.jsx("span",{className:"font-semibold flex-grow",children:i.name}),f.jsx("span",{className:"font-bold text-green-500",children:i.salesToday.toFixed(1)})]}):f.jsx("p",{className:"text-sm text-brand-text-secondary italic",children:n("no_sales_today")})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-sm font-semibold text-brand-text-secondary mb-2 flex items-center",children:[f.jsx(VE,{className:"w-5 h-5 mr-2 text-blue-500"})," ",n("coaching_opportunities")]}),s.length>0?f.jsx("div",{className:"space-y-2",children:s.map(a=>f.jsxs("div",{className:"flex items-center bg-brand-secondary p-2 rounded-lg text-sm",children:[a.profilePicture?f.jsx("img",{src:a.profilePicture,alt:a.name,className:"w-6 h-6 rounded-full object-cover mr-3"}):f.jsx(Ts,{className:"w-6 h-6 text-brand-text-secondary mr-3"}),f.jsx("span",{children:a.name})]},a.name))}):f.jsx("p",{className:"text-sm text-brand-text-secondary italic",children:n("everyone_sold_today")})]})]})]})},q8e=()=>{const{user:t,goals:e}=bt(),[n,r]=bk(t?`dailyTip_${t.uid}`:"dailyTip",null),[i,s]=k.useState(!1),{t:a,language:l}=Xe(),u=new Date().toISOString().split("T")[0];return k.useEffect(()=>{(async()=>{if(t&&(!n||n.date!==u||n.lang!==l)){s(!0);try{const h=await c6e(t,e,t.sales||[],l);r({date:u,content:h,lang:l})}catch(h){console.error("Failed to generate daily tip",h)}finally{s(!1)}}})()},[t,e,n,u,r,l]),f.jsxs("div",{className:"lg:col-span-2 bg-brand-primary/10 border border-brand-primary/20 rounded-xl p-6 shadow-lg",children:[f.jsxs("h2",{className:"text-xl font-semibold mb-2 text-brand-primary flex items-center",children:[f.jsx(Yr,{className:"w-5 h-5 mr-2"})," ",a("ai_tip_of_the_day")]}),i&&f.jsxs("p",{className:"text-brand-text-secondary",children:[a("generating"),"..."]}),!i&&n&&f.jsx("p",{className:"text-brand-text-primary",children:n.content})]})},G8e=()=>{var d,h;const{user:t,goals:e}=bt(),{t:n}=Xe();if(!t)return null;const r=((d=e.find(p=>p.goalType==="sales"&&p.type==="daily"))==null?void 0:d.target)||0,i=((h=e.find(p=>p.goalType==="sales"&&p.type==="weekly"))==null?void 0:h.target)||0,s=yn(t.sales||[],"today"),a=yn(t.sales||[],"week"),l=r>0?s/r*100:0,u=i>0?a/i*100:0;return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("h2",{className:"text-lg font-semibold mb-4 text-brand-text-primary flex items-center",children:[f.jsx(Jp,{className:"w-6 h-6 mr-3 text-brand-primary"}),n("sales_goals_value")]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[f.jsx("span",{className:"font-medium",children:n("today")}),f.jsxs("span",{className:"font-semibold",children:[s.toFixed(1)," / ",r>0?r:"-"]})]}),f.jsx("div",{className:"w-full bg-brand-secondary rounded-full h-2.5",children:f.jsx("div",{className:"bg-brand-primary h-2.5 rounded-full",style:{width:`${Math.min(l,100)}%`}})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[f.jsx("span",{className:"font-medium",children:n("this_week")}),f.jsxs("span",{className:"font-semibold",children:[a.toFixed(1)," / ",i>0?i:"-"]})]}),f.jsx("div",{className:"w-full bg-brand-secondary rounded-full h-2.5",children:f.jsx("div",{className:"bg-brand-primary h-2.5 rounded-full",style:{width:`${Math.min(u,100)}%`}})})]})]})]})},H8e=()=>{const{appointments:t}=bt(),[e,n]=k.useState(""),[r,i]=k.useState(!1),{t:s,language:a}=Xe(),l=new Date().toISOString().split("T")[0],u=t.filter(d=>d.date===l).sort((d,h)=>d.time.localeCompare(h.time));return k.useEffect(()=>{(async()=>{if(u.length>0){i(!0);try{const h=await u6e(u,a);n(h)}catch(h){console.error("Failed to summarize agenda",h),n("Kon agenda niet samenvatten.")}finally{i(!1)}}else n(s("no_appointments_today"))})()},[t,s,a]),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("h2",{className:"text-lg font-semibold mb-2 text-brand-text-primary flex items-center",children:[f.jsx(Ub,{className:"w-6 h-6 mr-3 text-brand-primary"}),s("your_agenda_today")]}),r?f.jsx("p",{className:"text-brand-text-secondary text-sm",children:s("ai_summary_loading")}):f.jsx("div",{className:"text-brand-text-secondary text-sm mb-4 prose max-w-none",children:f.jsx(si,{children:e})}),f.jsx("div",{className:"space-y-3 border-t border-brand-border pt-4 max-h-48 overflow-y-auto",children:u.length>0?u.map(d=>f.jsxs("div",{className:"flex items-start text-sm",children:[f.jsx("span",{className:"font-bold text-brand-primary w-16",children:d.time}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-brand-text-primary",children:d.title}),d.notes&&f.jsx("p",{className:"text-xs text-brand-text-secondary",children:d.notes})]})]},d.id)):!r&&f.jsx("p",{className:"text-brand-text-secondary text-sm",children:s("no_appointments_today")})})]})},dm=({title:t,value:e,icon:n})=>f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-start",children:[f.jsx("div",{className:"w-12 h-12 bg-brand-primary/10 rounded-lg mr-4 flex items-center justify-center flex-shrink-0",children:n}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:t}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:e})]})]}),_a=()=>{var Y;const{user:t,pitches:e,clients:n,goals:r,motivationPosts:i,allUsers:s}=bt(),{t:a,language:l}=Xe(),[u,d]=bk(t?`weeklyReview_${t.uid}`:"weeklyReview",null),[h,p]=k.useState(!1),[_,v]=k.useState(!1),[S,E]=k.useState(null),A=()=>{const X=new Date().getHours();return X<12?a("greeting_morning"):X<18?a("greeting_afternoon"):a("greeting_evening")},I=async()=>{if(t){p(!0);try{const X=new Date;X.setDate(X.getDate()-7);const fe=n.filter(Q=>new Date(Q.createdAt)>X),be=e.filter(Q=>new Date(Q.createdAt)>X),F=r.filter(Q=>Q.goalType==="sales"),K=await l6e(t,F,fe,be,l);d({generatedAt:new Date().toISOString(),content:K})}catch(X){console.error("Failed to generate weekly review",X),alert(`Kon geen review genereren: ${X instanceof Error?X.message:String(X)}`)}finally{p(!1)}}},j=()=>{if(!u)return!0;const X=new Date(u.generatedAt);return(new Date().getTime()-X.getTime())/(1e3*3600*24)>=1},M=t!=null&&t.sales?Pee(t.sales):0,B=(t==null?void 0:t.role)==="leader"||(t==null?void 0:t.role)==="team-leader"||(t==null?void 0:t.role)==="manager"||(t==null?void 0:t.role)==="owner",V=(t==null?void 0:t.role)==="salesperson"||(t==null?void 0:t.role)==="leader"||(t==null?void 0:t.role)==="team-leader",N=(t==null?void 0:t.role)==="manager"||(t==null?void 0:t.role)==="leader"||(t==null?void 0:t.role)==="team-leader",P=(t==null?void 0:t.role)==="manager"||(t==null?void 0:t.role)==="owner",O=k.useMemo(()=>{if(!t||!P)return{used:0,purchased:0};if(t.role==="manager"){const K=s.filter(H=>H.branchName===t.branchName).length,Q=t.purchasedLicenses||0;return{used:K,purchased:Q}}const X=s.length,fe=s.find(F=>F.role==="owner"),be=(fe==null?void 0:fe.purchasedLicenses)??X;return{used:X,purchased:be}},[t,s,P]),D=t?ql(t.sales||[],"week"):0,z=t?ql(t.sales||[],"month"):0,$=()=>{E(null),v(!0)},U=X=>{E(X),v(!0)},q=()=>{v(!1),E(null)},te=k.useMemo(()=>{if(!t||!P||!s)return null;const fe=s.filter(H=>H.branchName===t.branchName&&H.email!==t.email).flatMap(H=>H.sales||[]),be=yn(fe,"today"),F=yn(fe,"week"),K=yn(fe,"month"),Q=ql(fe,"month");return{salesToday:be,salesWeek:F,salesMonth:K,avgDailyMonth:Q}},[t,s,P]),ee=k.useMemo(()=>t?i.filter(X=>!X.branchName||X.branchName===t.branchName):[],[i,t]);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-brand-text-primary animate-fade-in space-y-8",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-bold mb-1",children:[A(),", ",(Y=t==null?void 0:t.name)==null?void 0:Y.split(" ")[0],"!"]}),f.jsx("p",{className:"text-lg text-brand-text-secondary",children:a(P?"dashboard_welcome_management":"dashboard_welcome_sales")})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[P?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(dm,{title:a("kpi_team_sales_today"),value:(te==null?void 0:te.salesToday.toFixed(1))??"0.0",icon:f.jsx(Vb,{className:"w-6 h-6 text-brand-primary"})}),f.jsx(dm,{title:a("kpi_team_sales_week"),value:(te==null?void 0:te.salesWeek.toFixed(1))??"0.0",icon:f.jsx(Ub,{className:"w-6 h-6 text-brand-primary"})}),f.jsx(dm,{title:a("kpi_team_sales_month"),value:(te==null?void 0:te.salesMonth.toFixed(1))??"0.0",icon:f.jsx(Xp,{className:"w-6 h-6 text-brand-primary"})}),f.jsx(dm,{title:a("kpi_avg_daily_month"),value:(te==null?void 0:te.avgDailyMonth.toFixed(1))??"0.0",icon:f.jsx(zm,{className:"w-6 h-6 text-brand-primary"})}),f.jsx(dm,{title:a("used_licenses"),value:a("licenses_of_total",{used:O==null?void 0:O.used,total:O==null?void 0:O.purchased}),icon:f.jsx(vk,{className:"w-6 h-6 text-brand-primary"})})]}),f.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[f.jsx(H8e,{}),f.jsx(bO,{})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(q8e,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[V&&f.jsx(G8e,{}),N&&f.jsx(bO,{})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[V&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"w-14 h-14 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(zm,{className:"w-6 h-6 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:a("kpi_weekly_avg_daily")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:D.toFixed(1)})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"w-14 h-14 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(zm,{className:"w-6 h-6 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:a("kpi_monthly_avg_daily")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:z.toFixed(1)})]})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-14 h-14 bg-orange-500/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(zee,{className:"w-6 h-6 text-orange-500"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold",children:a("sales_streak")}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:a("sales_streak_subtitle")})]})]}),f.jsx("p",{className:"text-5xl font-bold text-orange-500",children:M})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary flex items-center",children:[f.jsx(yf,{className:"w-6 h-6 mr-3 text-yellow-500"}),a("my_badges")]}),t!=null&&t.badges&&t.badges.length>0?f.jsx("div",{className:"flex flex-wrap gap-4",children:t.badges.map(X=>{const fe=Cee[X];return fe?f.jsxs("div",{title:fe.description,className:"flex items-center bg-brand-secondary p-2 pr-4 rounded-full",children:[f.jsx("div",{className:"p-1.5 bg-yellow-400/20 rounded-full mr-2",children:f.jsx(yf,{className:"w-5 h-5 text-yellow-500"})}),f.jsx("span",{className:"font-semibold text-sm",children:fe.name})]},X):null})}):f.jsx("p",{className:"text-brand-text-secondary",children:a("badges_empty_state")})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-semibold text-brand-text-primary flex items-center",children:[f.jsx(w5,{className:"w-6 h-6 mr-3 text-brand-primary"}),a("your_week_in_review")]}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:a("week_in_review_subtitle")})]}),j()&&f.jsxs("button",{onClick:I,disabled:h,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-brand-border transition-colors disabled:opacity-50",children:[h?f.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Yr,{className:"w-5 h-5 mr-2"}),f.jsx("span",{children:h?"":a("generate_review")})]})]}),u!=null&&u.content?f.jsx("div",{className:"bg-brand-secondary p-4 rounded-lg prose max-w-none",children:f.jsx(si,{children:u.content})}):f.jsx("p",{className:"text-brand-text-secondary italic",children:a("review_empty_state")})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold text-brand-text-primary",children:a("team_updates")}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:a("team_updates_subtitle")})]}),B&&f.jsxs("button",{onClick:$,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx("span",{className:"grid place-items-center mr-2",children:f.jsx(Xs,{className:"w-5 h-5"})}),a("new_post")]})]}),f.jsx(B8e,{posts:ee,onEdit:U})]})]})]}),f.jsx(F8e,{isOpen:_,onClose:q,postToEdit:S})]})};function LB(t){let e="";const n=t.byteLength;for(let r=0;r<n;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function $B(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}async function VB(t,e,n,r){const i=new Int16Array(t.buffer),s=i.length/r,a=e.createBuffer(r,s,n);for(let l=0;l<r;l++){const u=a.getChannelData(l);for(let d=0;d<s;d++)u[d]=i[d*r+l]/32768}return a}const K8e="AIzaSyAlNm0JytBZWTrGoV0FfHFEfJttM_WbYUo",xO=new Ck({apiKey:K8e}),W8e=()=>{const{pitches:t,sharePracticeResults:e}=bt(),{t:n,language:r}=Xe(),[i,s]=k.useState("select_pitch"),[a,l]=k.useState(null),[u,d]=k.useState(!1),[h,p]=k.useState(null),[_,v]=k.useState([]),S=k.useRef(null),E=k.useRef(null),A=k.useRef(null),I=k.useRef(null),j=k.useRef(null),M=k.useRef(null),B=k.useRef(0),V=k.useRef(new Set),[N,P]=k.useState(""),[O,D]=k.useState(!1),[z,$]=k.useState(!1),[U,q]=k.useState(!1),te=k.useMemo(()=>({sceptical_manager:{name:n("persona_sceptical_manager_name"),description:n("persona_sceptical_manager_desc")},friendly_consumer:{name:n("persona_friendly_consumer_name"),description:n("persona_friendly_consumer_desc")},technical_expert:{name:n("persona_technical_expert_name"),description:n("persona_technical_expert_desc")}}),[n]),[ee,Y]=k.useState(null),X=ee?te[ee]:null;k.useEffect(()=>()=>{K()},[]);const fe=se=>{l(se),s("select_persona")},be=se=>{Y(se),s("practice")},F=async()=>{if(X){d(!0),p(null),v([]),q(!1),$(!1);try{const se=await navigator.mediaDevices.getUserMedia({audio:!0});M.current=se,E.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),A.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const re=A.current,$e=re.createGain(),Re={nl:"Dutch",en:"English",de:"German"}[r]||"Dutch";S.current=xO.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{const Me=E.current.createMediaStreamSource(se);j.current=Me;const le=E.current.createScriptProcessor(4096,1,1);I.current=le,le.onaudioprocess=nt=>{var pt;const Ge=nt.inputBuffer.getChannelData(0),mt={data:LB(new Uint8Array(new Int16Array(Ge.map(Pt=>Pt*32768)).buffer)),mimeType:"audio/pcm;rate=16000"};(pt=S.current)==null||pt.then(Pt=>{Pt.sendRealtimeInput({media:mt})})},Me.connect(le),le.connect(E.current.destination)},onmessage:async Me=>{var Ge,mt,pt,Pt;const le=Me.serverContent;if(le!=null&&le.inputTranscription){const{text:vt}=le.inputTranscription;v(Fe=>{const Ae=Fe[Fe.length-1];if((Ae==null?void 0:Ae.speaker)==="user"){const ot=[...Fe];return ot[ot.length-1]={speaker:"user",text:vt},ot}return[...Fe,{speaker:"user",text:vt}]})}if(le!=null&&le.outputTranscription){const{text:vt}=le.outputTranscription;v(Fe=>{const Ae=Fe[Fe.length-1];if((Ae==null?void 0:Ae.speaker)==="model"){const ot=[...Fe];return ot[ot.length-1]={speaker:"model",text:vt},ot}return[...Fe,{speaker:"model",text:vt}]})}const nt=(Pt=(pt=(mt=(Ge=le==null?void 0:le.modelTurn)==null?void 0:Ge.parts)==null?void 0:mt[0])==null?void 0:pt.inlineData)==null?void 0:Pt.data;if(nt){B.current=Math.max(B.current,re.currentTime);const vt=await VB($B(nt),re,24e3,1),Fe=re.createBufferSource();Fe.buffer=vt,Fe.connect($e),$e.connect(re.destination),Fe.addEventListener("ended",()=>{V.current.delete(Fe)}),Fe.start(B.current),B.current+=vt.duration,V.current.add(Fe)}if(le!=null&&le.interrupted){for(const vt of V.current.values())vt.stop(),V.current.delete(vt);B.current=0}},onerror:Me=>p(n("mic_error_connection",{message:Me.message})),onclose:()=>{}},config:{responseModalities:[vf.AUDIO],inputAudioTranscription:{},outputAudioTranscription:{},systemInstruction:`You are an AI role-play partner for a salesperson. The salesperson is practicing a pitch. Your role is: ${X.description}. Respond to the salesperson as if you are this person. Be realistic. Ask questions. Make objections. Give the salesperson a challenge. Start the conversation by reacting to the salesperson's opening line. Do not say "Hello, I'm ready to begin." Wait for the salesperson. You MUST respond in ${Re}.`}})}catch{p(n("mic_error")),d(!1)}}},K=()=>{var se,re,$e,ae,Re,Me;d(!1),(se=S.current)==null||se.then(le=>le.close()),S.current=null,(re=M.current)==null||re.getTracks().forEach(le=>le.stop()),($e=I.current)==null||$e.disconnect(),(ae=j.current)==null||ae.disconnect(),(Re=E.current)==null||Re.close(),(Me=A.current)==null||Me.close();for(const le of V.current.values())le.stop();V.current.clear(),B.current=0,_.length>0&&s("feedback")},Q=async se=>{D(!0),P("");const re=_.map(Me=>`${Me.speaker==="user"?n("you"):n("client_ai")}: ${Me.text}`).join(`
`),ae={nl:"Dutch",en:"English",de:"German"}[r]||"Dutch",Re=`
            As an expert sales coach, analyze the following transcript of a role-play.
            The salesperson's original pitch was:
            --- ORIGINAL PITCH ---
            ${a==null?void 0:a.content}
            --- END PITCH ---

            The role-play transcript is:
            --- TRANSCRIPT ---
            ${re}
            --- END TRANSCRIPT ---

            Provide constructive feedback in ${ae} and in Markdown. Assess the following points:
            - **${n("feedback_prompt_title_opening")}:** ${n("feedback_prompt_desc_opening")}
            - **${n("feedback_prompt_title_questioning")}:** ${n("feedback_prompt_desc_questioning")}
            - **${n("feedback_prompt_title_objections")}:** ${n("feedback_prompt_desc_objections")}
            - **${n("feedback_prompt_title_tone")}:** ${n("feedback_prompt_desc_tone")}
            - **${n("feedback_prompt_title_closing")}:** ${n("feedback_prompt_desc_closing")}

            For each point, provide a brief analysis and a concrete point for improvement. The headings in your response MUST be in ${ae}.
        `;try{const Me=await xO.models.generateContent({model:se,contents:Re});P(Me.text||"")}catch{P(n("feedback_error"))}finally{D(!1)}},H=async()=>{if(!(!a||!N)){$(!0);try{const se=_.map(re=>`${re.speaker==="user"?n("you"):n("client_ai")}: ${re.text}`).join(`
`);await e({pitchName:a.name,transcript:se,feedback:N}),q(!0)}catch(se){alert(`Fout bij delen: ${se.message}`)}finally{$(!1)}}},ge=()=>{K(),s("select_pitch"),l(null),Y(null),v([]),P(""),q(!1),$(!1)},Ee=()=>{switch(i){case"select_pitch":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:n("step1_choose_pitch")}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.length>0?t.map(se=>f.jsxs("button",{onClick:()=>fe(se),className:"p-4 rounded-lg text-left bg-brand-secondary hover:bg-brand-border transition-colors",children:[f.jsx("p",{className:"font-semibold truncate",children:se.name}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:new Date(se.createdAt).toLocaleDateString()})]},se.id)):f.jsxs("div",{className:"text-center text-brand-text-secondary py-10 col-span-full",children:[f.jsx(Gd,{className:"mx-auto w-12 h-12 mb-4"}),f.jsx("p",{children:n("pitches_empty_practice")}),f.jsx("p",{children:n("go_to_pitch_generator")})]})})]});case"select_persona":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:n("step2_choose_partner")}),f.jsx("p",{className:"text-brand-text-secondary mb-4",children:n("choose_partner_subtitle")}),f.jsx("div",{className:"space-y-3",children:Object.keys(te).map(se=>{const re=te[se];return f.jsxs("button",{onClick:()=>be(se),className:"w-full text-left p-4 rounded-lg bg-brand-secondary hover:bg-brand-border transition-colors",children:[f.jsx("h3",{className:"font-semibold text-lg text-brand-text-primary",children:re.name}),f.jsx("p",{className:"text-brand-text-secondary",children:re.description})]},se)})}),f.jsx("button",{onClick:()=>s("select_pitch"),className:"mt-6 text-sm text-brand-primary hover:underline",children:n("back_to_pitch_selection")})]});case"practice":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-14rem)] flex flex-col",children:[f.jsxs("h2",{className:"text-2xl font-semibold mb-1 text-brand-text-primary",children:[n("practice_session")," ",X==null?void 0:X.name]}),f.jsxs("p",{className:"text-brand-text-secondary mb-4",children:[n("selected_pitch"),' "',a==null?void 0:a.name,'"']}),f.jsxs("div",{className:"flex-grow bg-brand-secondary rounded-lg p-4 overflow-y-auto mb-4 space-y-4",children:[_.map((se,re)=>f.jsxs("div",{className:`flex items-start gap-3 ${se.speaker==="user"?"justify-end":""}`,children:[se.speaker==="model"&&f.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary flex items-center justify-center text-white flex-shrink-0 text-sm font-bold",children:"AI"}),f.jsx("p",{className:`p-3 rounded-lg max-w-lg ${se.speaker==="user"?"bg-brand-primary text-white":"bg-brand-border text-brand-text-primary"}`,children:se.text})]},re)),_.length===0&&f.jsx("p",{className:"text-brand-text-secondary text-center italic mt-4",children:n("waiting_to_start")})]}),h&&f.jsx("p",{className:"text-red-500 mb-4",children:h}),f.jsxs("button",{onClick:u?K:F,className:`w-full py-3 px-6 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${u?"bg-red-500 hover:bg-red-600":"bg-brand-primary hover:opacity-90"}`,children:[f.jsx(gk,{className:"w-5 h-5 mr-2"}),n(u?"stop_session":"start_session")]}),f.jsx("button",{onClick:ge,className:"mt-2 w-full text-sm text-brand-primary hover:underline",children:n("start_new_session")})]});case"feedback":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-14rem)] flex flex-col",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:n("session_complete")}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-grow overflow-hidden",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("transcript")}),f.jsx("div",{className:"flex-grow bg-brand-secondary rounded-lg p-4 overflow-y-auto mb-4 space-y-4",children:_.map((se,re)=>f.jsxs("p",{className:se.speaker==="user"?"text-right":"text-left",children:[f.jsxs("span",{className:`font-bold ${se.speaker==="user"?"text-brand-primary":"text-brand-text-primary"}`,children:[se.speaker==="user"?n("you"):n("client_ai"),":"]})," ",se.text]},re))})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("ai_feedback")}),f.jsx("div",{className:"flex-grow bg-brand-secondary rounded-lg p-4 overflow-y-auto mb-4",children:O?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("p",{className:"text-brand-text-secondary",children:[n("generating_feedback"),"..."]})}):N?f.jsx("div",{className:"prose prose-invert max-w-none text-brand-text-secondary prose-headings:text-brand-text-primary prose-strong:text-brand-text-primary",children:f.jsx(si,{children:N})}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-brand-text-secondary italic",children:n("choose_feedback_type")}),f.jsxs("button",{onClick:()=>Q("gemini-flash-lite-latest"),disabled:O,className:"w-full text-left p-4 rounded-lg bg-brand-surface hover:bg-brand-border transition-colors",children:[f.jsx("h4",{className:"font-semibold text-lg text-brand-text-primary",children:n("fast_scan")}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:n("fast_scan_desc")})]}),f.jsxs("button",{onClick:()=>Q("gemini-2.5-flash"),disabled:O,className:"w-full text-left p-4 rounded-lg bg-brand-surface hover:bg-brand-border transition-colors",children:[f.jsx("h4",{className:"font-semibold text-lg text-brand-text-primary",children:n("deep_analysis")}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:n("deep_analysis_desc")})]})]})}),N&&!O&&f.jsxs("button",{onClick:H,disabled:z||U,className:"bg-green-600/20 text-green-600 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-600 hover:text-white transition-colors disabled:opacity-70",children:[f.jsx(yk,{className:"w-5 h-5 mr-2"}),n(z?"sharing":U?"shared":"share_with_manager")]})]})]}),f.jsx("button",{onClick:ge,className:"mt-4 w-full text-sm text-brand-primary hover:underline",children:n("start_new_session")})]})}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx(_k,{className:"w-10 h-10 text-brand-primary mr-4"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:n("pitch_practice_title")}),f.jsx("p",{className:"text-brand-text-secondary",children:n("pitch_practice_subtitle")})]})]}),Ee()]})},Y8e=({isOpen:t,onClose:e,analysisResult:n,language:r})=>{const{user:i}=bt(),{t:s}=Xe(),[a,l]=k.useState(""),[u,d]=k.useState(""),[h,p]=k.useState(!1),[_,v]=k.useState(!1),S=async()=>{if(!(!i||!a||!n)){p(!0),d("");try{const M=await h6e(i,n,a,r);d(M)}catch{d("Kon geen e-mail genereren.")}finally{p(!1)}}},E=()=>{navigator.clipboard.writeText(u),v(!0),setTimeout(()=>v(!1),2e3)};if(!t)return null;const A="w-full text-center py-2 px-3 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-surface text-sm",I="bg-brand-primary text-white shadow-md focus:ring-brand-primary",j="bg-brand-secondary text-brand-text-secondary hover:bg-brand-border hover:text-brand-text-primary focus:ring-brand-primary/50";return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:e,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl shadow-2xl w-full max-w-2xl h-[85vh] flex flex-col",onClick:M=>M.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b border-brand-border flex justify-between items-center flex-shrink-0",children:[f.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[f.jsx(Yr,{className:"w-6 h-6 mr-3 text-brand-primary"})," ",s("email_assistant_title")]}),f.jsx("button",{onClick:e,className:"text-2xl font-light text-brand-text-secondary hover:text-brand-text-primary",children:""})]}),f.jsxs("div",{className:"flex-grow p-6 overflow-y-auto",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-brand-text-secondary mb-2",children:s("step1_email_goal")}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[f.jsx("button",{onClick:()=>l("afspraak bevestigen"),className:`${A} ${a==="afspraak bevestigen"?I:j}`,children:s("goal_confirm_appointment")}),f.jsx("button",{onClick:()=>l("offerte nasturen"),className:`${A} ${a==="offerte nasturen"?I:j}`,children:s("goal_send_quote")}),f.jsx("button",{onClick:()=>l("bedanken voor gesprek"),className:`${A} ${a==="bedanken voor gesprek"?I:j}`,children:s("goal_thank_for_meeting")})]})]}),a&&f.jsx("div",{className:"mb-6 animate-fade-in",children:f.jsx("button",{onClick:S,disabled:h,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",children:h?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("generating_email")]}):f.jsxs(f.Fragment,{children:[f.jsx(Yr,{className:"w-5 h-5 mr-2"}),s("step2_generate_email")]})})}),u&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("label",{className:"block text-sm font-medium text-brand-text-secondary mb-2",children:s("step3_result")}),f.jsx("div",{className:"bg-brand-secondary border border-brand-border rounded-lg p-4 h-96 overflow-y-auto whitespace-pre-wrap prose prose-invert max-w-none text-brand-text-primary prose-p:my-2",children:f.jsx(si,{children:u})})]})]}),u&&!h&&f.jsx("div",{className:"p-4 border-t border-brand-border flex-shrink-0",children:f.jsx("button",{onClick:E,className:"w-full bg-green-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:s(_?"copied":"copy_to_clipboard")})})]})})},yS=({title:t,icon:e,content:n})=>{const r=n.split("### ").filter(i=>i.trim()!=="");return f.jsxs("div",{className:"mt-4 bg-brand-secondary border border-brand-border rounded-xl animate-fade-in-fast",children:[f.jsxs("div",{className:"p-4 border-b border-brand-border flex items-center",children:[f.jsx("div",{className:"w-6 h-6 mr-3 text-brand-primary",children:e}),f.jsx("h3",{className:"text-xl font-semibold text-brand-text-primary",children:t})]}),f.jsx("div",{className:"p-4 space-y-4",children:r.map((i,s)=>{const a=i.split(`
`),l=a[0].trim(),u=a.slice(1).join(`
`).trim();return f.jsxs("div",{className:s>0?"pt-4 border-t border-brand-border":"",children:[f.jsx("h4",{className:"font-semibold text-brand-text-primary mb-2",children:l}),f.jsx("div",{className:"prose prose-invert max-w-none text-brand-text-secondary prose-p:my-1 prose-ul:my-1 prose-li:my-0",children:f.jsx(si,{children:u})})]},s)})})]})},J8e=()=>{const{user:t,clients:e,addClient:n,updateClient:r,deleteClient:i}=bt(),{t:s,language:a}=Xe(),[l,u]=k.useState(null),[d,h]=k.useState(!1),[p,_]=k.useState({name:"",company:"",notes:""}),[v,S]=k.useState(!1),[E,A]=k.useState(""),[I,j]=k.useState(!1),[M,B]=k.useState(""),[V,N]=k.useState(!1),[P,O]=k.useState(""),[D,z]=k.useState(!1),$=F=>{u(F),A(""),B(""),O("")},U=(F=null)=>{F?(_({id:F.id,name:F.name,company:F.company,notes:F.notes}),u(F)):(_({name:"",company:"",notes:""}),u(null)),h(!0)},q=()=>{h(!1)},te=F=>{const{name:K,value:Q}=F.target;_(H=>({...H,[K]:Q}))},ee=async F=>{F.preventDefault();try{if(l&&p.id){const K={...l,...p};await r(K),u(K)}else{const K={name:p.name,company:p.company,notes:p.notes,createdAt:new Date().toISOString()};await n(K)}q()}catch(K){alert(`Fout bij opslaan van klant: ${K.message}`)}},Y=async F=>{if(window.confirm(s("delete_confirm")))try{await i(F),(l==null?void 0:l.id)===F&&u(null)}catch(K){alert(`Fout bij verwijderen van klant: ${K.message}`)}},X=async()=>{if(l){S(!0),A(""),B(""),O("");try{const F=await o6e(l.notes,a);A(F)}catch{A("Fout bij het analyseren van notities.")}finally{S(!1)}}},fe=async()=>{if(!(!l||!t)){j(!0),B(""),A(""),O("");try{const F=await d6e(t,l,a);B(F)}catch{B("Fout bij het genereren van de briefing.")}finally{j(!1)}}},be=async()=>{if(l){N(!0),O(""),A(""),B("");try{const F=await f6e(l.notes,a);O(F)}catch{O("Fout bij het genereren van het klantprofiel.")}finally{N(!1)}}};return t?f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold",children:s("clients_title")}),f.jsxs("button",{onClick:()=>U(),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),s("new_client")]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1 bg-brand-surface rounded-xl p-4 shadow-lg h-[calc(100vh-12rem)] flex flex-col",children:f.jsx("div",{className:"overflow-y-auto",children:e.length>0?e.map(F=>f.jsxs("div",{onClick:()=>$(F),className:`p-4 rounded-lg cursor-pointer mb-2 transition-colors ${(l==null?void 0:l.id)===F.id?"bg-brand-primary text-white":"bg-brand-secondary hover:bg-brand-border"}`,children:[f.jsx("p",{className:"font-semibold",children:F.name}),f.jsx("p",{className:`text-sm ${(l==null?void 0:l.id)===F.id?"text-gray-200":"text-brand-text-secondary"}`,children:F.company})]},F.id)):f.jsxs("div",{className:"text-center text-brand-text-secondary py-10",children:[f.jsx(_v,{className:"mx-auto w-12 h-12 mb-4"}),f.jsx("p",{className:"font-semibold",children:s("clients_empty_list_title")}),f.jsx("p",{className:"text-sm",children:s("clients_empty_list_subtitle")})]})})}),f.jsx("div",{className:"md:col-span-2 bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-12rem)] overflow-y-auto",children:l?f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold",children:l.name}),f.jsx("p",{className:"text-lg text-brand-text-secondary mb-4",children:l.company})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>U(l),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:s("edit")}),f.jsx("button",{onClick:()=>Y(l.id),className:"bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500 hover:text-white transition-colors grid place-items-center w-8 h-8",children:f.jsx(Va,{className:"w-5 h-5"})})]})]}),f.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2 border-b border-brand-border pb-2",children:s("notes")}),f.jsx("p",{className:"whitespace-pre-wrap text-brand-text-secondary min-h-[5rem] prose max-w-none",children:l.notes||s("no_notes")}),f.jsxs("div",{className:"mt-6 border-t border-brand-border pt-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsx("button",{onClick:fe,disabled:I||!l.notes,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",children:I?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("generating_briefing")]}):f.jsxs(f.Fragment,{children:[f.jsx(dp,{className:"w-5 h-5 mr-2"}),s("generate_briefing")]})}),f.jsx("button",{onClick:be,disabled:V||!l.notes,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",children:V?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("generating_client_profile")]}):f.jsxs(f.Fragment,{children:[f.jsx(VE,{className:"w-5 h-5 mr-2"}),s("generate_client_profile")]})}),f.jsx("button",{onClick:X,disabled:v||!l.notes,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-brand-border transition-opacity disabled:opacity-50",children:v?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("analyzing_notes")]}):f.jsxs(f.Fragment,{children:[f.jsx(Yr,{className:"w-5 h-5 mr-2"}),s("analyze_notes")]})})]}),M&&f.jsx(yS,{title:s("pre_call_briefing"),icon:f.jsx(dp,{}),content:M}),P&&f.jsx(yS,{title:s("ai_client_profile"),icon:f.jsx(VE,{}),content:P}),E&&f.jsxs("div",{className:"mt-4",children:[f.jsx(yS,{title:s("note_analysis"),icon:f.jsx(Yr,{}),content:E}),(t.salesChannel==="telefonisch"||t.salesChannel==="beide")&&f.jsx("div",{className:"mt-4 pt-4 border-t border-brand-border",children:f.jsxs("button",{onClick:()=>z(!0),className:"bg-green-600/20 text-green-500 font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-green-600 hover:text-white transition-colors",children:[f.jsx($E,{className:"w-5 h-5 mr-2"}),s("compose_follow_up_email")]})})]})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-brand-text-secondary text-center",children:[f.jsx(_v,{className:"w-16 h-16 mb-4"}),f.jsx("p",{className:"font-semibold text-lg",children:s("select_client_title")}),f.jsx("p",{children:s("select_client_subtitle")})]})})]}),d&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in-fast",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md m-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:s(l?"modal_edit_client":"modal_add_client")}),f.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:s("form_name")}),f.jsx("input",{type:"text",name:"name",id:"name",value:p.name,onChange:te,required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:s("form_company")}),f.jsx("input",{type:"text",name:"company",id:"company",value:p.company,onChange:te,required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:s("form_notes")}),f.jsx("textarea",{name:"notes",id:"notes",value:p.notes,onChange:te,rows:5,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none resize-none"})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:q,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:s("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",children:s("save")})]})]})]})}),f.jsx(Y8e,{isOpen:D,onClose:()=>z(!1),analysisResult:E,language:a})]}):null};function UB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UB(t))&&(r&&(r+=" "),r+=e);return r}var X8e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function qk(t){if(typeof t!="string")return!1;var e=X8e;return e.includes(t)}var Q8e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z8e=new Set(Q8e);function zB(t){return typeof t!="string"?!1:Z8e.has(t)}function BB(t){return typeof t=="string"&&t.startsWith("data-")}function wo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(zB(n)||BB(n))&&(e[n]=t[n]);return e}function Gk(t){if(t==null)return null;if(k.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return wo(e)}return typeof t=="object"&&!Array.isArray(t)?wo(t):null}function Es(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(zB(n)||BB(n)||qk(n))&&(e[n]=t[n]);return e}var eHe=["children","width","height","viewBox","className","style","title","desc"];function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(null,arguments)}function tHe(t,e){if(t==null)return{};var n,r,i=nHe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hk=k.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:u,desc:d}=t,h=tHe(t,eHe),p=s||{width:r,height:i,x:0,y:0},_=fn("recharts-surface",a);return k.createElement("svg",s1({},Es(h),{className:_,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),k.createElement("title",null,u),k.createElement("desc",null,d),n)}),rHe=["children","className"];function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}function iHe(t,e){if(t==null)return{};var n,r,i=sHe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var So=k.forwardRef((t,e)=>{var{children:n,className:r}=t,i=iHe(t,rHe),s=fn("recharts-layer",r);return k.createElement("g",a1({className:s},Es(i),{ref:e}),n)}),Kk=RV(),FB=k.createContext(null),aHe=()=>k.useContext(FB);function cn(t){return function(){return t}}const qB=Math.cos,Tv=Math.sin,Zs=Math.sqrt,Ev=Math.PI,Xb=2*Ev,o1=Math.PI,l1=2*o1,Uc=1e-6,oHe=l1-Uc;function GB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lHe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return GB;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cHe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?GB:lHe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=r-e,d=i-n,h=a-e,p=l-n,_=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Uc)if(!(Math.abs(p*u-d*h)>Uc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,S=i-l,E=u*u+d*d,A=v*v+S*S,I=Math.sqrt(E),j=Math.sqrt(_),M=s*Math.tan((o1-Math.acos((E+_-A)/(2*I*j)))/2),B=M/j,V=M/I;Math.abs(B-1)>Uc&&this._append`L${e+B*h},${n+B*p}`,this._append`A${s},${s},0,0,${+(p*v>h*S)},${this._x1=e+V*u},${this._y1=n+V*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,h=n+u,p=1^a,_=a?i-s:s-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Uc||Math.abs(this._y1-h)>Uc)&&this._append`L${d},${h}`,r&&(_<0&&(_=_%l1+l1),_>oHe?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:_>Uc&&this._append`A${r},${r},0,${+(_>=o1)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Wk(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cHe(e)}function Yk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HB(t){this._context=t}HB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qb(t){return new HB(t)}function KB(t){return t[0]}function WB(t){return t[1]}function YB(t,e){var n=cn(!0),r=null,i=Qb,s=null,a=Wk(l);t=typeof t=="function"?t:t===void 0?KB:cn(t),e=typeof e=="function"?e:e===void 0?WB:cn(e);function l(u){var d,h=(u=Yk(u)).length,p,_=!1,v;for(r==null&&(s=i(v=a())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+t(p,d,u),+e(p,d,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:cn(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:cn(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:cn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function ey(t,e,n){var r=null,i=cn(!0),s=null,a=Qb,l=null,u=Wk(d);t=typeof t=="function"?t:t===void 0?KB:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?WB:cn(+n);function d(p){var _,v,S,E=(p=Yk(p)).length,A,I=!1,j,M=new Array(E),B=new Array(E);for(s==null&&(l=a(j=u())),_=0;_<=E;++_){if(!(_<E&&i(A=p[_],_,p))===I)if(I=!I)v=_,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=_-1;S>=v;--S)l.point(M[S],B[S]);l.lineEnd(),l.areaEnd()}I&&(M[_]=+t(A,_,p),B[_]=+e(A,_,p),l.point(r?+r(A,_,p):M[_],n?+n(A,_,p):B[_]))}if(j)return l=null,j+""||null}function h(){return YB().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:cn(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:cn(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:cn(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:cn(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:cn(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:cn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:cn(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(l=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=l=null:l=a(s=p),d):s},d}class JB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uHe(t){return new JB(t,!0)}function dHe(t){return new JB(t,!1)}const Jk={draw(t,e){const n=Zs(e/Ev);t.moveTo(n,0),t.arc(0,0,n,0,Xb)}},fHe={draw(t,e){const n=Zs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},XB=Zs(1/3),hHe=XB*2,mHe={draw(t,e){const n=Zs(e/hHe),r=n*XB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pHe={draw(t,e){const n=Zs(e),r=-n/2;t.rect(r,r,n,n)}},gHe=.8908130915292852,QB=Tv(Ev/10)/Tv(7*Ev/10),_He=Tv(Xb/10)*QB,yHe=-qB(Xb/10)*QB,vHe={draw(t,e){const n=Zs(e*gHe),r=_He*n,i=yHe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Xb*s/5,l=qB(a),u=Tv(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},vS=Zs(3),bHe={draw(t,e){const n=-Zs(e/(vS*3));t.moveTo(0,n*2),t.lineTo(-vS*n,-n),t.lineTo(vS*n,-n),t.closePath()}},ms=-.5,ps=Zs(3)/2,c1=1/Zs(12),xHe=(c1/2+1)*3,wHe={draw(t,e){const n=Zs(e/xHe),r=n/2,i=n*c1,s=r,a=n*c1+n,l=-s,u=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,u),t.lineTo(ms*r-ps*i,ps*r+ms*i),t.lineTo(ms*s-ps*a,ps*s+ms*a),t.lineTo(ms*l-ps*u,ps*l+ms*u),t.lineTo(ms*r+ps*i,ms*i-ps*r),t.lineTo(ms*s+ps*a,ms*a-ps*s),t.lineTo(ms*l+ps*u,ms*u-ps*l),t.closePath()}};function SHe(t,e){let n=null,r=Wk(i);t=typeof t=="function"?t:cn(t||Jk),e=typeof e=="function"?e:cn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:cn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:cn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Av(){}function kv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ZB(t){this._context=t}ZB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function THe(t){return new ZB(t)}function eF(t){this._context=t}eF.prototype={areaStart:Av,areaEnd:Av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EHe(t){return new eF(t)}function tF(t){this._context=t}tF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AHe(t){return new tF(t)}function nF(t){this._context=t}nF.prototype={areaStart:Av,areaEnd:Av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kHe(t){return new nF(t)}function wO(t){return t<0?-1:1}function SO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(wO(s)+wO(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function TO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function bS(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function Iv(t){this._context=t}Iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bS(this,this._t0,TO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,bS(this,TO(this,n=SO(this,t,e)),n);break;default:bS(this,this._t0,n=SO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rF(t){this._context=new iF(t)}(rF.prototype=Object.create(Iv.prototype)).point=function(t,e){Iv.prototype.point.call(this,e,t)};function iF(t){this._context=t}iF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function IHe(t){return new Iv(t)}function CHe(t){return new rF(t)}function sF(t){this._context=t}sF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=EO(t),i=EO(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function EO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function NHe(t){return new sF(t)}function Zb(t,e){this._context=t,this._t=e}Zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PHe(t){return new Zb(t,.5)}function RHe(t){return new Zb(t,0)}function MHe(t){return new Zb(t,1)}function bf(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function u1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function DHe(t,e){return t[e]}function jHe(t){const e=[];return e.key=t,e}function OHe(){var t=cn([]),e=u1,n=bf,r=DHe;function i(s){var a=Array.from(t.apply(this,arguments),jHe),l,u=a.length,d=-1,h;for(const p of s)for(l=0,++d;l<u;++l)(a[l][d]=[0,+r(p,a[l].key,d,s)]).data=p;for(l=0,h=Yk(e(a));l<u;++l)a[h[l]].index=l;return n(a,h),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:cn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:cn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?u1:typeof s=="function"?s:cn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??bf,i):n},i}function LHe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}bf(t,e)}}function $He(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}bf(t,e)}}function VHe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,u=0,d=0;l<a;++l){for(var h=t[e[l]],p=h[r][1]||0,_=h[r-1][1]||0,v=(p-_)/2,S=0;S<l;++S){var E=t[e[S]],A=E[r][1]||0,I=E[r-1][1]||0;v+=A-I}u+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,bf(t,e)}}var xS={},wS={},AO;function UHe(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(wS)),wS}var SS={},kO;function aF(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(SS)),SS}var TS={},IO;function Xk(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(TS)),TS}var ES={},AS={},CO;function zHe(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(AS)),AS}var NO;function Qk(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zHe(),n=Xk();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const p=i[l];d?p==="\\"&&l+1<a?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,s.push(u),u=""):u+=p:p==="["?(h=!0,u&&(s.push(u),u="")):p==="."?u&&(s.push(u),u=""):u+=p,l++}return u&&s.push(u),s}t.toPath=r})(ES)),ES}var PO;function Zk(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UHe(),n=aF(),r=Xk(),i=Qk();function s(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?s(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return a(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function a(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||e.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}t.get=s})(xS)),xS}var kS,RO;function BHe(){return RO||(RO=1,kS=Zk().get),kS}var FHe=BHe();const xf=Is(FHe);var Ti=t=>t===0?0:t>0?1:-1,Ws=t=>typeof t=="number"&&t!=+t,To=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ke=t=>(typeof t=="number"||t instanceof Number)&&!Ws(t),ja=t=>Ke(t)||typeof t=="string",qHe=0,gp=t=>{var e=++qHe;return"".concat(t||"").concat(e)},Ys=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&typeof e!="string")return r;var s;if(To(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Ws(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},oF=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function jr(t,e,n){return Ke(t)&&Ke(e)?t+n*(e-t):e}function GHe(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):xf(r,e))===n)}var wr=t=>t===null||typeof t>"u",eg=t=>wr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function HHe(t){return t!=null}function tg(){}var KHe=["type","size","sizeType"];function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d1.apply(null,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){WHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WHe(t,e,n){return(e=YHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YHe(t){var e=JHe(t,"string");return typeof e=="symbol"?e:e+""}function JHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XHe(t,e){if(t==null)return{};var n,r,i=QHe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lF={symbolCircle:Jk,symbolCross:fHe,symbolDiamond:mHe,symbolSquare:pHe,symbolStar:vHe,symbolTriangle:bHe,symbolWye:wHe},ZHe=Math.PI/180,e7e=t=>{var e="symbol".concat(eg(t));return lF[e]||Jk},t7e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ZHe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},n7e=(t,e)=>{lF["symbol".concat(eg(t))]=e},eI=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=XHe(t,KHe),s=DO(DO({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var _=e7e(a),v=SHe().type(_).size(t7e(n,r,a)),S=v();if(S!==null)return S},{className:u,cx:d,cy:h}=s,p=Es(s);return Ke(d)&&Ke(h)&&Ke(n)?k.createElement("path",d1({},p,{className:fn("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:l()})):null};eI.registerSymbol=n7e;var cF=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,r7e=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{qk(i)&&(r[i]=(s=>n[i](n,s)))}),r},i7e=(t,e,n)=>r=>(t(e,n,r),null),ex=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];qk(i)&&typeof s=="function"&&(r||(r={}),r[i]=i7e(s,e,n))}),r};function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s7e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){a7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a7e(t,e,n){return(e=o7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o7e(t){var e=l7e(t,"string");return typeof e=="symbol"?e:e+""}function l7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oi(t,e){var n=s7e({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c7e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){u7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u7e(t,e,n){return(e=d7e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d7e(t){var e=f7e(t,"string");return typeof e=="symbol"?e:e+""}function f7e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _s=32,h7e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function m7e(t){var{data:e,iconType:n,inactiveColor:r}=t,i=_s/2,s=_s/6,a=_s/3,l=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var d;return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:_s,y2:i,className:"recharts-legend-icon"})}if(u==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(_s,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_s/8,"h").concat(_s,"v").concat(_s*3/4,"h").concat(-_s,"z"),className:"recharts-legend-icon"});if(k.isValidElement(e.legendIcon)){var h=c7e({},e);return delete h.legendIcon,k.cloneElement(e.legendIcon,h)}return k.createElement(eI,{fill:l,cx:i,cy:i,size:_s,sizeType:"diameter",type:u})}function p7e(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=t,l={x:0,y:0,width:_s,height:_s},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var _=h.formatter||i,v=fn({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?s:h.color,E=_?_(h.value,h,p):h.value;return k.createElement("li",Cv({className:v,style:u,key:"legend-item-".concat(p)},ex(t,h,p)),k.createElement(Hk,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(E," legend icon")},k.createElement(m7e,{data:h,iconType:a,inactiveColor:s})),k.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var g7e=t=>{var e=oi(t,h7e),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},k.createElement(p7e,Cv({},e,{payload:n})))},IS={},CS={},LO;function _7e(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(CS)),CS}var NS={},$O;function uF(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(NS)),NS}var PS={},RS={},MS={},VO;function y7e(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(MS)),MS}var UO;function tI(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y7e();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(RS)),RS}var DS={},zO;function v7e(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(DS)),DS}var BO;function b7e(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tI(),n=v7e();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(PS)),PS}var jS={},OS={},FO;function x7e(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zk();function n(r){return function(i){return e.get(i,r)}}t.property=n})(OS)),OS}var LS={},$S={},VS={},US={},qO;function dF(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(US)),US}var zS={},GO;function fF(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(zS)),zS}var BS={},HO;function hF(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(BS)),BS}var KO;function w7e(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dF(),n=fF(),r=hF();function i(h,p,_){return typeof _!="function"?i(h,p,()=>{}):s(h,p,function v(S,E,A,I,j,M){const B=_(S,E,A,I,j,M);return B!==void 0?!!B:s(S,E,v,M)},new Map)}function s(h,p,_,v){if(p===h)return!0;switch(typeof p){case"object":return a(h,p,_,v);case"function":return Object.keys(p).length>0?s(h,{...p},_,v):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function a(h,p,_,v){if(p==null)return!0;if(Array.isArray(p))return u(h,p,_,v);if(p instanceof Map)return l(h,p,_,v);if(p instanceof Set)return d(h,p,_,v);const S=Object.keys(p);if(h==null)return S.length===0;if(S.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===h;v==null||v.set(p,h);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(h)&&!(A in h)||p[A]===void 0&&h[A]!==void 0||p[A]===null&&h[A]!==null||!_(h[A],p[A],A,h,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function l(h,p,_,v){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of p.entries()){const A=h.get(S);if(_(A,E,S,h,p,v)===!1)return!1}return!0}function u(h,p,_,v){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<p.length;E++){const A=p[E];let I=!1;for(let j=0;j<h.length;j++){if(S.has(j))continue;const M=h[j];let B=!1;if(_(M,A,E,h,p,v)&&(B=!0),B){S.add(j),I=!0;break}}if(!I)return!1}return!0}function d(h,p,_,v){return p.size===0?!0:h instanceof Set?u([...h],[...p],_,v):!1}t.isMatchWith=i,t.isSetMatch=d})(VS)),VS}var WO;function mF(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w7e();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})($S)),$S}var FS={},qS={},GS={},YO;function S7e(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(GS)),GS}var HS={},JO;function pF(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(HS)),HS}var KS={},XO;function gF(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",_="[object ArrayBuffer]",v="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",j="[object Uint16Array]",M="[object Uint32Array]",B="[object BigUint64Array]",V="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=E,t.dateTag=l,t.errorTag=S,t.float32ArrayTag=D,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=N,t.int32ArrayTag=P,t.int8ArrayTag=V,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=j,t.uint32ArrayTag=M,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=I})(KS)),KS}var WS={},QO;function T7e(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(WS)),WS}var ZO;function _F(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S7e(),n=pF(),r=gF(),i=fF(),s=T7e();function a(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,_,v=new Map,S=void 0){const E=S==null?void 0:S(h,p,_,v);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const A=new Array(h.length);v.set(h,A);for(let I=0;I<h.length;I++)A[I]=l(h[I],I,_,v,S);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;v.set(h,A);for(const[I,j]of h)A.set(I,l(j,I,_,v,S));return A}if(h instanceof Set){const A=new Set;v.set(h,A);for(const I of h)A.add(l(I,void 0,_,v,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,A);for(let I=0;I<h.length;I++)A[I]=l(h[I],I,_,v,S);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,A),u(A,h,_,v,S),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return v.set(h,A),u(A,h,_,v,S),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return v.set(h,A),u(A,h,_,v,S),A}if(h instanceof Error){const A=new h.constructor;return v.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,u(A,h,_,v,S),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return v.set(h,A),u(A,h,_,v,S),A}if(h instanceof Number){const A=new Number(h.valueOf());return v.set(h,A),u(A,h,_,v,S),A}if(h instanceof String){const A=new String(h.valueOf());return v.set(h,A),u(A,h,_,v,S),A}if(typeof h=="object"&&d(h)){const A=Object.create(Object.getPrototypeOf(h));return v.set(h,A),u(A,h,_,v,S),A}return h}function u(h,p,_=h,v,S){const E=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<E.length;A++){const I=E[A],j=Object.getOwnPropertyDescriptor(h,I);(j==null||j.writable)&&(h[I]=l(p[I],I,_,v,S))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u})(qS)),qS}var eL;function E7e(){return eL||(eL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(FS)),FS}var tL;function A7e(){return tL||(tL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mF(),n=E7e();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(LS)),LS}var YS={},JS={},XS={},nL;function k7e(){return nL||(nL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F(),n=gF();function r(i,s){return e.cloneDeepWith(i,(a,l,u,d)=>{const h=s==null?void 0:s(a,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(XS)),XS}var rL;function I7e(){return rL||(rL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k7e();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(JS)),JS}var QS={},ZS={},iL;function yF(){return iL||(iL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(ZS)),ZS}var eT={},sL;function C7e(){return sL||(sL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pF();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(eT)),eT}var aL;function N7e(){return aL||(aL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aF(),n=yF(),r=C7e(),i=Qk();function s(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=a;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=s})(QS)),QS}var oL;function P7e(){return oL||(oL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mF(),n=Xk(),r=I7e(),i=Zk(),s=N7e();function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?s.has(d,l):u===void 0?h===void 0:e.isMatch(h,u)}}t.matchesProperty=a})(YS)),YS}var lL;function R7e(){return lL||(lL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uF(),n=x7e(),r=A7e(),i=P7e();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(jS)),jS}var cL;function M7e(){return cL||(cL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_7e(),n=uF(),r=b7e(),i=R7e();function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(IS)),IS}var tT,uL;function D7e(){return uL||(uL=1,tT=M7e().uniqBy),tT}var j7e=D7e();const dL=Is(j7e);function vF(t,e,n){return e===!0?dL(t,n):typeof e=="function"?dL(t,e):t}var nT={exports:{}},rT={},iT={exports:{}},sT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL;function O7e(){if(fL)return sT;fL=1;var t=Cf();function e(p,_){return p===_&&(p!==0||1/p===1/_)||p!==p&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(p,_){var v=_(),S=r({inst:{value:v,getSnapshot:_}}),E=S[0].inst,A=S[1];return s(function(){E.value=v,E.getSnapshot=_,u(E)&&A({inst:E})},[p,v,_]),i(function(){return u(E)&&A({inst:E}),p(function(){u(E)&&A({inst:E})})},[p]),a(v),v}function u(p){var _=p.getSnapshot;p=p.value;try{var v=_();return!n(p,v)}catch{return!0}}function d(p,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return sT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,sT}var hL;function L7e(){return hL||(hL=1,iT.exports=O7e()),iT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL;function $7e(){if(mL)return rT;mL=1;var t=Cf(),e=L7e();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return rT.useSyncExternalStoreWithSelector=function(d,h,p,_,v){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=l(function(){function I(N){if(!j){if(j=!0,M=N,N=_(N),v!==void 0&&E.hasValue){var P=E.value;if(v(P,N))return B=P}return B=N}if(P=B,r(M,N))return P;var O=_(N);return v!==void 0&&v(P,O)?(M=N,P):(M=N,B=O)}var j=!1,M,B,V=p===void 0?null:p;return[function(){return I(h())},V===null?void 0:function(){return I(V())}]},[h,p,_,v]);var A=i(d,S[0],S[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),u(A),A},rT}var pL;function V7e(){return pL||(pL=1,nT.exports=$7e()),nT.exports}var U7e=V7e(),nI=k.createContext(null),z7e=t=>t,Cn=()=>{var t=k.useContext(nI);return t?t.store.dispatch:z7e},$y=()=>{},B7e=()=>$y,F7e=(t,e)=>t===e;function We(t){var e=k.useContext(nI);return U7e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:B7e,e?e.store.getState:$y,e?e.store.getState:$y,e?t:$y,F7e)}function q7e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function G7e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function H7e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var gL=t=>Array.isArray(t)?t:[t];function K7e(t){const e=Array.isArray(t[0])?t[0]:t;return H7e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function W7e(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Y7e=class{constructor(t){this.value=t}deref(){return this.value}},J7e=typeof WeakRef<"u"?WeakRef:Y7e,X7e=0,_L=1;function ty(){return{s:X7e,v:void 0,o:null,p:null}}function bF(t,e={}){let n=ty();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var p;let l=n;const{length:u}=arguments;for(let _=0,v=u;_<v;_++){const S=arguments[_];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=l.o;E===null&&(l.o=E=new WeakMap);const A=E.get(S);A===void 0?(l=ty(),E.set(S,l)):l=A}else{let E=l.p;E===null&&(l.p=E=new Map);const A=E.get(S);A===void 0?(l=ty(),E.set(S,l)):l=A}}const d=l;let h;if(l.s===_L)h=l.v;else if(h=t.apply(null,arguments),s++,r){const _=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;_!=null&&r(_,h)&&(h=_,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new J7e(h):h}return d.s=_L,d.v=h,h}return a.clearCache=()=>{n=ty(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Q7e(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),q7e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:_=[],argsMemoize:v=bF,argsMemoizeOptions:S=[]}=h,E=gL(_),A=gL(S),I=K7e(i),j=p(function(){return s++,d.apply(null,arguments)},...E),M=v(function(){a++;const V=W7e(I,arguments);return l=j.apply(null,V),l},...A);return Object.assign(M,{resultFunc:d,memoizedResultFunc:j,dependencies:I,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var pe=Q7e(bF),Z7e=Object.assign((t,e=pe)=>{G7e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>Z7e}),aT={},oT={},lT={},yL;function eKe(){return yL||(yL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(lT)),lT}var cT={},uT={},vL;function xF(){return vL||(vL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(uT)),uT}var bL;function tKe(){return bL||(bL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xF(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(cT)),cT}var xL;function nKe(){return xL||(xL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eKe(),n=tKe(),r=Qk();function i(s,a,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,S)=>{let E=v;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},h=(v,S)=>S==null||v==null?S:typeof v=="object"&&"key"in v?Object.hasOwn(S,v.key)?S[v.key]:d(S,v.path):typeof v=="function"?v(S):Array.isArray(v)?d(S,v):typeof S=="object"?S[v]:S,p=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:p.map(S=>h(S,v))})).slice().sort((v,S)=>{for(let E=0;E<p.length;E++){const A=e.compareValues(v.criteria[E],S.criteria[E],l[E]);if(A!==0)return A}return 0}).map(v=>v.original)}t.orderBy=i})(oT)),oT}var dT={},wL;function rKe(){return wL||(wL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<s?a(h,u+1):i.push(h)}};return a(n,0),i}t.flatten=e})(dT)),dT}var fT={},SL;function wF(){return SL||(SL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yF(),n=tI(),r=dF(),i=hF();function s(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=s})(fT)),fT}var TL;function iKe(){return TL||(TL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nKe(),n=rKe(),r=wF();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(aT)),aT}var hT,EL;function sKe(){return EL||(EL=1,hT=iKe().sortBy),hT}var aKe=sKe();const tx=Is(aKe);var SF=t=>t.legend.settings,oKe=t=>t.legend.size,lKe=t=>t.legend.payload,cKe=pe([lKe,SF],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?tx(r,n):r});function uKe(){return We(cKe)}var ny=1;function TF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=k.useState({height:0,left:0,top:0,width:0}),r=k.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ny||Math.abs(a.left-e.left)>ny||Math.abs(a.top-e.top)>ny||Math.abs(a.width-e.width)>ny)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dKe=typeof Symbol=="function"&&Symbol.observable||"@@observable",AL=dKe,mT=()=>Math.random().toString(36).substring(7).split("").join("."),fKe={INIT:`@@redux/INIT${mT()}`,REPLACE:`@@redux/REPLACE${mT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mT()}`},Nv=fKe;function rI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function EF(t,e,n){if(typeof t!="function")throw new Error(Mr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mr(1));return n(EF)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((A,I)=>{a.set(I,A)}))}function h(){if(u)throw new Error(Mr(3));return i}function p(A){if(typeof A!="function")throw new Error(Mr(4));if(u)throw new Error(Mr(5));let I=!0;d();const j=l++;return a.set(j,A),function(){if(I){if(u)throw new Error(Mr(6));I=!1,d(),a.delete(j),s=null}}}function _(A){if(!rI(A))throw new Error(Mr(7));if(typeof A.type>"u")throw new Error(Mr(8));if(typeof A.type!="string")throw new Error(Mr(17));if(u)throw new Error(Mr(9));try{u=!0,i=r(i,A)}finally{u=!1}return(s=a).forEach(j=>{j()}),A}function v(A){if(typeof A!="function")throw new Error(Mr(10));r=A,_({type:Nv.REPLACE})}function S(){const A=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Mr(11));function j(){const B=I;B.next&&B.next(h())}return j(),{unsubscribe:A(j)}},[AL](){return this}}}return _({type:Nv.INIT}),{dispatch:_,subscribe:p,getState:h,replaceReducer:v,[AL]:S}}function hKe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Nv.INIT})>"u")throw new Error(Mr(12));if(typeof n(void 0,{type:Nv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mr(13))})}function AF(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{hKe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],_=n[p],v=a[p],S=_(v,l);if(typeof S>"u")throw l&&l.type,new Error(Mr(14));d[p]=S,u=u||S!==v}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Pv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function mKe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Mr(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},l=t.map(u=>u(a));return s=Pv(...l)(i.dispatch),{...i,dispatch:s}}}function kF(t){return rI(t)&&"type"in t&&typeof t.type=="string"}var IF=Symbol.for("immer-nothing"),kL=Symbol.for("immer-draftable"),Xi=Symbol.for("immer-state");function Fs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _p=Object.getPrototypeOf;function vu(t){return!!t&&!!t[Xi]}function Eo(t){var e;return t?CF(t)||Array.isArray(t)||!!t[kL]||!!((e=t.constructor)!=null&&e[kL])||ng(t)||rx(t):!1}var pKe=Object.prototype.constructor.toString(),IL=new WeakMap;function CF(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=IL.get(n);return r===void 0&&(r=Function.toString.call(n),IL.set(n,r)),r===pKe}function Rv(t,e,n=!0){nx(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function nx(t){const e=t[Xi];return e?e.type_:Array.isArray(t)?1:ng(t)?2:rx(t)?3:0}function f1(t,e){return nx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NF(t,e,n){const r=nx(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gKe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ng(t){return t instanceof Map}function rx(t){return t instanceof Set}function zc(t){return t.copy_||t.base_}function h1(t,e){if(ng(t))return new Map(t);if(rx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=CF(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(_p(t),r)}else{const r=_p(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function iI(t,e=!1){return ix(t)||vu(t)||!Eo(t)||(nx(t)>1&&Object.defineProperties(t,{set:ry,add:ry,clear:ry,delete:ry}),Object.freeze(t),e&&Object.values(t).forEach(n=>iI(n,!0))),t}function _Ke(){Fs(2)}var ry={value:_Ke};function ix(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var yKe={};function bu(t){const e=yKe[t];return e||Fs(0,t),e}var yp;function PF(){return yp}function vKe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CL(t,e){e&&(bu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function m1(t){p1(t),t.drafts_.forEach(bKe),t.drafts_=null}function p1(t){t===yp&&(yp=t.parent_)}function NL(t){return yp=vKe(yp,t)}function bKe(t){const e=t[Xi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xi].modified_&&(m1(e),Fs(4)),Eo(t)&&(t=Mv(e,t),e.parent_||Dv(e,t)),e.patches_&&bu("Patches").generateReplacementPatches_(n[Xi].base_,t,e.patches_,e.inversePatches_)):t=Mv(e,n,[]),m1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==IF?t:void 0}function Mv(t,e,n){if(ix(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Xi];if(!i)return Rv(e,(s,a)=>RL(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Dv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),Rv(a,(u,d)=>RL(t,i,s,u,d,n,l),r),Dv(t,s,!1),n&&t.patches_&&bu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function RL(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=ix(i);if(!(l&&!a)){if(vu(i)){const u=s&&e&&e.type_!==3&&!f1(e.assigned_,r)?s.concat(r):void 0,d=Mv(t,i,u);if(NF(n,r,d),vu(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Eo(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;Mv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(ng(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Dv(t,i)}}}function Dv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&iI(e,n)}function xKe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:PF(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=sI;n&&(i=[r],s=vp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var sI={get(t,e){if(e===Xi)return t;const n=zc(t);if(!f1(n,e))return wKe(t,n,e);const r=n[e];return t.finalized_||!Eo(r)?r:r===pT(t.base_,e)?(gT(t),t.copy_[e]=_1(r,t)):r},has(t,e){return e in zc(t)},ownKeys(t){return Reflect.ownKeys(zc(t))},set(t,e,n){const r=RF(zc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=pT(zc(t),e),s=i==null?void 0:i[Xi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gKe(n,i)&&(n!==void 0||f1(t.base_,e)))return!0;gT(t),g1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gT(t),g1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Fs(11)},getPrototypeOf(t){return _p(t.base_)},setPrototypeOf(){Fs(12)}},vp={};Rv(sI,(t,e)=>{vp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vp.deleteProperty=function(t,e){return vp.set.call(this,t,e,void 0)};vp.set=function(t,e,n){return sI.set.call(this,t[0],e,n,t[0])};function pT(t,e){const n=t[Xi];return(n?zc(n):t)[e]}function wKe(t,e,n){var i;const r=RF(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function RF(t,e){if(!(e in t))return;let n=_p(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=_p(n)}}function g1(t){t.modified_||(t.modified_=!0,t.parent_&&g1(t.parent_))}function gT(t){t.copy_||(t.copy_=h1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SKe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(u=s,...d){return a.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Fs(6),r!==void 0&&typeof r!="function"&&Fs(7);let i;if(Eo(e)){const s=NL(this),a=_1(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?m1(s):p1(s)}return CL(s,r),PL(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===IF&&(i=void 0),this.autoFreeze_&&iI(i,!0),r){const s=[],a=[];bu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Fs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Eo(t)||Fs(8),vu(t)&&(t=Hs(t));const e=NL(this),n=_1(t,void 0);return n[Xi].isManual_=!0,p1(e),n}finishDraft(t,e){const n=t&&t[Xi];(!n||!n.isManual_)&&Fs(9);const{scope_:r}=n;return CL(r,e),PL(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=bu("Patches").applyPatches_;return vu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _1(t,e){const n=ng(t)?bu("MapSet").proxyMap_(t,e):rx(t)?bu("MapSet").proxySet_(t,e):xKe(t,e);return(e?e.scope_:PF()).drafts_.push(n),n}function Hs(t){return vu(t)||Fs(10,t),MF(t)}function MF(t){if(!Eo(t)||ix(t))return t;const e=t[Xi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=h1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=h1(t,!0);return Rv(n,(i,s)=>{NF(n,i,MF(s))},r),e&&(e.finalized_=!1),n}var y1=new SKe,DF=y1.produce,TKe=y1.setUseStrictIteration.bind(y1);function jF(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var EKe=jF(),AKe=jF,kKe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pv:Pv.apply(null,arguments)};function As(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Yi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>kF(r)&&r.type===t,n}var OF=class km extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,km.prototype)}static get[Symbol.species](){return km}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new km(...e[0].concat(this)):new km(...e.concat(this))}};function ML(t){return Eo(t)?DF(t,()=>{}):t}function iy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function IKe(t){return typeof t=="boolean"}var CKe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new OF;return n&&(IKe(n)?a.push(EKe):a.push(AKe(n.extraArgument))),a},LF="RTK_autoBatch",Tn=()=>t=>({payload:t,meta:{[LF]:!0}}),DL=t=>e=>{setTimeout(e,t)},$F=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:DL(10):t.type==="callback"?t.queueNotification:DL(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),_=r.subscribe(p);return l.add(h),()=>{_(),l.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[LF]),s=!i,s&&(a||(a=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},NKe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new OF(t);return r&&i.push($F(typeof r=="object"?r:void 0)),i};function PKe(t){const e=CKe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(rI(n))l=AF(n);else throw new Error(Yi(1));let u;typeof r=="function"?u=r(e):u=e();let d=Pv;i&&(d=kKe({trace:!1,...typeof i=="object"&&i}));const h=mKe(...u),p=NKe(h);let _=typeof a=="function"?a(p):p();const v=d(..._);return EF(l,s,v)}function VF(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Yi(28));if(l in e)throw new Error(Yi(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}TKe(!1);function RKe(t){return typeof t=="function"}function MKe(t,e){let[n,r,i]=VF(e),s;if(RKe(t))s=()=>ML(t());else{const l=ML(t);s=()=>l}function a(l=s(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(vu(h)){const v=p(h,u);return v===void 0?h:v}else{if(Eo(h))return DF(h,_=>p(_,u));{const _=p(h,u);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},l)}return a.getInitialState=s,a}var DKe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jKe=(t=21)=>{let e="",n=t;for(;n--;)e+=DKe[Math.random()*64|0];return e},OKe=Symbol.for("rtk-slice-createasyncthunk");function LKe(t,e){return`${t}/${e}`}function $Ke({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[OKe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Yi(11));const l=(typeof i.reducers=="function"?i.reducers(UKe()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,V){const N=typeof B=="string"?B:B.type;if(!N)throw new Error(Yi(12));if(N in d.sliceCaseReducersByType)throw new Error(Yi(13));return d.sliceCaseReducersByType[N]=V,h},addMatcher(B,V){return d.sliceMatchers.push({matcher:B,reducer:V}),h},exposeAction(B,V){return d.actionCreators[B]=V,h},exposeCaseReducer(B,V){return d.sliceCaseReducersByName[B]=V,h}};u.forEach(B=>{const V=l[B],N={reducerName:B,type:LKe(s,B),createNotation:typeof i.reducers=="function"};BKe(V)?qKe(N,V,h,e):zKe(N,V,h)});function p(){const[B={},V=[],N=void 0]=typeof i.extraReducers=="function"?VF(i.extraReducers):[i.extraReducers],P={...B,...d.sliceCaseReducersByType};return MKe(i.initialState,O=>{for(let D in P)O.addCase(D,P[D]);for(let D of d.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of V)O.addMatcher(D.matcher,D.reducer);N&&O.addDefaultCase(N)})}const _=B=>B,v=new Map,S=new WeakMap;let E;function A(B,V){return E||(E=p()),E(B,V)}function I(){return E||(E=p()),E.getInitialState()}function j(B,V=!1){function N(O){let D=O[B];return typeof D>"u"&&V&&(D=iy(S,N,I)),D}function P(O=_){const D=iy(v,V,()=>new WeakMap);return iy(D,O,()=>{const z={};for(const[$,U]of Object.entries(i.selectors??{}))z[$]=VKe(U,O,()=>iy(S,O,I),V);return z})}return{reducerPath:B,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const M={name:s,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:I,...j(a),injectInto(B,{reducerPath:V,...N}={}){const P=V??a;return B.inject({reducerPath:P,reducer:A},N),{...M,...j(P,!0)}}};return M}}function VKe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Ci=$Ke();function UKe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function zKe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!FKe(r))throw new Error(Yi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?As(t,a):As(t))}function BKe(t){return t._reducerDefinitionType==="asyncThunk"}function FKe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function qKe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Yi(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:d,options:h}=n,p=i(t,s,h);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:a||sy,pending:l||sy,rejected:u||sy,settled:d||sy})}function sy(){}var GKe="task",UF="listener",zF="completed",aI="cancelled",HKe=`task-${aI}`,KKe=`task-${zF}`,v1=`${UF}-${aI}`,WKe=`${UF}-${zF}`,sx=class{constructor(t){C0(this,"name","TaskAbortError");C0(this,"message");this.code=t,this.message=`${GKe} ${aI} (reason: ${t})`}},oI=(t,e)=>{if(typeof t!="function")throw new TypeError(Yi(32))},jv=()=>{},BF=(t,e=jv)=>(t.catch(e),t),FF=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),iu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},su=t=>{if(t.aborted){const{reason:e}=t;throw new sx(e)}};function qF(t,e){let n=jv;return new Promise((r,i)=>{const s=()=>i(new sx(t.reason));if(t.aborted){s();return}n=FF(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=jv})}var YKe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof sx?"cancelled":"rejected",error:n}}finally{e==null||e()}},Ov=t=>e=>BF(qF(t,e).then(n=>(su(t),n))),GF=t=>{const e=Ov(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Xd}=Object,jL={},ax="listenerMiddleware",JKe=(t,e)=>{const n=r=>FF(t,()=>iu(r,t.reason));return(r,i)=>{oI(r);const s=new AbortController;n(s);const a=YKe(async()=>{su(t),su(s.signal);const l=await r({pause:Ov(s.signal),delay:GF(s.signal),signal:s.signal});return su(s.signal),l},()=>iu(s,KKe));return i!=null&&i.autoJoin&&e.push(a.catch(jv)),{result:Ov(t)(a),cancel(){iu(s,HKe)}}}},XKe=(t,e)=>{const n=async(r,i)=>{su(e);let s=()=>{};const l=[new Promise((u,d)=>{let h=t({predicate:r,effect:(p,_)=>{_.unsubscribe(),u([p,_.getState(),_.getOriginalState()])}});s=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await qF(e,Promise.race(l));return su(e),u}finally{s()}};return(r,i)=>BF(n(r,i))},HF=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=As(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Yi(21));return oI(s),{predicate:i,type:e,effect:s}},KF=Xd(t=>{const{type:e,predicate:n,effect:r}=HF(t);return{id:jKe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yi(22))}}},{withTypes:()=>KF}),OL=(t,e)=>{const{type:n,effect:r,predicate:i}=HF(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},b1=t=>{t.pending.forEach(e=>{iu(e,v1)})},QKe=(t,e)=>()=>{for(const n of e.keys())b1(n);t.clear()},LL=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},WF=Xd(As(`${ax}/add`),{withTypes:()=>WF}),ZKe=As(`${ax}/removeAll`),YF=Xd(As(`${ax}/remove`),{withTypes:()=>YF}),eWe=(...t)=>{console.error(`${ax}/error`,...t)},rg=(t={})=>{const e=new Map,n=new Map,r=v=>{const S=n.get(v)??0;n.set(v,S+1)},i=v=>{const S=n.get(v)??1;S===1?n.delete(v):n.set(v,S-1)},{extra:s,onError:a=eWe}=t;oI(a);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),S=>{v.unsubscribe(),S!=null&&S.cancelActive&&b1(v)}),u=v=>{const S=OL(e,v)??KF(v);return l(S)};Xd(u,{withTypes:()=>u});const d=v=>{const S=OL(e,v);return S&&(S.unsubscribe(),v.cancelActive&&b1(S)),!!S};Xd(d,{withTypes:()=>d});const h=async(v,S,E,A)=>{const I=new AbortController,j=XKe(u,I.signal),M=[];try{v.pending.add(I),r(v),await Promise.resolve(v.effect(S,Xd({},E,{getOriginalState:A,condition:(B,V)=>j(B,V).then(Boolean),take:j,delay:GF(I.signal),pause:Ov(I.signal),extra:s,signal:I.signal,fork:JKe(I.signal,M),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((B,V,N)=>{B!==I&&(iu(B,v1),N.delete(B))})},cancel:()=>{iu(I,v1),v.pending.delete(I)},throwIfCancelled:()=>{su(I.signal)}})))}catch(B){B instanceof sx||LL(a,B,{raisedBy:"effect"})}finally{await Promise.all(M),iu(I,WKe),i(v),v.pending.delete(I)}},p=QKe(e,n);return{middleware:v=>S=>E=>{if(!kF(E))return S(E);if(WF.match(E))return u(E.payload);if(ZKe.match(E)){p();return}if(YF.match(E))return d(E.payload);let A=v.getState();const I=()=>{if(A===jL)throw new Error(Yi(23));return A};let j;try{if(j=S(E),e.size>0){const M=v.getState(),B=Array.from(e.values());for(const V of B){let N=!1;try{N=V.predicate(E,M,A)}catch(P){N=!1,LL(a,P,{raisedBy:"predicate"})}N&&h(V,E,v,I)}}}finally{A=jL}return j},startListening:u,stopListening:d,clearListeners:p}};function Yi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tWe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JF=Ci({name:"chartLayout",initialState:tWe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:nWe,setLayout:rWe,setChartSize:iWe,setScale:sWe}=JF.actions,aWe=JF.reducer;function XF(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){oWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oWe(t,e,n){return(e=lWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lWe(t){var e=cWe(t,"string");return typeof e=="symbol"?e:e+""}function cWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,n){return wr(t)||wr(e)?n:ja(e)?xf(t,e,n):typeof e=="function"?e(t):n}var uWe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&Ke(t[s]))return Vd(Vd({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&Ke(t[a]))return Vd(Vd({},t),{},{[a]:t[a]+(i||0)})}return t},Nu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",QF=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},ZF=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:_,axisType:v}=t;if(!a)return null;var S=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,E=i==="category"&&a.bandwidth?a.bandwidth()/S:0;if(E=v==="angleAxis"&&s&&s.length>=2?Ti(s[0]-s[1])*2*E:E,p||_){var A=(p||_||[]).map((I,j)=>{var M=r?r.indexOf(I):I;return{coordinate:a(M)+E,value:I,offset:E,index:j}});return A.filter(I=>!Ws(I.coordinate))}return u&&d?d.map((I,j)=>({coordinate:a(I)+E,value:I,index:j,offset:E})):a.ticks&&h!=null?a.ticks(h).map((I,j)=>({coordinate:a(I)+E,value:I,offset:E,index:j})):a.domain().map((I,j)=>({coordinate:a(I)+E,value:r?r[I]:I,index:j,offset:E}))},VL=1e-4,dWe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-VL,s=Math.max(r[0],r[1])+VL,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},fWe=(t,e)=>{if(!e||e.length!==2||!Ke(e[0])||!Ke(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ke(t[0])||t[0]<n)&&(i[0]=n),(!Ke(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},hWe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var l=Ws(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},mWe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=Ws(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},pWe={sign:hWe,expand:LHe,none:bf,silhouette:$He,wiggle:VHe,positive:mWe},gWe=(t,e,n)=>{var r=pWe[n],i=OHe().keys(e).value((s,a)=>Number(Wr(s,a,0))).order(u1).offset(r);return i(t)};function _We(t){return t==null?void 0:String(t)}var UL=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=Wr(s,e.dataKey,e.scale.domain()[a]);return wr(l)?null:e.scale(l)-i/2+r},yWe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},vWe=t=>{var e=t.flat(2).filter(Ke);return[Math.min(...e),Math.max(...e)]},bWe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],xWe=(t,e,n)=>{if(t!=null)return bWe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((u,d)=>{var h=XF(d,e,n),p=vWe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},zL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lv=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=tx(e,h=>h.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var u=i[a],d=i[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function FL(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Vd(Vd({},e),{},{dataKey:n,payload:r,value:i,name:s})}function e6(t,e){if(t)return String(t);if(typeof e=="string")return e}var wWe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},SWe=(t,e)=>e==="centric"?t.angle:t.radius,Oo=t=>t.layout.width,Lo=t=>t.layout.height,TWe=t=>t.layout.scale,t6=t=>t.layout.margin,ox=pe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),lx=pe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),EWe="data-recharts-item-index",AWe="data-recharts-item-data-key",ig=60;function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){kWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kWe(t,e,n){return(e=IWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IWe(t){var e=CWe(t,"string");return typeof e=="symbol"?e:e+""}function CWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NWe=t=>t.brush.height;function PWe(t){var e=lx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ig;return n+i}return n},0)}function RWe(t){var e=lx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ig;return n+i}return n},0)}function MWe(t){var e=ox(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function DWe(t){var e=ox(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sr=pe([Oo,Lo,t6,NWe,PWe,RWe,MWe,DWe,SF,oKe],(t,e,n,r,i,s,a,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},_=ay(ay({},p),h),v=_.bottom;_.bottom+=r,_=uWe(_,u,d);var S=t-_.left-_.right,E=e-_.top-_.bottom;return ay(ay({brushBottom:v},_),{},{width:Math.max(S,0),height:Math.max(E,0)})}),jWe=pe(Sr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),lI=pe(Oo,Lo,(t,e)=>({x:0,y:0,width:t,height:e})),OWe=k.createContext(null),Ni=()=>k.useContext(OWe)!=null,cx=t=>t.brush,ux=pe([cx,Sr,t6],(t,e,n)=>({height:t.height,x:Ke(t.x)?t.x:e.left,y:Ke(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ke(t.width)?t.width:e.width})),_T={},yT={},vT={},GL;function LWe(){return GL||(GL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const u=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),h=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{d&&h(),E()};let _=null;const v=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,p()},r)},S=()=>{_!==null&&(clearTimeout(_),_=null)},E=()=>{S(),a=void 0,l=null},A=()=>{h()},I=function(...j){if(i!=null&&i.aborted)return;a=this,l=j;const M=_==null;v(),u&&M&&h()};return I.schedule=v,I.cancel=E,I.flush=A,i==null||i.addEventListener("abort",E,{once:!0}),I}t.debounce=e})(vT)),vT}var HL;function $We(){return HL||(HL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LWe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:u}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const _=e.debounce(function(...E){h=r.apply(this,E),p=null},i,{edges:d}),v=function(...E){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,E),p=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,E),h)},S=()=>(_.flush(),h);return v.cancel=_.cancel,v.flush=S,v}t.debounce=n})(yT)),yT}var KL;function VWe(){return KL||(KL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$We();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(_T)),_T}var bT,WL;function UWe(){return WL||(WL=1,bT=VWe().throttle),bT}var zWe=UWe();const BWe=Is(zWe);var $v=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},n6=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=To(r)?t:Number(r),u=To(i)?e:Number(i);return s&&s>0&&(l?u=l/s:u&&(l=u*s),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:l,calculatedHeight:u}},FWe={width:0,height:0,overflow:"visible"},qWe={width:0,overflowX:"visible"},GWe={height:0,overflowY:"visible"},HWe={},KWe=t=>{var{width:e,height:n}=t,r=To(e),i=To(n);return r&&i?FWe:r?qWe:i?GWe:HWe};function WWe(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Gn(t){return Number.isFinite(t)}function Oa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x1.apply(null,arguments)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){YWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YWe(t,e,n){return(e=JWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JWe(t){var e=XWe(t,"string");return typeof e=="symbol"?e:e+""}function XWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r6=k.createContext({width:-1,height:-1});function QWe(t){return Oa(t.width)&&Oa(t.height)}function i6(t){var{children:e,width:n,height:r}=t,i=k.useMemo(()=>({width:n,height:r}),[n,r]);return QWe(i)?k.createElement(r6.Provider,{value:i},e):null}var cI=()=>k.useContext(r6),ZWe=k.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:_,onResize:v,style:S={}}=t,E=k.useRef(null),A=k.useRef();A.current=v,k.useImperativeHandle(e,()=>E.current);var[I,j]=k.useState({containerWidth:r.width,containerHeight:r.height}),M=k.useCallback((O,D)=>{j(z=>{var $=Math.round(O),U=Math.round(D);return z.containerWidth===$&&z.containerHeight===U?z:{containerWidth:$,containerHeight:U}})},[]);k.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return tg;var O=U=>{var q,{width:te,height:ee}=U[0].contentRect;M(te,ee),(q=A.current)===null||q===void 0||q.call(A,te,ee)};h>0&&(O=BWe(O,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(O),{width:z,height:$}=E.current.getBoundingClientRect();return M(z,$),D.observe(E.current),()=>{D.disconnect()}},[M,h]);var{containerWidth:B,containerHeight:V}=I;$v(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:P}=n6(B,V,{width:i,height:s,aspect:n,maxHeight:u});return $v(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,s,a,l,n),k.createElement("div",{id:p?"".concat(p):void 0,className:fn("recharts-responsive-container",_),style:JL(JL({},S),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:u}),ref:E},k.createElement("div",{style:KWe({width:i,height:s})},k.createElement(i6,{width:N,height:P},d)))}),uI=k.forwardRef((t,e)=>{var n=cI();if(Oa(n.width)&&Oa(n.height))return t.children;var{width:r,height:i}=WWe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=n6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ke(s)&&Ke(a)?k.createElement(i6,{width:s,height:a},t.children):k.createElement(ZWe,x1({},t,{width:r,height:i,ref:e}))});function s6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var dx=()=>{var t,e=Ni(),n=We(jWe),r=We(ux),i=(t=We(cx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},eYe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},a6=()=>{var t;return(t=We(Sr))!==null&&t!==void 0?t:eYe},dI=()=>We(Oo),fI=()=>We(Lo),tYe=()=>We(t=>t.layout.margin),Xt=t=>t.layout.layoutType,fx=()=>We(Xt),nYe=()=>{var t=fx();return t!==void 0},hx=t=>{var e=Cn(),n=Ni(),{width:r,height:i}=t,s=cI(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),k.useEffect(()=>{!n&&Oa(a)&&Oa(l)&&e(iWe({width:a,height:l}))},[e,n,a,l]),null},rYe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},o6=Ci({name:"legend",initialState:rYe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Tn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Hs(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Tn()},removeLegendPayload:{reducer(t,e){var n=Hs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Tn()}}}),{setLegendSize:XL,setLegendSettings:iYe,addLegendPayload:sYe,replaceLegendPayload:aYe,removeLegendPayload:oYe}=o6.actions,lYe=o6.reducer,cYe=["contextPayload"];function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(null,arguments)}function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){uYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uYe(t,e,n){return(e=dYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dYe(t){var e=fYe(t,"string");return typeof e=="symbol"?e:e+""}function fYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hYe(t,e){if(t==null)return{};var n,r,i=mYe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mYe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pYe(t){return t.value}function gYe(t){var{contextPayload:e}=t,n=hYe(t,cYe),r=vF(e,t.payloadUniqBy,pYe),i=wf(wf({},n),{},{payload:r});return k.isValidElement(t.content)?k.cloneElement(t.content,i):typeof t.content=="function"?k.createElement(t.content,i):k.createElement(g7e,i)}function _Ye(t,e,n,r,i,s){var{layout:a,align:l,verticalAlign:u}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&a==="vertical"?d={left:((r||0)-s.width)/2}:d=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?h={top:((i||0)-s.height)/2}:h=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),wf(wf({},d),h)}function yYe(t){var e=Cn();return k.useEffect(()=>{e(iYe(t))},[e,t]),null}function vYe(t){var e=Cn();return k.useEffect(()=>(e(XL(t)),()=>{e(XL({width:0,height:0}))}),[e,t]),null}function bYe(t,e,n,r){return t==="vertical"&&Ke(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var xYe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mx(t){var e=oi(t,xYe),n=uKe(),r=aHe(),i=tYe(),{width:s,height:a,wrapperStyle:l,portal:u}=e,[d,h]=TF([n]),p=dI(),_=fI();if(p==null||_==null)return null;var v=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=bYe(e.layout,a,s,v),E=u?l:wf(wf({position:"absolute",width:(S==null?void 0:S.width)||s||"auto",height:(S==null?void 0:S.height)||a||"auto"},_Ye(l,e,i,p,_,d)),l),A=u??r;if(A==null||n==null)return null;var I=k.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},k.createElement(yYe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&k.createElement(vYe,{width:d.width,height:d.height}),k.createElement(gYe,w1({},e,S,{margin:i,chartWidth:p,chartHeight:_,contextPayload:n})));return Kk.createPortal(I,A)}mx.displayName="Legend";function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S1.apply(null,arguments)}function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){wYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wYe(t,e,n){return(e=SYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SYe(t){var e=TYe(t,"string");return typeof e=="symbol"?e:e+""}function TYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EYe(t){return Array.isArray(t)&&ja(t[0])&&ja(t[1])?t.join(" ~ "):t}var AYe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:_=!1}=t,v=()=>{if(s&&s.length){var V={padding:0,margin:0},N=(l?tx(s,l):s).map((P,O)=>{if(P.type==="none")return null;var D=P.formatter||a||EYe,{value:z,name:$}=P,U=z,q=$;if(D){var te=D(z,$,P,O,s);if(Array.isArray(te))[U,q]=te;else if(te!=null)U=te;else return null}var ee=xT({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:ee},ja(q)?k.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ja(q)?k.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,k.createElement("span",{className:"recharts-tooltip-item-value"},U),k.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:V},N)}return null},S=xT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=xT({margin:0},i),A=!wr(h),I=A?h:"",j=fn("recharts-default-tooltip",u),M=fn("recharts-tooltip-label",d);A&&p&&s!==void 0&&s!==null&&(I=p(h,s));var B=_?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",S1({className:j,style:S},B),k.createElement("p",{className:M,style:E},k.isValidElement(I)?I:"".concat(I)),v())},fm="recharts-tooltip-wrapper",kYe={visibility:"hidden"};function IYe(t){var{coordinate:e,translateX:n,translateY:r}=t;return fn(fm,{["".concat(fm,"-right")]:Ke(n)&&e&&Ke(e.x)&&n>=e.x,["".concat(fm,"-left")]:Ke(n)&&e&&Ke(e.x)&&n<e.x,["".concat(fm,"-bottom")]:Ke(r)&&e&&Ke(e.y)&&r>=e.y,["".concat(fm,"-top")]:Ke(r)&&e&&Ke(e.y)&&r<e.y})}function e$(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(s&&Ke(s[r]))return s[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?h:p;var _=u[r];if(_==null)return 0;if(a[r]){var v=h,S=_;return v<S?Math.max(p,_):Math.max(h,_)}if(d==null)return 0;var E=p+l,A=_+d;return E>A?Math.max(h,_):Math.max(p,_)}function CYe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function NYe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,d,h,p;return a.height>0&&a.width>0&&n?(h=e$({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=e$({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=CYe({translateX:h,translateY:p,useTranslate3d:l})):d=kYe,{cssProperties:d,cssClasses:IYe({translateX:h,translateY:p,coordinate:n})}}function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(n),!0).forEach(function(r){T1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1(t,e,n){return(e=PYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PYe(t){var e=RYe(t,"string");return typeof e=="symbol"?e:e+""}function RYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MYe extends k.PureComponent{constructor(){super(...arguments),T1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),T1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:_,viewBox:v,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:I}=this.props,{cssClasses:j,cssProperties:M}=NYe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:_,viewBox:v}),B=I?{}:oy(oy({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),V=oy(oy({},B),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},S);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:V,ref:A},s)}}var DYe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ff={devToolsEnabled:!1,isSsr:DYe()},l6=()=>{var t;return(t=We(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}function n$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(n),!0).forEach(function(r){jYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jYe(t,e,n){return(e=OYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OYe(t){var e=LYe(t,"string");return typeof e=="symbol"?e:e+""}function LYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i$={curveBasisClosed:EHe,curveBasisOpen:AHe,curveBasis:THe,curveBumpX:uHe,curveBumpY:dHe,curveLinearClosed:kHe,curveLinear:Qb,curveMonotoneX:IHe,curveMonotoneY:CHe,curveNatural:NHe,curveStep:PHe,curveStepAfter:MHe,curveStepBefore:RHe},Vv=t=>Gn(t.x)&&Gn(t.y),s$=t=>t.base!=null&&Vv(t.base)&&Vv(t),hm=t=>t.x,mm=t=>t.y,$Ye=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(eg(t));return(n==="curveMonotone"||n==="curveBump")&&e?i$["".concat(n).concat(e==="vertical"?"Y":"X")]:i$[n]||Qb},VYe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=$Ye(e,i),l=s?n.filter(Vv):n,u;if(Array.isArray(r)){var d=n.map((v,S)=>r$(r$({},v),{},{base:r[S]}));i==="vertical"?u=ey().y(mm).x1(hm).x0(v=>v.base.x):u=ey().x(hm).y1(mm).y0(v=>v.base.y);var h=u.defined(s$).curve(a),p=s?d.filter(s$):d;return h(p)}i==="vertical"&&Ke(r)?u=ey().y(mm).x1(hm).x0(r):Ke(r)?u=ey().x(hm).y1(mm).y0(r):u=YB().x(hm).y(mm);var _=u.defined(Vv).curve(a);return _(l)},c6=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?VYe(t):r;return k.createElement("path",E1({},wo(t),r7e(t),{className:fn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},UYe=["x","y","top","left","width","height","className"];function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(null,arguments)}function a$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zYe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(n),!0).forEach(function(r){BYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BYe(t,e,n){return(e=FYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FYe(t){var e=qYe(t,"string");return typeof e=="symbol"?e:e+""}function qYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GYe(t,e){if(t==null)return{};var n,r,i=HYe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HYe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KYe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),WYe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,u=GYe(t,UYe),d=zYe({x:e,y:n,top:r,left:i,width:s,height:a},u);return!Ke(e)||!Ke(n)||!Ke(s)||!Ke(a)||!Ke(r)||!Ke(i)?null:k.createElement("path",A1({},Es(d),{className:fn("recharts-cross",l),d:KYe(e,n,s,a,r,i)}))};function YYe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(n),!0).forEach(function(r){JYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JYe(t,e,n){return(e=XYe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XYe(t){var e=QYe(t,"string");return typeof e=="symbol"?e:e+""}function QYe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZYe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),u6=(t,e,n)=>t.map(r=>"".concat(ZYe(r)," ").concat(e,"ms ").concat(n)).join(","),eJe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),bp=(t,e)=>Object.keys(e).reduce((n,r)=>l$(l$({},n),{},{[r]:t(r,e[r])}),{});function c$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(n),!0).forEach(function(r){tJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tJe(t,e,n){return(e=nJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJe(t){var e=rJe(t,"string");return typeof e=="symbol"?e:e+""}function rJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uv=(t,e,n)=>t+(e-t)*n,k1=t=>{var{from:e,to:n}=t;return e!==n},d6=(t,e,n)=>{var r=bp((i,s)=>{if(k1(s)){var[a,l]=t(s.from,s.to,s.velocity);return lr(lr({},s),{},{from:a,velocity:l})}return s},e);return n<1?bp((i,s)=>k1(s)?lr(lr({},s),{},{velocity:Uv(s.velocity,r[i].velocity,n),from:Uv(s.from,r[i].from,n)}):s,e):d6(t,r,n-1)};function iJe(t,e,n,r,i,s){var a,l=r.reduce((_,v)=>lr(lr({},_),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>bp((_,v)=>v.from,l),d=()=>!Object.values(l).filter(k1).length,h=null,p=_=>{a||(a=_);var v=_-a,S=v/n.dt;l=d6(n,l,S),i(lr(lr(lr({},t),e),u())),a=_,d()||(h=s.setTimeout(p))};return()=>(h=s.setTimeout(p),()=>{var _;(_=h)===null||_===void 0||_()})}function sJe(t,e,n,r,i,s,a){var l=null,u=i.reduce((p,_)=>lr(lr({},p),{},{[_]:[t[_],e[_]]}),{}),d,h=p=>{d||(d=p);var _=(p-d)/r,v=bp((E,A)=>Uv(...A,n(_)),u);if(s(lr(lr(lr({},t),e),v)),_<1)l=a.setTimeout(h);else{var S=bp((E,A)=>Uv(...A,n(1)),u);s(lr(lr(lr({},t),e),S))}};return()=>(l=a.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const aJe=(t,e,n,r,i,s)=>{var a=eJe(t,e);return n==null?()=>(i(lr(lr({},t),e)),()=>{}):n.isStepper===!0?iJe(t,e,n,a,i,s):sJe(t,e,n,r,a,i,s)};var zv=1e-4,f6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],h6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),u$=(t,e)=>n=>{var r=f6(t,e);return h6(r,n)},oJe=(t,e)=>n=>{var r=f6(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return h6(i,n)},lJe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},cJe=(t,e,n,r)=>{var i=u$(t,n),s=u$(e,r),a=oJe(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,_=0;_<8;++_){var v=i(p)-h,S=a(p);if(Math.abs(v-h)<zv||S<zv)return s(p);p=l(p-v/S)}return s(p)};return u.isStepper=!1,u},d$=function(){return cJe(...lJe(...arguments))},uJe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,u)=>{var d=-(a-l)*n,h=u*r,p=u+(d-h)*i/1e3,_=u*i/1e3+a;return Math.abs(_-l)<zv&&Math.abs(p)<zv?[l,0]:[_,p]};return s.isStepper=!0,s.dt=i,s},dJe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return d$(t);case"spring":return uJe();default:if(t.split("(")[0]==="cubic-bezier")return d$(t)}return typeof t=="function"?t:null};function fJe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(s.bind(null,d),u);return}s(u),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class hJe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function mJe(){return fJe(new hJe)}var pJe=k.createContext(mJe);function gJe(t,e){var n=k.useContext(pJe);return k.useMemo(()=>e??n(t),[t,e,n])}var _Je={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},f$={t:0},wT={t:1};function hI(t){var e=oi(t,_Je),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:u,children:d}=e,h=n==="auto"?!Ff.isSsr:n,p=gJe(e.animationId,e.animationManager),[_,v]=k.useState(h?f$:wT),S=k.useRef(null);return k.useEffect(()=>{h||v(wT)},[h]),k.useEffect(()=>{if(!h||!r)return tg;var E=aJe(f$,wT,dJe(s),i,v,p.getTimeoutController()),A=()=>{S.current=E()};return p.start([u,a,A,i,l]),()=>{p.stop(),S.current&&S.current(),l()}},[h,r,i,s,a,u,l,p]),d(_.t)}function mI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=k.useRef(gp(e)),r=k.useRef(t);return r.current!==t&&(n.current=gp(e),r.current=t),n.current}var yJe=["radius"],vJe=["radius"];function h$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(n),!0).forEach(function(r){bJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bJe(t,e,n){return(e=xJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xJe(t){var e=wJe(t,"string");return typeof e=="symbol"?e:e+""}function wJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(null,arguments)}function p$(t,e){if(t==null)return{};var n,r,i=SJe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SJe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g$=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,_=4;p<_;p++)h[p]=i[p]>s?s:i[p];d="M".concat(t,",").concat(e+a*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+l*h[0],",").concat(e)),d+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*h[1])),d+="L ".concat(t+n,",").concat(e+r-a*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),d+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);d="M ".concat(t,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*v,`
            L `).concat(t+n,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},_$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m6=t=>{var e=oi(t,_$),n=k.useRef(null),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:s,y:a,width:l,height:u,radius:d,className:h}=e,{animationEasing:p,animationDuration:_,animationBegin:v,isAnimationActive:S,isUpdateAnimationActive:E}=e,A=k.useRef(l),I=k.useRef(u),j=k.useRef(s),M=k.useRef(a),B=k.useMemo(()=>({x:s,y:a,width:l,height:u,radius:d}),[s,a,l,u,d]),V=mI(B,"rectangle-");if(s!==+s||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var N=fn("recharts-rectangle",h);if(!E){var P=Es(e),{radius:O}=P,D=p$(P,yJe);return k.createElement("path",Bv({},D,{radius:typeof d=="number"?d:void 0,className:N,d:g$(s,a,l,u,d)}))}var z=A.current,$=I.current,U=j.current,q=M.current,te="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),Y=u6(["strokeDasharray"],_,typeof p=="string"?p:_$.animationEasing);return k.createElement(hI,{animationId:V,key:V,canBegin:r>0,duration:_,easing:p,isActive:E,begin:v},X=>{var fe=jr(z,l,X),be=jr($,u,X),F=jr(U,s,X),K=jr(q,a,X);n.current&&(A.current=fe,I.current=be,j.current=F,M.current=K);var Q;S?X>0?Q={transition:Y,strokeDasharray:ee}:Q={strokeDasharray:te}:Q={strokeDasharray:ee};var H=Es(e),{radius:ge}=H,Ee=p$(H,vJe);return k.createElement("path",Bv({},Ee,{radius:typeof d=="number"?d:void 0,className:N,d:g$(F,K,fe,be,d),ref:n,style:m$(m$({},Q),e.style)}))})};function y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(n),!0).forEach(function(r){TJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJe(t,e,n){return(e=EJe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EJe(t){var e=AJe(t,"string");return typeof e=="symbol"?e:e+""}function AJe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fv=Math.PI/180,kJe=t=>t*180/Math.PI,Or=(t,e,n,r)=>({x:t+Math.cos(-Fv*r)*n,y:e+Math.sin(-Fv*r)*n}),IJe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},CJe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},NJe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=CJe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>s&&(u=2*Math.PI-u),{radius:a,angle:kJe(u),angleInRadian:u}},PJe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},RJe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},MJe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=NJe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:d}=PJe(e),h=s,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?v$(v$({},e),{},{radius:i,angle:RJe(h,e)}):null};function p6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Or(e,n,r,i),l=Or(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(null,arguments)}var DJe=(t,e)=>{var n=Ti(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ly=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,d=l*(a?1:-1)+r,h=Math.asin(l/d)/Fv,p=u?i:i+s*h,_=Or(e,n,d,p),v=Or(e,n,r,p),S=u?i-s*h:i,E=Or(e,n,d*Math.cos(h*Fv),S);return{center:_,circleTangency:v,lineTangency:E,theta:h}},g6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=DJe(s,a),u=s+l,d=Or(e,n,i,s),h=Or(e,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=Or(e,n,r,s),v=Or(e,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(_.x,",").concat(_.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},jJe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:d}=t,h=Ti(d-u),{circleTangency:p,lineTangency:_,theta:v}=ly({cx:e,cy:n,radius:i,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:E,theta:A}=ly({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:l}),I=l?Math.abs(u-d):Math.abs(u-d)-v-A;if(I<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):g6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:B,theta:V}=ly({cx:e,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:P,theta:O}=ly({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=l?Math.abs(u-d):Math.abs(u-d)-V-O;if(D<0&&s===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,"Z")}else j+="L".concat(e,",").concat(n,"Z");return j},OJe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_6=t=>{var e=oi(t,OJe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=e;if(s<i||d===h)return null;var _=fn("recharts-sector",p),v=s-i,S=Ys(a,v,0,!0),E;return S>0&&Math.abs(d-h)<360?E=jJe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):E=g6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:h}),k.createElement("path",I1({},Es(e),{className:_,d:E}))};function LJe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(cF(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,u=Or(r,i,s,l),d=Or(r,i,a,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return p6(e)}}var ST={},TT={},ET={},b$;function $Je(){return b$||(b$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xF();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(ET)),ET}var x$;function VJe(){return x$||(x$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Je();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(TT)),TT}var w$;function UJe(){return w$||(w$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wF(),n=VJe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=a;return u}t.range=r})(ST)),ST}var AT,S$;function zJe(){return S$||(S$=1,AT=UJe().range),AT}var BJe=zJe();const y6=Is(BJe);function Gl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FJe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pI(t){let e,n,r;t.length!==2?(e=Gl,n=(l,u)=>Gl(t(l),u),r=(l,u)=>t(l)-u):(e=t===Gl||t===FJe?t:qJe,n=t,r=t);function i(l,u,d=0,h=l.length){if(d<h){if(e(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function s(l,u,d=0,h=l.length){if(d<h){if(e(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:a,right:s}}function qJe(){return 0}function v6(t){return t===null?NaN:+t}function*GJe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const HJe=pI(Gl),sg=HJe.right;pI(v6).center;class T$ extends Map{constructor(e,n=YJe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(E$(this,e))}has(e){return super.has(E$(this,e))}set(e,n){return super.set(KJe(this,e),n)}delete(e){return super.delete(WJe(this,e))}}function E$({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function KJe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function WJe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function YJe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JJe(t=Gl){if(t===Gl)return b6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function b6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const XJe=Math.sqrt(50),QJe=Math.sqrt(10),ZJe=Math.sqrt(2);function qv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=XJe?10:s>=QJe?5:s>=ZJe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?qv(t,e,n*2):[l,u,d]}function C1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?qv(e,t,n):qv(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)u[d]=(s-d)/-a;else for(let d=0;d<l;++d)u[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function N1(t,e,n){return e=+e,t=+t,n=+n,qv(t,e,n)[2]}function P1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?N1(e,t,n):N1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function A$(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function k$(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function x6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?b6:JJe(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/u+_)),S=Math.min(r,Math.floor(e+(u-d)*p/u+_));x6(t,e,v,S,i)}const s=t[e];let a=n,l=r;for(pm(t,n,e),i(t[r],s)>0&&pm(t,n,r);a<l;){for(pm(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?pm(t,n,l):(++l,pm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function pm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eXe(t,e,n){if(t=Float64Array.from(GJe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return k$(t);if(e>=1)return A$(t);var r,i=(r-1)*e,s=Math.floor(i),a=A$(x6(t,s).subarray(0,s+1)),l=k$(t.subarray(s+1));return a+(l-a)*(i-s)}}function tXe(t,e,n=v6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function nXe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Cs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $o(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R1=Symbol("implicit");function gI(){var t=new T$,e=[],n=[],r=R1;function i(s){let a=t.get(s);if(a===void 0){if(r!==R1)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new T$;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gI(e,n).unknown(r)},Cs.apply(i,arguments),i}function _I(){var t=gI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,u=0,d=0,h=.5;delete t.unknown;function p(){var _=e().length,v=i<r,S=v?i:r,E=v?r:i;s=(E-S)/Math.max(1,_-u+d*2),l&&(s=Math.floor(s)),S+=(E-S-s*(_-u))*h,a=s*(1-u),l&&(S=Math.round(S),a=Math.round(a));var A=nXe(_).map(function(I){return S+s*I});return n(v?A.reverse():A)}return t.domain=function(_){return arguments.length?(e(_),p()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(_){return arguments.length?(l=!!_,p()):l},t.padding=function(_){return arguments.length?(u=Math.min(1,d=+_),p()):u},t.paddingInner=function(_){return arguments.length?(u=Math.min(1,_),p()):u},t.paddingOuter=function(_){return arguments.length?(d=+_,p()):d},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),p()):h},t.copy=function(){return _I(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Cs.apply(p(),arguments)}function w6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w6(e())},t}function rXe(){return w6(_I.apply(null,arguments).paddingInner(1))}function yI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function S6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ag(){}var xp=.7,Gv=1/xp,Qd="\\s*([+-]?\\d+)\\s*",wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iXe=/^#([0-9a-f]{3,8})$/,sXe=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),aXe=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),oXe=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${wp}\\)$`),lXe=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${wp}\\)$`),cXe=new RegExp(`^hsl\\(${wp},${Pa},${Pa}\\)$`),uXe=new RegExp(`^hsla\\(${wp},${Pa},${Pa},${wp}\\)$`),I$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yI(ag,Sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C$,formatHex:C$,formatHex8:dXe,formatHsl:fXe,formatRgb:N$,toString:N$});function C$(){return this.rgb().formatHex()}function dXe(){return this.rgb().formatHex8()}function fXe(){return T6(this).formatHsl()}function N$(){return this.rgb().formatRgb()}function Sp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iXe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?P$(e):n===3?new Ei(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sXe.exec(t))?new Ei(e[1],e[2],e[3],1):(e=aXe.exec(t))?new Ei(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oXe.exec(t))?cy(e[1],e[2],e[3],e[4]):(e=lXe.exec(t))?cy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cXe.exec(t))?D$(e[1],e[2]/100,e[3]/100,1):(e=uXe.exec(t))?D$(e[1],e[2]/100,e[3]/100,e[4]):I$.hasOwnProperty(t)?P$(I$[t]):t==="transparent"?new Ei(NaN,NaN,NaN,0):null}function P$(t){return new Ei(t>>16&255,t>>8&255,t&255,1)}function cy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ei(t,e,n,r)}function hXe(t){return t instanceof ag||(t=Sp(t)),t?(t=t.rgb(),new Ei(t.r,t.g,t.b,t.opacity)):new Ei}function M1(t,e,n,r){return arguments.length===1?hXe(t):new Ei(t,e,n,r??1)}function Ei(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yI(Ei,M1,S6(ag,{brighter(t){return t=t==null?Gv:Math.pow(Gv,t),new Ei(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new Ei(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ei(au(this.r),au(this.g),au(this.b),Hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R$,formatHex:R$,formatHex8:mXe,formatRgb:M$,toString:M$}));function R$(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function mXe(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function M$(){const t=Hv(this.opacity);return`${t===1?"rgb(":"rgba("}${au(this.r)}, ${au(this.g)}, ${au(this.b)}${t===1?")":`, ${t})`}`}function Hv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function au(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wc(t){return t=au(t),(t<16?"0":"")+t.toString(16)}function D$(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qs(t,e,n,r)}function T6(t){if(t instanceof qs)return new qs(t.h,t.s,t.l,t.opacity);if(t instanceof ag||(t=Sp(t)),!t)return new qs;if(t instanceof qs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,u=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new qs(a,l,u,t.opacity)}function pXe(t,e,n,r){return arguments.length===1?T6(t):new qs(t,e,n,r??1)}function qs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yI(qs,pXe,S6(ag,{brighter(t){return t=t==null?Gv:Math.pow(Gv,t),new qs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new qs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ei(kT(t>=240?t-240:t+120,i,r),kT(t,i,r),kT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qs(j$(this.h),uy(this.s),uy(this.l),Hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hv(this.opacity);return`${t===1?"hsl(":"hsla("}${j$(this.h)}, ${uy(this.s)*100}%, ${uy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function j$(t){return t=(t||0)%360,t<0?t+360:t}function uy(t){return Math.max(0,Math.min(1,t||0))}function kT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vI=t=>()=>t;function gXe(t,e){return function(n){return t+n*e}}function _Xe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yXe(t){return(t=+t)==1?E6:function(e,n){return n-e?_Xe(e,n,t):vI(isNaN(e)?n:e)}}function E6(t,e){var n=e-t;return n?gXe(t,n):vI(isNaN(t)?e:t)}const O$=(function t(e){var n=yXe(e);function r(i,s){var a=n((i=M1(i)).r,(s=M1(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=E6(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function vXe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function bXe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xXe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=qf(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function wXe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function SXe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var D1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IT=new RegExp(D1.source,"g");function TXe(t){return function(){return t}}function EXe(t){return function(e){return t(e)+""}}function AXe(t,e){var n=D1.lastIndex=IT.lastIndex=0,r,i,s,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=D1.exec(t))&&(i=IT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:Kv(r,i)})),n=IT.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?EXe(u[0].x):TXe(e):(e=u.length,function(d){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?vI(e):(n==="number"?Kv:n==="string"?(r=Sp(e))?(e=r,O$):AXe:e instanceof Sp?O$:e instanceof Date?wXe:bXe(e)?vXe:Array.isArray(e)?xXe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SXe:Kv)(t,e)}function bI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kXe(t,e){e===void 0&&(e=t,t=qf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function IXe(t){return function(){return t}}function Wv(t){return+t}var L$=[0,1];function ni(t){return t}function j1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:IXe(isNaN(e)?NaN:.5)}function CXe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function NXe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=j1(i,r),s=n(a,s)):(r=j1(r,i),s=n(s,a)),function(l){return s(r(l))}}function PXe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=j1(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var u=sg(t,l,1,r)-1;return s[u](i[u](l))}}function og(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function px(){var t=L$,e=L$,n=qf,r,i,s,a=ni,l,u,d;function h(){var _=Math.min(t.length,e.length);return a!==ni&&(a=CXe(t[0],t[_-1])),l=_>2?PXe:NXe,u=d=null,p}function p(_){return _==null||isNaN(_=+_)?s:(u||(u=l(t.map(r),e,n)))(r(a(_)))}return p.invert=function(_){return a(i((d||(d=l(e,t.map(r),Kv)))(_)))},p.domain=function(_){return arguments.length?(t=Array.from(_,Wv),h()):t.slice()},p.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},p.rangeRound=function(_){return e=Array.from(_),n=bI,h()},p.clamp=function(_){return arguments.length?(a=_?!0:ni,h()):a!==ni},p.interpolate=function(_){return arguments.length?(n=_,h()):n},p.unknown=function(_){return arguments.length?(s=_,p):s},function(_,v){return r=_,i=v,h()}}function xI(){return px()(ni,ni)}function RXe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sf(t){return t=Yv(Math.abs(t)),t?t[1]:NaN}function MXe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function DXe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jXe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tp(t){if(!(e=jXe.exec(t)))throw new Error("invalid format: "+t);var e;return new wI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tp.prototype=wI.prototype;function wI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OXe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var A6;function LXe(t,e){var n=Yv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(A6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Yv(t,Math.max(0,e+s-1))[0]}function $$(t,e){var n=Yv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const V$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RXe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$$(t*100,e),r:$$,s:LXe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function U$(t){return t}var z$=Array.prototype.map,B$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $Xe(t){var e=t.grouping===void 0||t.thousands===void 0?U$:MXe(z$.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?U$:DXe(z$.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Tp(p);var _=p.fill,v=p.align,S=p.sign,E=p.symbol,A=p.zero,I=p.width,j=p.comma,M=p.precision,B=p.trim,V=p.type;V==="n"?(j=!0,V="g"):V$[V]||(M===void 0&&(M=12),B=!0,V="g"),(A||_==="0"&&v==="=")&&(A=!0,_="0",v="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",P=E==="$"?r:/[%p]/.test(V)?a:"",O=V$[V],D=/[defgprs%]/.test(V);M=M===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function z($){var U=N,q=P,te,ee,Y;if(V==="c")q=O($)+q,$="";else{$=+$;var X=$<0||1/$<0;if($=isNaN($)?u:O(Math.abs($),M),B&&($=OXe($)),X&&+$==0&&S!=="+"&&(X=!1),U=(X?S==="("?S:l:S==="-"||S==="("?"":S)+U,q=(V==="s"?B$[8+A6/3]:"")+q+(X&&S==="("?")":""),D){for(te=-1,ee=$.length;++te<ee;)if(Y=$.charCodeAt(te),48>Y||Y>57){q=(Y===46?i+$.slice(te+1):$.slice(te))+q,$=$.slice(0,te);break}}}j&&!A&&($=e($,1/0));var fe=U.length+$.length+q.length,be=fe<I?new Array(I-fe+1).join(_):"";switch(j&&A&&($=e(be+$,be.length?I-q.length:1/0),be=""),v){case"<":$=U+$+q+be;break;case"=":$=U+be+$+q;break;case"^":$=be.slice(0,fe=be.length>>1)+U+$+q+be.slice(fe);break;default:$=be+U+$+q;break}return s($)}return z.toString=function(){return p+""},z}function h(p,_){var v=d((p=Tp(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(Sf(_)/3)))*3,E=Math.pow(10,-S),A=B$[8+S/3];return function(I){return v(E*I)+A}}return{format:d,formatPrefix:h}}var dy,SI,k6;VXe({thousands:",",grouping:[3],currency:["$",""]});function VXe(t){return dy=$Xe(t),SI=dy.format,k6=dy.formatPrefix,dy}function UXe(t){return Math.max(0,-Sf(Math.abs(t)))}function zXe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sf(e)/3)))*3-Sf(Math.abs(t)))}function BXe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sf(e)-Sf(t))+1}function I6(t,e,n,r){var i=P1(t,e,n),s;switch(r=Tp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=zXe(i,a))&&(r.precision=s),k6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=BXe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=UXe(i))&&(r.precision=s-(r.type==="%")*2);break}}return SI(r)}function oc(t){var e=t.domain;return t.ticks=function(n){var r=e();return C1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return I6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],u,d,h=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);h-- >0;){if(d=N1(a,l,n),d===u)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function C6(){var t=xI();return t.copy=function(){return og(t,C6())},Cs.apply(t,arguments),oc(t)}function N6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return N6(t).unknown(e)},t=arguments.length?Array.from(t,Wv):[0,1],oc(n)}function P6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function F$(t){return Math.log(t)}function q$(t){return Math.exp(t)}function FXe(t){return-Math.log(-t)}function qXe(t){return-Math.exp(-t)}function GXe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function HXe(t){return t===10?GXe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KXe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function G$(t){return(e,n)=>-t(-e,n)}function TI(t){const e=t(F$,q$),n=e.domain;let r=10,i,s;function a(){return i=KXe(r),s=HXe(r),n()[0]<0?(i=G$(i),s=G$(s),t(FXe,qXe)):t(F$,q$),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let _=i(d),v=i(h),S,E;const A=l==null?10:+l;let I=[];if(!(r%1)&&v-_<A){if(_=Math.floor(_),v=Math.ceil(v),d>0){for(;_<=v;++_)for(S=1;S<r;++S)if(E=_<0?S/s(-_):S*s(_),!(E<d)){if(E>h)break;I.push(E)}}else for(;_<=v;++_)for(S=r-1;S>=1;--S)if(E=_>0?S/s(-_):S*s(_),!(E<d)){if(E>h)break;I.push(E)}I.length*2<A&&(I=C1(d,h,A))}else I=C1(_,v,Math.min(v-_,A)).map(s);return p?I.reverse():I},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Tp(u)).precision==null&&(u.trim=!0),u=SI(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/s(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},e.nice=()=>n(P6(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function R6(){const t=TI(px()).domain([1,10]);return t.copy=()=>og(t,R6()).base(t.base()),Cs.apply(t,arguments),t}function H$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function K$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EI(t){var e=1,n=t(H$(e),K$(e));return n.constant=function(r){return arguments.length?t(H$(e=+r),K$(e)):e},oc(n)}function M6(){var t=EI(px());return t.copy=function(){return og(t,M6()).constant(t.constant())},Cs.apply(t,arguments)}function W$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function WXe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function YXe(t){return t<0?-t*t:t*t}function AI(t){var e=t(ni,ni),n=1;function r(){return n===1?t(ni,ni):n===.5?t(WXe,YXe):t(W$(n),W$(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},oc(e)}function kI(){var t=AI(px());return t.copy=function(){return og(t,kI()).exponent(t.exponent())},Cs.apply(t,arguments),t}function JXe(){return kI.apply(null,arguments).exponent(.5)}function Y$(t){return Math.sign(t)*t*t}function XXe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function D6(){var t=xI(),e=[0,1],n=!1,r;function i(s){var a=XXe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(Y$(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Wv)).map(Y$)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return D6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cs.apply(i,arguments),oc(i)}function j6(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=tXe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[sg(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Gl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return j6().domain(t).range(e).unknown(r)},Cs.apply(s,arguments)}function O6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[sg(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return O6().domain([t,e]).range(i).unknown(s)},Cs.apply(oc(a),arguments)}function L6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[sg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return L6().domain(t).range(e).unknown(n)},Cs.apply(i,arguments)}const CT=new Date,NT=new Date;function fr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let d;do u.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return u},i.filter=s=>fr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(CT.setTime(+s),NT.setTime(+a),t(CT),t(NT),Math.floor(n(CT,NT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Jv=fr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jv);Jv.range;const uo=1e3,xs=uo*60,fo=xs*60,Ao=fo*24,II=Ao*7,J$=Ao*30,PT=Ao*365,Yc=fr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*uo)},(t,e)=>(e-t)/uo,t=>t.getUTCSeconds());Yc.range;const CI=fr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uo)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getMinutes());CI.range;const NI=fr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCMinutes());NI.range;const PI=fr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uo-t.getMinutes()*xs)},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getHours());PI.range;const RI=fr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getUTCHours());RI.range;const lg=fr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xs)/Ao,t=>t.getDate()-1);lg.range;const gx=fr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ao,t=>t.getUTCDate()-1);gx.range;const $6=fr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ao,t=>Math.floor(t/Ao));$6.range;function Pu(t){return fr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xs)/II)}const _x=Pu(0),Xv=Pu(1),QXe=Pu(2),ZXe=Pu(3),Tf=Pu(4),eQe=Pu(5),tQe=Pu(6);_x.range;Xv.range;QXe.range;ZXe.range;Tf.range;eQe.range;tQe.range;function Ru(t){return fr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/II)}const yx=Ru(0),Qv=Ru(1),nQe=Ru(2),rQe=Ru(3),Ef=Ru(4),iQe=Ru(5),sQe=Ru(6);yx.range;Qv.range;nQe.range;rQe.range;Ef.range;iQe.range;sQe.range;const MI=fr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MI.range;const DI=fr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DI.range;const ko=fr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ko.range;const Io=fr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Io.range;function V6(t,e,n,r,i,s){const a=[[Yc,1,uo],[Yc,5,5*uo],[Yc,15,15*uo],[Yc,30,30*uo],[s,1,xs],[s,5,5*xs],[s,15,15*xs],[s,30,30*xs],[i,1,fo],[i,3,3*fo],[i,6,6*fo],[i,12,12*fo],[r,1,Ao],[r,2,2*Ao],[n,1,II],[e,1,J$],[e,3,3*J$],[t,1,PT]];function l(d,h,p){const _=h<d;_&&([d,h]=[h,d]);const v=p&&typeof p.range=="function"?p:u(d,h,p),S=v?v.range(d,+h+1):[];return _?S.reverse():S}function u(d,h,p){const _=Math.abs(h-d)/p,v=pI(([,,A])=>A).right(a,_);if(v===a.length)return t.every(P1(d/PT,h/PT,p));if(v===0)return Jv.every(Math.max(P1(d,h,p),1));const[S,E]=a[_/a[v-1][2]<a[v][2]/_?v-1:v];return S.every(E)}return[l,u]}const[aQe,oQe]=V6(Io,DI,yx,$6,RI,NI),[lQe,cQe]=V6(ko,MI,_x,lg,PI,CI);function RT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function uQe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,d=_m(i),h=ym(i),p=_m(s),_=ym(s),v=_m(a),S=ym(a),E=_m(l),A=ym(l),I=_m(u),j=ym(u),M={a:X,A:fe,b:be,B:F,c:null,d:n4,e:n4,f:MQe,g:FQe,G:GQe,H:NQe,I:PQe,j:RQe,L:U6,m:DQe,M:jQe,p:K,q:Q,Q:s4,s:a4,S:OQe,u:LQe,U:$Qe,V:VQe,w:UQe,W:zQe,x:null,X:null,y:BQe,Y:qQe,Z:HQe,"%":i4},B={a:H,A:ge,b:Ee,B:se,c:null,d:r4,e:r4,f:JQe,g:aZe,G:lZe,H:KQe,I:WQe,j:YQe,L:B6,m:XQe,M:QQe,p:re,q:$e,Q:s4,s:a4,S:ZQe,u:eZe,U:tZe,V:nZe,w:rZe,W:iZe,x:null,X:null,y:sZe,Y:oZe,Z:cZe,"%":i4},V={a:z,A:$,b:U,B:q,c:te,d:e4,e:e4,f:AQe,g:Z$,G:Q$,H:t4,I:t4,j:wQe,L:EQe,m:xQe,M:SQe,p:D,q:bQe,Q:IQe,s:CQe,S:TQe,u:pQe,U:gQe,V:_Qe,w:mQe,W:yQe,x:ee,X:Y,y:Z$,Y:Q$,Z:vQe,"%":kQe};M.x=N(n,M),M.X=N(r,M),M.c=N(e,M),B.x=N(n,B),B.X=N(r,B),B.c=N(e,B);function N(ae,Re){return function(Me){var le=[],nt=-1,Ge=0,mt=ae.length,pt,Pt,vt;for(Me instanceof Date||(Me=new Date(+Me));++nt<mt;)ae.charCodeAt(nt)===37&&(le.push(ae.slice(Ge,nt)),(Pt=X$[pt=ae.charAt(++nt)])!=null?pt=ae.charAt(++nt):Pt=pt==="e"?" ":"0",(vt=Re[pt])&&(pt=vt(Me,Pt)),le.push(pt),Ge=nt+1);return le.push(ae.slice(Ge,nt)),le.join("")}}function P(ae,Re){return function(Me){var le=gm(1900,void 0,1),nt=O(le,ae,Me+="",0),Ge,mt;if(nt!=Me.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Re&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ge=MT(gm(le.y,0,1)),mt=Ge.getUTCDay(),Ge=mt>4||mt===0?Qv.ceil(Ge):Qv(Ge),Ge=gx.offset(Ge,(le.V-1)*7),le.y=Ge.getUTCFullYear(),le.m=Ge.getUTCMonth(),le.d=Ge.getUTCDate()+(le.w+6)%7):(Ge=RT(gm(le.y,0,1)),mt=Ge.getDay(),Ge=mt>4||mt===0?Xv.ceil(Ge):Xv(Ge),Ge=lg.offset(Ge,(le.V-1)*7),le.y=Ge.getFullYear(),le.m=Ge.getMonth(),le.d=Ge.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),mt="Z"in le?MT(gm(le.y,0,1)).getUTCDay():RT(gm(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(mt+5)%7:le.w+le.U*7-(mt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,MT(le)):RT(le)}}function O(ae,Re,Me,le){for(var nt=0,Ge=Re.length,mt=Me.length,pt,Pt;nt<Ge;){if(le>=mt)return-1;if(pt=Re.charCodeAt(nt++),pt===37){if(pt=Re.charAt(nt++),Pt=V[pt in X$?Re.charAt(nt++):pt],!Pt||(le=Pt(ae,Me,le))<0)return-1}else if(pt!=Me.charCodeAt(le++))return-1}return le}function D(ae,Re,Me){var le=d.exec(Re.slice(Me));return le?(ae.p=h.get(le[0].toLowerCase()),Me+le[0].length):-1}function z(ae,Re,Me){var le=v.exec(Re.slice(Me));return le?(ae.w=S.get(le[0].toLowerCase()),Me+le[0].length):-1}function $(ae,Re,Me){var le=p.exec(Re.slice(Me));return le?(ae.w=_.get(le[0].toLowerCase()),Me+le[0].length):-1}function U(ae,Re,Me){var le=I.exec(Re.slice(Me));return le?(ae.m=j.get(le[0].toLowerCase()),Me+le[0].length):-1}function q(ae,Re,Me){var le=E.exec(Re.slice(Me));return le?(ae.m=A.get(le[0].toLowerCase()),Me+le[0].length):-1}function te(ae,Re,Me){return O(ae,e,Re,Me)}function ee(ae,Re,Me){return O(ae,n,Re,Me)}function Y(ae,Re,Me){return O(ae,r,Re,Me)}function X(ae){return a[ae.getDay()]}function fe(ae){return s[ae.getDay()]}function be(ae){return u[ae.getMonth()]}function F(ae){return l[ae.getMonth()]}function K(ae){return i[+(ae.getHours()>=12)]}function Q(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return a[ae.getUTCDay()]}function ge(ae){return s[ae.getUTCDay()]}function Ee(ae){return u[ae.getUTCMonth()]}function se(ae){return l[ae.getUTCMonth()]}function re(ae){return i[+(ae.getUTCHours()>=12)]}function $e(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Re=N(ae+="",M);return Re.toString=function(){return ae},Re},parse:function(ae){var Re=P(ae+="",!1);return Re.toString=function(){return ae},Re},utcFormat:function(ae){var Re=N(ae+="",B);return Re.toString=function(){return ae},Re},utcParse:function(ae){var Re=P(ae+="",!0);return Re.toString=function(){return ae},Re}}}var X$={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,dQe=/^%/,fQe=/[\\^$*+?|[\]().{}]/g;function $t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function hQe(t){return t.replace(fQe,"\\$&")}function _m(t){return new RegExp("^(?:"+t.map(hQe).join("|")+")","i")}function ym(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mQe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pQe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gQe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _Qe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yQe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Q$(t,e,n){var r=Tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Z$(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vQe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bQe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xQe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function e4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wQe(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function t4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function SQe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function TQe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function EQe(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function AQe(t,e,n){var r=Tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kQe(t,e,n){var r=dQe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function IQe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function CQe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function n4(t,e){return $t(t.getDate(),e,2)}function NQe(t,e){return $t(t.getHours(),e,2)}function PQe(t,e){return $t(t.getHours()%12||12,e,2)}function RQe(t,e){return $t(1+lg.count(ko(t),t),e,3)}function U6(t,e){return $t(t.getMilliseconds(),e,3)}function MQe(t,e){return U6(t,e)+"000"}function DQe(t,e){return $t(t.getMonth()+1,e,2)}function jQe(t,e){return $t(t.getMinutes(),e,2)}function OQe(t,e){return $t(t.getSeconds(),e,2)}function LQe(t){var e=t.getDay();return e===0?7:e}function $Qe(t,e){return $t(_x.count(ko(t)-1,t),e,2)}function z6(t){var e=t.getDay();return e>=4||e===0?Tf(t):Tf.ceil(t)}function VQe(t,e){return t=z6(t),$t(Tf.count(ko(t),t)+(ko(t).getDay()===4),e,2)}function UQe(t){return t.getDay()}function zQe(t,e){return $t(Xv.count(ko(t)-1,t),e,2)}function BQe(t,e){return $t(t.getFullYear()%100,e,2)}function FQe(t,e){return t=z6(t),$t(t.getFullYear()%100,e,2)}function qQe(t,e){return $t(t.getFullYear()%1e4,e,4)}function GQe(t,e){var n=t.getDay();return t=n>=4||n===0?Tf(t):Tf.ceil(t),$t(t.getFullYear()%1e4,e,4)}function HQe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$t(e/60|0,"0",2)+$t(e%60,"0",2)}function r4(t,e){return $t(t.getUTCDate(),e,2)}function KQe(t,e){return $t(t.getUTCHours(),e,2)}function WQe(t,e){return $t(t.getUTCHours()%12||12,e,2)}function YQe(t,e){return $t(1+gx.count(Io(t),t),e,3)}function B6(t,e){return $t(t.getUTCMilliseconds(),e,3)}function JQe(t,e){return B6(t,e)+"000"}function XQe(t,e){return $t(t.getUTCMonth()+1,e,2)}function QQe(t,e){return $t(t.getUTCMinutes(),e,2)}function ZQe(t,e){return $t(t.getUTCSeconds(),e,2)}function eZe(t){var e=t.getUTCDay();return e===0?7:e}function tZe(t,e){return $t(yx.count(Io(t)-1,t),e,2)}function F6(t){var e=t.getUTCDay();return e>=4||e===0?Ef(t):Ef.ceil(t)}function nZe(t,e){return t=F6(t),$t(Ef.count(Io(t),t)+(Io(t).getUTCDay()===4),e,2)}function rZe(t){return t.getUTCDay()}function iZe(t,e){return $t(Qv.count(Io(t)-1,t),e,2)}function sZe(t,e){return $t(t.getUTCFullYear()%100,e,2)}function aZe(t,e){return t=F6(t),$t(t.getUTCFullYear()%100,e,2)}function oZe(t,e){return $t(t.getUTCFullYear()%1e4,e,4)}function lZe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ef(t):Ef.ceil(t),$t(t.getUTCFullYear()%1e4,e,4)}function cZe(){return"+0000"}function i4(){return"%"}function s4(t){return+t}function a4(t){return Math.floor(+t/1e3)}var Cd,q6,G6;uZe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uZe(t){return Cd=uQe(t),q6=Cd.format,Cd.parse,G6=Cd.utcFormat,Cd.utcParse,Cd}function dZe(t){return new Date(t)}function fZe(t){return t instanceof Date?+t:+new Date(+t)}function jI(t,e,n,r,i,s,a,l,u,d){var h=xI(),p=h.invert,_=h.domain,v=d(".%L"),S=d(":%S"),E=d("%I:%M"),A=d("%I %p"),I=d("%a %d"),j=d("%b %d"),M=d("%B"),B=d("%Y");function V(N){return(u(N)<N?v:l(N)<N?S:a(N)<N?E:s(N)<N?A:r(N)<N?i(N)<N?I:j:n(N)<N?M:B)(N)}return h.invert=function(N){return new Date(p(N))},h.domain=function(N){return arguments.length?_(Array.from(N,fZe)):_().map(dZe)},h.ticks=function(N){var P=_();return t(P[0],P[P.length-1],N??10)},h.tickFormat=function(N,P){return P==null?V:d(P)},h.nice=function(N){var P=_();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?_(P6(P,N)):h},h.copy=function(){return og(h,jI(t,e,n,r,i,s,a,l,u,d))},h}function hZe(){return Cs.apply(jI(lQe,cQe,ko,MI,_x,lg,PI,CI,Yc,q6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mZe(){return Cs.apply(jI(aQe,oQe,Io,DI,yx,gx,RI,NI,Yc,G6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vx(){var t=0,e=1,n,r,i,s,a=ni,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(a=p,d):a};function h(p){return function(_){var v,S;return arguments.length?([v,S]=_,a=p(v,S),d):[a(0),a(1)]}}return d.range=h(qf),d.rangeRound=h(bI),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function lc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function H6(){var t=oc(vx()(ni));return t.copy=function(){return lc(t,H6())},$o.apply(t,arguments)}function K6(){var t=TI(vx()).domain([1,10]);return t.copy=function(){return lc(t,K6()).base(t.base())},$o.apply(t,arguments)}function W6(){var t=EI(vx());return t.copy=function(){return lc(t,W6()).constant(t.constant())},$o.apply(t,arguments)}function OI(){var t=AI(vx());return t.copy=function(){return lc(t,OI()).exponent(t.exponent())},$o.apply(t,arguments)}function pZe(){return OI.apply(null,arguments).exponent(.5)}function Y6(){var t=[],e=ni;function n(r){if(r!=null&&!isNaN(r=+r))return e((sg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>eXe(t,s/r))},n.copy=function(){return Y6(e).domain(t)},$o.apply(n,arguments)}function bx(){var t=0,e=.5,n=1,r=1,i,s,a,l,u,d=ni,h,p=!1,_;function v(E){return isNaN(E=+E)?_:(E=.5+((E=+h(E))-s)*(r*E<r*s?l:u),d(p?Math.max(0,Math.min(1,E)):E))}v.domain=function(E){return arguments.length?([t,e,n]=E,i=h(t=+t),s=h(e=+e),a=h(n=+n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(E){return arguments.length?(p=!!E,v):p},v.interpolator=function(E){return arguments.length?(d=E,v):d};function S(E){return function(A){var I,j,M;return arguments.length?([I,j,M]=A,d=kXe(E,[I,j,M]),v):[d(0),d(.5),d(1)]}}return v.range=S(qf),v.rangeRound=S(bI),v.unknown=function(E){return arguments.length?(_=E,v):_},function(E){return h=E,i=E(t),s=E(e),a=E(n),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function J6(){var t=oc(bx()(ni));return t.copy=function(){return lc(t,J6())},$o.apply(t,arguments)}function X6(){var t=TI(bx()).domain([.1,1,10]);return t.copy=function(){return lc(t,X6()).base(t.base())},$o.apply(t,arguments)}function Q6(){var t=EI(bx());return t.copy=function(){return lc(t,Q6()).constant(t.constant())},$o.apply(t,arguments)}function LI(){var t=AI(bx());return t.copy=function(){return lc(t,LI()).exponent(t.exponent())},$o.apply(t,arguments)}function gZe(){return LI.apply(null,arguments).exponent(.5)}const Im=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_I,scaleDiverging:J6,scaleDivergingLog:X6,scaleDivergingPow:LI,scaleDivergingSqrt:gZe,scaleDivergingSymlog:Q6,scaleIdentity:N6,scaleImplicit:R1,scaleLinear:C6,scaleLog:R6,scaleOrdinal:gI,scalePoint:rXe,scalePow:kI,scaleQuantile:j6,scaleQuantize:O6,scaleRadial:D6,scaleSequential:H6,scaleSequentialLog:K6,scaleSequentialPow:OI,scaleSequentialQuantile:Y6,scaleSequentialSqrt:pZe,scaleSequentialSymlog:W6,scaleSqrt:JXe,scaleSymlog:M6,scaleThreshold:L6,scaleTime:hZe,scaleUtc:mZe,tickFormat:I6},Symbol.toStringTag,{value:"Module"}));var cc=t=>t.chartData,_Ze=pe([cc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),$I=(t,e,n,r)=>r?_Ze(t):cc(t);function Zl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Gn(e)&&Gn(n))return!0}return!1}function o4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Z6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Gn(n))i=n;else if(typeof n=="function")return;if(Gn(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Zl(a))return a}}function yZe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zl(r))return o4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ke(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&zL.test(i)){var u=zL.exec(i);if(u==null||e==null)a=void 0;else{var d=+u[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Ke(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&BL.test(s)){var h=BL.exec(s);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e==null?void 0:e[1];var _=[a,l];if(Zl(_))return e==null?_:o4(_,e,n)}}}var Gf=1e9,vZe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UI,An=!0,ks="[DecimalError] ",ou=ks+"Invalid argument: ",VI=ks+"Exponent out of range: ",Hf=Math.floor,Bc=Math.pow,bZe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qi,xr=1e7,_n=7,eq=9007199254740991,Zv=Hf(eq/_n),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_n;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(t){return mo(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,n=e.constructor;return on(mo(e,new n(t),0,1),n.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return rr(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(qi))throw Error(ks+"NaN");if(n.s<1)throw Error(ks+(n.s?"NaN":"-Infinity"));return n.eq(qi)?new r(0):(An=!1,e=mo(Ep(n,s),Ep(t,s),s),An=!0,on(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rq(e,t):tq(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ks+"NaN");return n.s?(An=!1,e=mo(n,t,0,1).times(t),An=!0,n.minus(e)):on(new r(n),i)};Ue.naturalExponential=Ue.exp=function(){return nq(this)};Ue.naturalLogarithm=Ue.ln=function(){return Ep(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tq(e,t):rq(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ou+t);if(e=rr(i)+1,r=i.d.length-1,n=r*_n+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ue.squareRoot=Ue.sqrt=function(){var t,e,n,r,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ks+"NaN")}for(t=rr(l),An=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ea(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(mo(l,s,a+2)).times(.5),Ea(s.d).slice(0,a)===(e=Ea(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(on(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return An=!0,on(r,n)};Ue.times=Ue.mul=function(t){var e,n,r,i,s,a,l,u,d,h=this,p=h.constructor,_=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,u=_.length,d=v.length,u<d&&(s=_,_=v,v=s,a=u,u=d,d=a),s=[],a=u+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=s[i]+v[r]*_[i-r-1]+e,s[i--]=l%xr|0,e=l/xr|0;s[i]=(s[i]+e)%xr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,An?on(t,p.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(La(t,0,Gf),e===void 0?e=r.rounding:La(e,0,8),on(n,t+rr(n)+1,e))};Ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xu(r,!0):(La(t,0,Gf),e===void 0?e=i.rounding:La(e,0,8),r=on(new i(r),t+1,e),n=xu(r,!0,t+1)),n};Ue.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?xu(i):(La(t,0,Gf),e===void 0?e=s.rounding:La(e,0,8),r=on(new s(i),t+rr(i)+1,e),n=xu(r.abs(),!1,t+rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return on(new e(t),rr(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,n,r,i,s,a,l=this,u=l.constructor,d=12,h=+(t=new u(t));if(!t.s)return new u(qi);if(l=new u(l),!l.s){if(t.s<1)throw Error(ks+"Infinity");return l}if(l.eq(qi))return l;if(r=u.precision,t.eq(qi))return on(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=h<0?-h:h)<=eq){for(i=new u(qi),e=Math.ceil(r/_n+4),An=!1;n%2&&(i=i.times(l),c4(i.d,e)),n=Hf(n/2),n!==0;)l=l.times(l),c4(l.d,e);return An=!0,t.s<0?new u(qi).div(i):on(i,r)}}else if(s<0)throw Error(ks+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,An=!1,i=t.times(Ep(l,r+d)),An=!0,i=nq(i),i.s=s,i};Ue.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=rr(i),r=xu(i,n<=s.toExpNeg||n>=s.toExpPos)):(La(t,1,Gf),e===void 0?e=s.rounding:La(e,0,8),i=on(new s(i),t,e),n=rr(i),r=xu(i,t<=n||n<=s.toExpNeg,t)),r};Ue.toSignificantDigits=Ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(La(t,1,Gf),e===void 0?e=r.rounding:La(e,0,8)),on(new r(n),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rr(t),n=t.constructor;return xu(t,e<=n.toExpNeg||e>=n.toExpPos)};function tq(t,e){var n,r,i,s,a,l,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),An?on(e,p):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,l=d.length):(r=d,i=a,l=u.length),a=Math.ceil(p/_n),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=d.length,l-s<0&&(s=l,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/xr|0,u[s]%=xr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,An?on(e,p):e}function La(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ou+t)}function Ea(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=_n-r.length,n&&(s+=kl(n)),s+=r;a=t[e],r=a+"",n=_n-r.length,n&&(s+=kl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var mo=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%xr|0,a=s/xr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*xr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,u,d,h,p,_,v,S,E,A,I,j,M,B,V,N,P,O,D=r.constructor,z=r.s==i.s?1:-1,$=r.d,U=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ks+"Division by zero");for(u=r.e-i.e,P=U.length,V=$.length,v=new D(z),S=v.d=[],d=0;U[d]==($[d]||0);)++d;if(U[d]>($[d]||0)&&--u,s==null?j=s=D.precision:a?j=s+(rr(r)-rr(i))+1:j=s,j<0)return new D(0);if(j=j/_n+2|0,d=0,P==1)for(h=0,U=U[0],j++;(d<V||h)&&j--;d++)M=h*xr+($[d]||0),S[d]=M/U|0,h=M%U|0;else{for(h=xr/(U[0]+1)|0,h>1&&(U=t(U,h),$=t($,h),P=U.length,V=$.length),B=P,E=$.slice(0,P),A=E.length;A<P;)E[A++]=0;O=U.slice(),O.unshift(0),N=U[0],U[1]>=xr/2&&++N;do h=0,l=e(U,E,P,A),l<0?(I=E[0],P!=A&&(I=I*xr+(E[1]||0)),h=I/N|0,h>1?(h>=xr&&(h=xr-1),p=t(U,h),_=p.length,A=E.length,l=e(p,E,_,A),l==1&&(h--,n(p,P<_?O:U,_))):(h==0&&(l=h=1),p=U.slice()),_=p.length,_<A&&p.unshift(0),n(E,p,A),l==-1&&(A=E.length,l=e(U,E,P,A),l<1&&(h++,n(E,P<A?O:U,A))),A=E.length):l===0&&(h++,E=[0]),S[d++]=h,l&&E[0]?E[A++]=$[B]||0:(E=[$[B]],A=1);while((B++<V||E[0]!==void 0)&&j--)}return S[0]||S.shift(),v.e=u,on(v,a?s+rr(v)+1:s)}})();function nq(t,e){var n,r,i,s,a,l,u=0,d=0,h=t.constructor,p=h.precision;if(rr(t)>16)throw Error(VI+rr(t));if(!t.s)return new h(qi);for(An=!1,l=p,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Bc(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new h(qi),h.precision=l;;){if(i=on(i.times(t),l),n=n.times(++u),a=s.plus(mo(i,n,l)),Ea(a.d).slice(0,l)===Ea(s.d).slice(0,l)){for(;d--;)s=on(s.times(s),l);return h.precision=p,e==null?(An=!0,on(s,p)):s}s=a}}function rr(t){for(var e=t.e*_n,n=t.d[0];n>=10;n/=10)e++;return e}function DT(t,e,n){if(e>t.LN10.sd())throw An=!0,n&&(t.precision=n),Error(ks+"LN10 precision limit exceeded");return on(new t(t.LN10),e)}function kl(t){for(var e="";t--;)e+="0";return e}function Ep(t,e){var n,r,i,s,a,l,u,d,h,p=1,_=10,v=t,S=v.d,E=v.constructor,A=E.precision;if(v.s<1)throw Error(ks+(v.s?"NaN":"-Infinity"));if(v.eq(qi))return new E(0);if(e==null?(An=!1,d=A):d=e,v.eq(10))return e==null&&(An=!0),DT(E,d);if(d+=_,E.precision=d,n=Ea(S),r=n.charAt(0),s=rr(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ea(v.d),r=n.charAt(0),p++;s=rr(v),r>1?(v=new E("0."+n),s++):v=new E(r+"."+n.slice(1))}else return u=DT(E,d+2,A).times(s+""),v=Ep(new E(r+"."+n.slice(1)),d-_).plus(u),E.precision=A,e==null?(An=!0,on(v,A)):v;for(l=a=v=mo(v.minus(qi),v.plus(qi),d),h=on(v.times(v),d),i=3;;){if(a=on(a.times(h),d),u=l.plus(mo(a,new E(i),d)),Ea(u.d).slice(0,d)===Ea(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(DT(E,d+2,A).times(s+""))),l=mo(l,new E(p),d),E.precision=A,e==null?(An=!0,on(l,A)):l;l=u,i+=2}}function l4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Hf(n/_n),t.d=[],r=(n+1)%_n,n<0&&(r+=_n),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_n;r<i;)t.d.push(+e.slice(r,r+=_n));e=e.slice(r),r=_n-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),An&&(t.e>Zv||t.e<-Zv))throw Error(VI+n)}else t.s=0,t.e=0,t.d=[0];return t}function on(t,e,n){var r,i,s,a,l,u,d,h,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=_n,i=e,d=p[h=0];else{if(h=Math.ceil((r+1)/_n),s=p.length,h>=s)return t;for(d=s=p[h],a=1;s>=10;s/=10)a++;r%=_n,i=r-_n+a}if(n!==void 0&&(s=Bc(10,a-i-1),l=d/s%10|0,u=e<0||p[h+1]!==void 0||d%s,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Bc(10,a-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(s=rr(t),p.length=1,e=e-s-1,p[0]=Bc(10,(_n-e%_n)%_n),t.e=Hf(-e/_n)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,s=1,h--):(p.length=h+1,s=Bc(10,_n-r),p[h]=i>0?(d/Bc(10,a-i)%Bc(10,i)|0)*s:0),u)for(;;)if(h==0){(p[0]+=s)==xr&&(p[0]=1,++t.e);break}else{if(p[h]+=s,p[h]!=xr)break;p[h--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(An&&(t.e>Zv||t.e<-Zv))throw Error(VI+rr(t));return t}function rq(t,e){var n,r,i,s,a,l,u,d,h,p,_=t.constructor,v=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),An?on(e,v):e;if(u=t.d,p=e.d,r=e.e,d=t.e,u=u.slice(),a=d-r,a){for(h=a<0,h?(n=u,a=-a,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(v/_n),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}a=0}for(h&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=xr-1;--u[s],u[i]+=xr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,An?on(e,v):e):new _(0)}function xu(t,e,n){var r,i=rr(t),s=Ea(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+kl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+kl(-i-1)+s,n&&(r=n-a)>0&&(s+=kl(r))):i>=a?(s+=kl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+kl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=kl(r))),t.s<0?"-"+s:s}function c4(t,e){if(t.length>e)return t.length=e,!0}function iq(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ou+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return l4(a,s.toString())}else if(typeof s!="string")throw Error(ou+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bZe.test(s))l4(a,s);else throw Error(ou+s)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iq,i.config=i.set=xZe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function xZe(t){if(!t||typeof t!="object")throw Error(ks+"Object expected");var e,n,r,i=["precision",1,Gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Hf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ou+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ou+n+": "+r);return this}var UI=iq(vZe);qi=new UI(1);const Ht=UI;var wZe=t=>t,sq={},aq=t=>t===sq,u4=t=>function e(){return arguments.length===0||arguments.length===1&&aq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},oq=(t,e)=>t===1?e:u4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==sq).length;return s>=t?e(...r):oq(t-s,u4(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=r.map(h=>aq(h)?l.shift():h);return e(...d,...l)}))}),SZe=t=>oq(t.length,t),O1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},TZe=SZe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),EZe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return wZe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),s(...arguments))}},L1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function lq(t){var e;return t===0?e=1:e=Math.floor(new Ht(t).abs().log(10).toNumber())+1,e}function cq(t,e,n){for(var r=new Ht(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var uq=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},dq=(t,e,n)=>{if(t.lte(0))return new Ht(0);var r=lq(t.toNumber()),i=new Ht(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new Ht(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Ht(u.toNumber()):new Ht(Math.ceil(u.toNumber()))},AZe=(t,e,n)=>{var r=new Ht(1),i=new Ht(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ht(10).pow(lq(t)-1),i=new Ht(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ht(Math.floor(t)))}else t===0?i=new Ht(Math.floor((e-1)/2)):n||(i=new Ht(Math.floor(t)));var a=Math.floor((e-1)/2),l=EZe(TZe(u=>i.add(new Ht(u-a).mul(r)).toNumber()),O1);return l(0,e)},fq=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var a=dq(new Ht(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Ht(0):(l=new Ht(e).add(n).div(2),l=l.sub(new Ht(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Ht(n).sub(l).div(a).toNumber()),h=u+d+1;return h>r?fq(e,n,r,i,s+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:a,tickMin:l.sub(new Ht(u).mul(a)),tickMax:l.add(new Ht(d).mul(a))})},kZe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,u]=uq([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...O1(0,i-1).map(()=>1/0)]:[...O1(0,i-1).map(()=>-1/0),u];return n>r?L1(d):d}if(l===u)return AZe(l,i,s);var{step:h,tickMin:p,tickMax:_}=fq(l,u,a,s,0),v=cq(p,_.add(new Ht(.1).mul(h)),h);return n>r?L1(v):v},IZe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=uq([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var u=Math.max(n,2),d=dq(new Ht(l).sub(a).div(u-1),s,0),h=[...cq(new Ht(a),new Ht(l),d),l];return s===!1&&(h=h.map(p=>Math.round(p))),r>i?L1(h):h},hq=t=>t.rootProps.maxBarSize,CZe=t=>t.rootProps.barGap,mq=t=>t.rootProps.barCategoryGap,NZe=t=>t.rootProps.barSize,xx=t=>t.rootProps.stackOffset,pq=t=>t.rootProps.reverseStackOrder,zI=t=>t.options.chartName,BI=t=>t.rootProps.syncId,gq=t=>t.rootProps.syncMethod,FI=t=>t.options.eventEmitter,ri={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},so={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},PZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:so.angleAxisId,includeHidden:!1,name:void 0,reversed:so.reversed,scale:so.scale,tick:so.tick,tickCount:void 0,ticks:void 0,type:so.type,unit:void 0},RZe={allowDataOverflow:Fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fi.scale,tick:Fi.tick,tickCount:Fi.tickCount,ticks:void 0,type:Fi.type,unit:void 0},MZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:so.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:so.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:so.scale,tick:so.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DZe={allowDataOverflow:Fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fi.scale,tick:Fi.tick,tickCount:Fi.tickCount,ticks:void 0,type:"category",unit:void 0},qI=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?MZe:PZe,GI=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?DZe:RZe,Sx=t=>t.polarOptions,HI=pe([Oo,Lo,Sr],IJe),_q=pe([Sx,HI],(t,e)=>{if(t!=null)return Ys(t.innerRadius,e,0)}),yq=pe([Sx,HI],(t,e)=>{if(t!=null)return Ys(t.outerRadius,e,e*.8)}),jZe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},vq=pe([Sx],jZe);pe([qI,vq],wx);var bq=pe([HI,_q,yq],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});pe([GI,bq],wx);var xq=pe([Xt,Sx,_q,yq,Oo,Lo],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:d}=e;return{cx:Ys(a,i,i/2),cy:Ys(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),hr=(t,e)=>e,Tx=(t,e,n)=>n;function KI(t){return t==null?void 0:t.id}function wq(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=KI(l);d.forEach((p,_)=>{var v=s==null||i?_:String(Wr(p,s,null)),S=Wr(p,l.dataKey,0),E;a.has(v)?E=a.get(v):E={},Object.assign(E,{[h]:S}),a.set(v,E)})}}),Array.from(a.values())}function Ex(t){return t.stackId!=null&&t.dataKey!=null}var Ax=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function kx(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function OZe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var mr=t=>{var e=Xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Kf=t=>t.tooltip.settings.axisId;function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){LZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LZe(t,e,n){return(e=$Ze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ze(t){var e=VZe(t,"string");return typeof e=="symbol"?e:e+""}function VZe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1=[0,"auto"],yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Sq=(t,e)=>t.cartesianAxis.xAxis[e],Vo=(t,e)=>{var n=Sq(t,e);return n??yr},vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ig},Tq=(t,e)=>t.cartesianAxis.yAxis[e],Uo=(t,e)=>{var n=Tq(t,e);return n??vr},UZe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},WI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??UZe},li=(t,e,n)=>{switch(e){case"xAxis":return Vo(t,n);case"yAxis":return Uo(t,n);case"zAxis":return WI(t,n);case"angleAxis":return qI(t,n);case"radiusAxis":return GI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zZe=(t,e,n)=>{switch(e){case"xAxis":return Vo(t,n);case"yAxis":return Uo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cg=(t,e,n)=>{switch(e){case"xAxis":return Vo(t,n);case"yAxis":return Uo(t,n);case"angleAxis":return qI(t,n);case"radiusAxis":return GI(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Eq=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Aq(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var YI=t=>t.graphicalItems.cartesianItems,BZe=pe([hr,Tx],Aq),kq=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),ug=pe([YI,li,BZe],kq,{memoizeOptions:{resultEqualityCheck:kx}}),Iq=pe([ug],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Ex)),Cq=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),FZe=pe([ug],Cq),Nq=t=>t.map(e=>e.data).filter(Boolean).flat(1),qZe=pe([ug],Nq,{memoizeOptions:{resultEqualityCheck:kx}}),Pq=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},JI=pe([qZe,$I],Pq),Rq=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Wr(i,r)}))):t.map(r=>({value:r})),Ix=pe([JI,li,ug],Rq);function Mq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Vy(t){if(ja(t)||t instanceof Date){var e=Number(t);if(Gn(e))return e}}function f4(t){if(Array.isArray(t)){var e=[Vy(t[0]),Vy(t[1])];return Zl(e)?e:void 0}var n=Vy(t);if(n!=null)return[n,n]}function Co(t){return t.map(Vy).filter(HHe)}function GZe(t,e,n){return!n||typeof e!="number"||Ws(e)?[]:n.length?Co(n.flatMap(r=>{var i=Wr(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Gn(s)||!Gn(a)))return[e-s,e+a]})):[]}var pr=t=>{var e=mr(t),n=Kf(t);return cg(t,e,n)},dg=pe([pr],t=>t==null?void 0:t.dataKey),HZe=pe([Iq,$I,pr],wq),Dq=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,u]=a,d=r?[...u].reverse():u,h=d.map(KI);return[l,{stackedData:gWe(t,h,n),graphicalItems:d}]}))},V1=pe([HZe,Iq,xx,pq],Dq),jq=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=xWe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},KZe=pe([li],t=>t.allowDataOverflow),XI=t=>{var e;if(t==null||!("domain"in t))return $1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Co(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:$1},Oq=pe([li],XI),Lq=pe([Oq,KZe],Z6),WZe=pe([V1,cc,hr,Lq],jq,{memoizeOptions:{resultEqualityCheck:Ax}}),QI=t=>t.errorBars,YZe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Mq(n,r)),tb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},$q=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(I=>Mq(i,I)),_=Wr(l,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey),v=GZe(l,_,p);if(v.length>=2){var S=Math.min(...v),E=Math.max(...v);(s==null||S<s)&&(s=S),(a==null||E>a)&&(a=E)}var A=f4(_);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),a=a==null?A[1]:Math.max(a,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=f4(Wr(l,e.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Gn(s)&&Gn(a))return[s,a]},JZe=pe([JI,li,FZe,QI,hr],$q,{memoizeOptions:{resultEqualityCheck:Ax}});function XZe(t){var{value:e}=t;if(ja(e)||e instanceof Date)return e}var QZe=(t,e,n)=>{var r=t.map(XZe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&oF(r))?y6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Vq=t=>t.referenceElements.dots,Wf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ZZe=pe([Vq,hr,Tx],Wf),Uq=t=>t.referenceElements.areas,eet=pe([Uq,hr,Tx],Wf),zq=t=>t.referenceElements.lines,tet=pe([zq,hr,Tx],Wf),Bq=(t,e)=>{var n=Co(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},net=pe(ZZe,hr,Bq),Fq=(t,e)=>{var n=Co(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ret=pe([eet,hr],Fq);function iet(t){var e;if(t.x!=null)return Co([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Co(n)}function set(t){var e;if(t.y!=null)return Co([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Co(n)}var qq=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?iet(r):set(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aet=pe([tet,hr],qq),oet=pe(net,aet,ret,(t,e,n)=>tb(t,n,e)),Gq=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var u=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=u?tb(r,s,i):tb(s,i);return yZe(e,d,t.allowDataOverflow)},cet=pe([li,Oq,Lq,WZe,JZe,oet,Xt,hr],Gq,{memoizeOptions:{resultEqualityCheck:Ax}}),uet=[0,1],Hq=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=t,d=Nu(e,s);if(d&&l==null){var h;return y6(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return u==="category"?QZe(r,t,d):i==="expand"?uet:a}},ZI=pe([li,Xt,JI,Ix,xx,hr,cet],Hq),Kq=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(eg(s));return l in Im?l:"point"}}},fg=pe([li,Xt,Eq,zI,hr],Kq);function det(t){if(t!=null){if(t in Im)return Im[t]();var e="scale".concat(eg(t));if(e in Im)return Im[e]()}}function eC(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=det(e);if(i!=null){var s=i.domain(n).range(r);return dWe(s),s}}}var Wq=(t,e,n)=>{var r=XI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zl(t))return kZe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zl(t))return IZe(t,e.tickCount,e.allowDecimals)}},tC=pe([ZI,cg,fg],Wq),Yq=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Zl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},fet=pe([li,ZI,tC,hr],Yq),het=pe(Ix,li,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Co(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),Jq=pe(het,Xt,mq,Sr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Gn(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Ys(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),met=(t,e)=>{var n=Vo(t,e);return n==null||typeof n.padding!="string"?0:Jq(t,"xAxis",e,n.padding)},pet=(t,e)=>{var n=Uo(t,e);return n==null||typeof n.padding!="string"?0:Jq(t,"yAxis",e,n.padding)},get=pe(Vo,met,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),_et=pe(Uo,pet,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),yet=pe([Sr,get,ux,cx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),vet=pe([Sr,Xt,_et,ux,cx,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return yet(t,n,r);case"yAxis":return vet(t,n,r);case"zAxis":return(i=WI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return vq(t);case"radiusAxis":return bq(t,n);default:return}},Xq=pe([li,hg],wx),Yf=pe([li,fg,fet,Xq],eC);pe([ug,QI,hr],YZe);function Qq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Cx=(t,e)=>e,Nx=(t,e,n)=>n,bet=pe(ox,Cx,Nx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Qq)),xet=pe(lx,Cx,Nx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Qq)),Zq=(t,e)=>({width:t.width,height:e.height}),wet=(t,e)=>{var n=typeof e.width=="number"?e.width:ig;return{width:n,height:t.height}},eG=pe(Sr,Vo,Zq),Tet=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Eet=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Aet=pe(Lo,Sr,bet,Cx,Nx,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=Zq(e,l);a==null&&(a=Tet(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*u.height,a+=(d?-1:1)*u.height}),s}),ket=pe(Oo,Sr,xet,Cx,Nx,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var u=wet(e,l);a==null&&(a=Eet(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*u.width,a+=(d?-1:1)*u.width}),s}),Iet=(t,e)=>{var n=Vo(t,e);if(n!=null)return Aet(t,n.orientation,n.mirror)},Cet=pe([Sr,Vo,Iet,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Net=(t,e)=>{var n=Uo(t,e);if(n!=null)return ket(t,n.orientation,n.mirror)},Pet=pe([Sr,Uo,Net,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),tG=pe(Sr,Uo,(t,e)=>{var n=typeof e.width=="number"?e.width:ig;return{width:n,height:t.height}}),h4=(t,e,n)=>{switch(e){case"xAxis":return eG(t,n).width;case"yAxis":return tG(t,n).height;default:return}},nG=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Nu(t,r),u=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&oF(u))return u}},nC=pe([Xt,Ix,li,hr],nG),rG=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Nu(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},rC=pe([Xt,Ix,cg,hr],rG),m4=pe([Xt,zZe,fg,Yf,nC,rC,hg,tC,hr],(t,e,n,r,i,s,a,l,u)=>{if(e!=null){var d=Nu(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}}),Ret=(t,e,n,r,i,s,a,l,u)=>{if(!(e==null||r==null)){var d=Nu(t,u),{type:h,ticks:p,tickCount:_}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/v:0;S=u==="angleAxis"&&s!=null&&s.length>=2?Ti(s[0]-s[1])*2*S:S;var E=p||i;if(E){var A=E.map((I,j)=>{var M=a?a.indexOf(I):I;return{index:j,coordinate:r(M)+S,value:I,offset:S}});return A.filter(I=>Gn(I.coordinate))}return d&&l?l.map((I,j)=>({coordinate:r(I)+S,value:I,index:j,offset:S})).filter(I=>Gn(I.coordinate)):r.ticks?r.ticks(_).map(I=>({coordinate:r(I)+S,value:I,offset:S})):r.domain().map((I,j)=>({coordinate:r(I)+S,value:a?a[I]:I,index:j,offset:S}))}},iG=pe([Xt,cg,fg,Yf,tC,hg,nC,rC,hr],Ret),Met=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Nu(t,a),{tickCount:u}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ti(r[0]-r[1])*2*d:d,l&&s?s.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},Af=pe([Xt,cg,Yf,hg,nC,rC,hr],Met),kf=pe(li,Yf,(t,e)=>{if(!(t==null||e==null))return eb(eb({},t),{},{scale:e})}),Det=pe([li,fg,ZI,Xq],eC);pe((t,e,n)=>WI(t,n),Det,(t,e)=>{if(!(t==null||e==null))return eb(eb({},t),{},{scale:e})});var jet=pe([Xt,ox,lx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sG=t=>t.options.defaultTooltipEventType,aG=t=>t.options.validateTooltipEventTypes;function oG(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function iC(t,e){var n=sG(t),r=aG(t);return oG(e,n,r)}function Oet(t){return We(e=>iC(e,t))}var lG=(t,e)=>{var n,r=Number(e);if(!(Ws(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Let=t=>t.tooltip.settings,jl={active:!1,index:null,dataKey:void 0,coordinate:void 0},$et={itemInteraction:{click:jl,hover:jl},axisInteraction:{click:jl,hover:jl},keyboardInteraction:jl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cG=Ci({name:"tooltip",initialState:$et,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Tn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Hs(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Tn()},removeTooltipEntrySettings:{reducer(t,e){var n=Hs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Tn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Vet,replaceTooltipEntrySettings:Uet,removeTooltipEntrySettings:zet,setTooltipSettingsState:Bet,setActiveMouseOverItemIndex:uG,mouseLeaveItem:Fet,mouseLeaveChart:dG,setActiveClickItemIndex:qet,setMouseOverAxisIndex:fG,setMouseClickAxisIndex:Get,setSyncInteraction:U1,setKeyboardInteraction:z1}=cG.actions,Het=cG.reducer;function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){Ket(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ket(t,e,n){return(e=Wet(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wet(t){var e=Yet(t,"string");return typeof e=="symbol"?e:e+""}function Yet(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jet(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Xet(t){return t.index!=null}var hG=(t,e,n,r)=>{if(e==null)return jl;var i=Jet(t,e,n);if(i==null)return jl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Xet(i)){if(s)return fy(fy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return fy(fy({},jl),{},{coordinate:i.coordinate})};function Qet(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Zet(t,e){var n=Qet(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function ett(t,e,n){if(n==null||e==null)return!0;var r=Wr(t,e);return r==null||!Zl(n)?!0:Zet(r,n)}var sC=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!Gn(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var u=Math.max(a,Math.min(s,l)),d=e[u];return d==null||ett(d,n,r)?String(u):null},mG=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var u=a[0],d=u==null?void 0:l(u.positions,s);if(d!=null)return d;var h=i==null?void 0:i[Number(s)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},pG=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},mg=t=>t.options.tooltipPayloadSearcher,Jf=t=>t.tooltip;function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){ttt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ttt(t,e,n){return(e=ntt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ntt(t){var e=rtt(t,"string");return typeof e=="symbol"?e:e+""}function rtt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function itt(t,e){return t??e}var gG=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return t.reduce((_,v)=>{var S,{dataDefinedOnItem:E,settings:A}=v,I=itt(E,l),j=Array.isArray(I)?XF(I,d,h):I,M=(S=A==null?void 0:A.dataKey)!==null&&S!==void 0?S:r,B=A==null?void 0:A.nameKey,V;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&a==="axis"?V=GHe(j,r,i):V=s(j,e,u,B),Array.isArray(V))V.forEach(P=>{var O=_4(_4({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});_.push(FL({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:Wr(P.payload,P.dataKey),name:P.name}))});else{var N;_.push(FL({tooltipEntrySettings:A,dataKey:M,payload:V,value:Wr(V,M),name:(N=Wr(V,B))!==null&&N!==void 0?N:A==null?void 0:A.name}))}return _},p)}},aC=pe([pr,Xt,Eq,zI,mr],Kq),stt=pe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),att=pe([mr,Kf],Aq),pg=pe([stt,pr,att],kq,{memoizeOptions:{resultEqualityCheck:kx}}),ott=pe([pg],t=>t.filter(Ex)),ltt=pe([pg],Nq,{memoizeOptions:{resultEqualityCheck:kx}}),Xf=pe([ltt,cc],Pq),ctt=pe([ott,cc,pr],wq),oC=pe([Xf,pr,pg],Rq),_G=pe([pr],XI),utt=pe([pr],t=>t.allowDataOverflow),yG=pe([_G,utt],Z6),dtt=pe([pg],t=>t.filter(Ex)),ftt=pe([ctt,dtt,xx,pq],Dq),htt=pe([ftt,cc,mr,yG],jq),mtt=pe([pg],Cq),ptt=pe([Xf,pr,mtt,QI,mr],$q,{memoizeOptions:{resultEqualityCheck:Ax}}),gtt=pe([Vq,mr,Kf],Wf),_tt=pe([gtt,mr],Bq),ytt=pe([Uq,mr,Kf],Wf),vtt=pe([ytt,mr],Fq),btt=pe([zq,mr,Kf],Wf),xtt=pe([btt,mr],qq),wtt=pe([_tt,xtt,vtt],tb),Stt=pe([pr,_G,yG,htt,ptt,wtt,Xt,mr],Gq),gg=pe([pr,Xt,Xf,oC,xx,mr,Stt],Hq),Ttt=pe([gg,pr,aC],Wq),Ett=pe([pr,gg,Ttt,mr],Yq),vG=t=>{var e=mr(t),n=Kf(t),r=!1;return hg(t,e,n,r)},bG=pe([pr,vG],wx),xG=pe([pr,aC,Ett,bG],eC),Att=pe([Xt,oC,pr,mr],nG),ktt=pe([Xt,oC,pr,mr],rG),Itt=(t,e,n,r,i,s,a,l)=>{if(e){var{type:u}=e,d=Nu(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ti(i[0]-i[1])*2*p:p,d&&a?a.map((_,v)=>({coordinate:r(_)+p,value:_,index:v,offset:p})):r.domain().map((_,v)=>({coordinate:r(_)+p,value:s?s[_]:_,index:v,offset:p}))}}},zo=pe([Xt,pr,aC,xG,vG,Att,ktt,mr],Itt),lC=pe([sG,aG,Let],(t,e,n)=>oG(n.shared,t,e)),wG=t=>t.tooltip.settings.trigger,cC=t=>t.tooltip.settings.defaultIndex,Px=pe([Jf,lC,wG,cC],hG),If=pe([Px,Xf,dg,gg],sC),SG=pe([zo,If],lG),TG=pe([Px],t=>{if(t)return t.dataKey}),EG=pe([Jf,lC,wG,cC],pG),Ctt=pe([Oo,Lo,Xt,Sr,zo,cC,EG,mg],mG),Ntt=pe([Px,Ctt],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Ptt=pe([Px],t=>t.active),Rtt=pe([EG,If,cc,dg,SG,mg,lC],gG);pe([Rtt],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){Mtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mtt(t,e,n){return(e=Dtt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dtt(t){var e=jtt(t,"string");return typeof e=="symbol"?e:e+""}function jtt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ott=()=>We(pr),Ltt=()=>{var t=Ott(),e=We(zo),n=We(xG);return Lv(!t||!n?void 0:v4(v4({},t),{},{scale:n}),e)};function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){$tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $tt(t,e,n){return(e=Vtt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vtt(t){var e=Utt(t,"string");return typeof e=="symbol"?e:e+""}function Utt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ztt=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Btt=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Nd(Nd(Nd({},r),Or(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:u}=r;return Nd(Nd(Nd({},r),Or(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ftt(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var AG=(t,e,n,r,i)=>{var s,a=-1,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,_=void 0;if(Ti(h-d)!==Ti(p-h)){var v=[];if(Ti(p-h)===Ti(i[1]-i[0])){_=p;var S=h+i[1]-i[0];v[0]=Math.min(S,(S+d)/2),v[1]=Math.max(S,(S+d)/2)}else{_=d;var E=p+i[1]-i[0];v[0]=Math.min(h,(E+h)/2),v[1]=Math.max(h,(E+h)/2)}var A=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>A[0]&&t<=A[1]||t>=v[0]&&t<=v[1]){({index:a}=n[u]);break}}else{var I=Math.min(d,p),j=Math.max(d,p);if(t>(I+h)/2&&t<=(j+h)/2){({index:a}=n[u]);break}}}else if(e){for(var M=0;M<l;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<l-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===l-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:a}=e[M]);break}}return a},qtt=()=>We(zI),uC=(t,e)=>e,kG=(t,e,n)=>n,dC=(t,e,n,r)=>r,Gtt=pe(zo,t=>tx(t,e=>e.coordinate)),fC=pe([Jf,uC,kG,dC],hG),hC=pe([fC,Xf,dg,gg],sC),Htt=(t,e,n)=>{if(e!=null){var r=Jf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},IG=pe([Jf,uC,kG,dC],pG),nb=pe([Oo,Lo,Xt,Sr,zo,dC,IG,mg],mG),Ktt=pe([fC,nb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),CG=pe([zo,hC],lG),Wtt=pe([IG,hC,cc,dg,CG,mg,uC],gG),Ytt=pe([fC,hC],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Jtt=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&Ftt(t,a)){var l=wWe(t,e),u=AG(l,s,i,n,r),d=ztt(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},Xtt=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=MJe(t,n);if(l){var u=SWe(l,e),d=AG(u,a,s,r,i),h=Btt(e,s,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},Qtt=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Jtt(t,e,r,i,s,a,l):Xtt(t,e,n,r,i,s,a)},Ztt=pe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),ent=pe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(ri)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:OZe}});function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){tnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tnt(t,e,n){return(e=nnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nnt(t){var e=rnt(t,"string");return typeof e=="symbol"?e:e+""}function rnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var int={},snt={zIndexMap:Object.values(ri).reduce((t,e)=>w4(w4({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),int)},ant=new Set(Object.values(ri));function ont(t){return ant.has(t)}var NG=Ci({name:"zIndex",initialState:snt,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Tn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!ont(n)&&delete t.zIndexMap[n])},prepare:Tn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Tn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Tn()}}}),{registerZIndexPortal:lnt,unregisterZIndexPortal:cnt,registerZIndexPortalId:unt,unregisterZIndexPortalId:dnt}=NG.actions,fnt=NG.reducer;function Bo(t){var{zIndex:e,children:n}=t,r=nYe(),i=r&&e!==void 0&&e!==0,s=Ni(),a=Cn();k.useLayoutEffect(()=>i?(a(lnt({zIndex:e})),()=>{a(cnt({zIndex:e}))}):tg,[a,e,i]);var l=We(d=>Ztt(d,e,s));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Kk.createPortal(n,u):null}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){hnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hnt(t,e,n){return(e=mnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mnt(t){var e=pnt(t,"string");return typeof e=="symbol"?e:e+""}function pnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gnt(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return k.isValidElement(e)?k.cloneElement(e,r):k.createElement(n,r)}function _nt(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:u,tooltipEventType:d,chartName:h}=t,p=n,_=r,v=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var S,E,A;if(h==="ScatterChart")S=p,E=WYe,A=ri.cursorLine;else if(h==="BarChart")S=YYe(l,p,s,a),E=m6,A=ri.cursorRectangle;else if(l==="radial"&&cF(p)){var{cx:I,cy:j,radius:M,startAngle:B,endAngle:V}=p6(p);S={cx:I,cy:j,startAngle:B,endAngle:V,innerRadius:M,outerRadius:M},E=_6,A=ri.cursorLine}else S={points:LJe(l,p,s)},E=c6,A=ri.cursorLine;var N=typeof u=="object"&&"className"in u?u.className:void 0,P=hy(hy(hy(hy({stroke:"#ccc",pointerEvents:"none"},s),S),Gk(u)),{},{payload:_,payloadIndex:v,className:fn("recharts-tooltip-cursor",N)});return k.createElement(Bo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},k.createElement(gnt,{cursor:u,cursorComp:E,cursorProps:P}))}function ynt(t){var e=Ltt(),n=a6(),r=fx(),i=qtt();return e==null||n==null||r==null||i==null?null:k.createElement(_nt,B1({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var PG=k.createContext(null),vnt=()=>k.useContext(PG),jT={exports:{}},T4;function bnt(){return T4||(T4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,p,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||u,_),S=n?n+d:d;return u._events[S]?u._events[S].fn?u._events[S]=[u._events[S],v]:u._events[S].push(v):(u._events[S]=v,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var _=0,v=p.length,S=new Array(v);_<v;_++)S[_]=p[_].fn;return S},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,_,v,S){var E=n?n+d:d;if(!this._events[E])return!1;var A=this._events[E],I=arguments.length,j,M;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,_),!0;case 5:return A.fn.call(A.context,h,p,_,v),!0;case 6:return A.fn.call(A.context,h,p,_,v,S),!0}for(M=1,j=new Array(I-1);M<I;M++)j[M-1]=arguments[M];A.fn.apply(A.context,j)}else{var B=A.length,V;for(M=0;M<B;M++)switch(A[M].once&&this.removeListener(d,A[M].fn,void 0,!0),I){case 1:A[M].fn.call(A[M].context);break;case 2:A[M].fn.call(A[M].context,h);break;case 3:A[M].fn.call(A[M].context,h,p);break;case 4:A[M].fn.call(A[M].context,h,p,_);break;default:if(!j)for(V=1,j=new Array(I-1);V<I;V++)j[V-1]=arguments[V];A[M].fn.apply(A[M].context,j)}}return!0},l.prototype.on=function(d,h,p){return s(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return s(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,_){var v=n?n+d:d;if(!this._events[v])return this;if(!h)return a(this,v),this;var S=this._events[v];if(S.fn)S.fn===h&&(!_||S.once)&&(!p||S.context===p)&&a(this,v);else{for(var E=0,A=[],I=S.length;E<I;E++)(S[E].fn!==h||_&&!S[E].once||p&&S[E].context!==p)&&A.push(S[E]);A.length?this._events[v]=A.length===1?A[0]:A:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(jT)),jT.exports}var xnt=bnt();const wnt=Is(xnt);var Ap=new wnt,F1="recharts.syncEvent.tooltip",E4="recharts.syncEvent.brush";function Snt(t,e){if(e){var n=Number.parseInt(e,10);if(!Ws(n))return t==null?void 0:t[n]}}var Tnt={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},RG=Ci({name:"options",initialState:Tnt,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ent=RG.reducer,{createEventEmitter:Ant}=RG.actions;function knt(t){return t.tooltip.syncInteraction}var Int={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MG=Ci({name:"chartData",initialState:Int,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:A4,setDataStartEndIndexes:Cnt,setComputedData:gct}=MG.actions,Nnt=MG.reducer,Pnt=["x","y"];function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){Rnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rnt(t,e,n){return(e=Mnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mnt(t){var e=Dnt(t,"string");return typeof e=="symbol"?e:e+""}function Dnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jnt(t,e){if(t==null)return{};var n,r,i=Ont(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ont(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lnt(){var t=We(BI),e=We(FI),n=Cn(),r=We(gq),i=We(zo),s=fx(),a=dx(),l=We(u=>u.rootProps.className);k.useEffect(()=>{if(t==null)return tg;var u=(d,h,p)=>{if(e!==p&&t===d){if(r==="index"){var _;if(a&&h!==null&&h!==void 0&&(_=h.payload)!==null&&_!==void 0&&_.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:S,y:E}=v,A=jnt(v,Pnt),{x:I,y:j,width:M,height:B}=h.payload.sourceViewBox,V=Pd(Pd({},A),{},{x:a.x+(M?(S-I)/M:0)*a.width,y:a.y+(B?(E-j)/B:0)*a.height});n(Pd(Pd({},h),{},{payload:Pd(Pd({},h.payload),{},{coordinate:V})}))}else n(h);return}if(i!=null){var N;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,P);N=i[O]}else r==="value"&&(N=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:D}=h.payload;if(N==null||h.payload.active===!1||D==null||a==null){n(U1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:z,y:$}=D,U=Math.min(z,a.x+a.width),q=Math.min($,a.y+a.height),te={x:s==="horizontal"?N.coordinate:U,y:s==="horizontal"?q:N.coordinate},ee=U1({active:h.payload.active,coordinate:te,dataKey:h.payload.dataKey,index:String(N.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(ee)}}};return Ap.on(F1,u),()=>{Ap.off(F1,u)}},[l,n,e,t,r,i,s,a])}function $nt(){var t=We(BI),e=We(FI),n=Cn();k.useEffect(()=>{if(t==null)return tg;var r=(i,s,a)=>{e!==a&&t===i&&n(Cnt(s))};return Ap.on(E4,r),()=>{Ap.off(E4,r)}},[n,e,t])}function Vnt(){var t=Cn();k.useEffect(()=>{t(Ant())},[t]),Lnt(),$nt()}function Unt(t,e,n,r,i,s){var a=We(v=>Htt(v,t,e)),l=We(FI),u=We(BI),d=We(gq),h=We(knt),p=h==null?void 0:h.active,_=dx();k.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=U1({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:_});Ap.emit(F1,u,v,l)}},[p,n,a,i,r,l,u,d,s,_])}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){znt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function znt(t,e,n){return(e=Bnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bnt(t){var e=Fnt(t,"string");return typeof e=="symbol"?e:e+""}function Fnt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qnt(t){return t.dataKey}function Gnt(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(AYe,e)}var N4=[],Hnt={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ff.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mC(t){var e,n,r=oi(t,Hnt),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:_,position:v,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:I,shared:j,trigger:M,defaultIndex:B,portal:V,axisId:N}=r,P=Cn(),O=typeof B=="number"?String(B):B;k.useEffect(()=>{P(Bet({shared:j,trigger:M,axisId:N,active:i,defaultIndex:O}))},[P,j,M,N,i,O]);var D=dx(),z=l6(),$=Oet(j),{activeIndex:U,isActive:q}=(e=We(re=>Ytt(re,$,M,O)))!==null&&e!==void 0?e:{},te=We(re=>Wtt(re,$,M,O)),ee=We(re=>CG(re,$,M,O)),Y=We(re=>Ktt(re,$,M,O)),X=te,fe=vnt(),be=(n=i??q)!==null&&n!==void 0?n:!1,[F,K]=TF([X,be]),Q=$==="axis"?ee:void 0;Unt($,M,Y,Q,U,be);var H=V??fe;if(H==null||D==null||$==null)return null;var ge=X??N4;be||(ge=N4),d&&ge.length&&(ge=vF(ge.filter(re=>re.value!=null&&(re.hide!==!0||r.includeHidden)),_,qnt));var Ee=ge.length>0,se=k.createElement(MYe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:be,coordinate:Y,hasPayload:Ee,offset:p,position:v,reverseDirection:S,useTranslate3d:E,viewBox:D,wrapperStyle:A,lastBoundingBox:F,innerRef:K,hasPortalFromProps:!!V},Gnt(u,C4(C4({},r),{},{payload:ge,label:Q,active:be,activeIndex:U,coordinate:Y,accessibilityLayer:z})));return k.createElement(k.Fragment,null,Kk.createPortal(se,H),be&&k.createElement(ynt,{cursor:I,tooltipEventType:$,coordinate:Y,payload:ge,index:U}))}var DG=t=>null;DG.displayName="Cell";function Knt(t,e,n){return(e=Wnt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wnt(t){var e=Ynt(t,"string");return typeof e=="symbol"?e:e+""}function Ynt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jnt{constructor(e){Knt(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xnt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Qnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qnt(t,e,n){return(e=Znt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Znt(t){var e=ert(t,"string");return typeof e=="symbol"?e:e+""}function ert(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var trt={cacheSize:2e3,enableCache:!0},jG=Xnt({},trt),R4=new Jnt(jG.cacheSize),nrt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},M4="recharts_measurement_span";function rrt(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var D4=(t,e)=>{try{var n=document.getElementById(M4);n||(n=document.createElement("span"),n.setAttribute("id",M4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nrt,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ff.isSsr)return{width:0,height:0};if(!jG.enableCache)return D4(e,n);var r=rrt(e,n),i=R4.get(r);if(i)return i;var s=D4(e,n);return R4.set(r,s),s},j4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,irt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,srt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},art=Object.keys(OG),Ud="NaN";function ort(t,e){return t*OG[e]}class _i{static parse(e){var n,[,r,i]=(n=srt.exec(e))!==null&&n!==void 0?n:[];return new _i(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ws(e)&&(this.unit=""),n!==""&&!irt.test(n)&&(this.num=NaN,this.unit=""),art.includes(n)&&(this.num=ort(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _i(NaN,""):new _i(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _i(NaN,""):new _i(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _i(NaN,""):new _i(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _i(NaN,""):new _i(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ws(this.num)}}function LG(t){if(t.includes(Ud))return Ud;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=j4.exec(e))!==null&&n!==void 0?n:[],a=_i.parse(r??""),l=_i.parse(s??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return Ud;e=e.replace(j4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,p,_]=(d=O4.exec(e))!==null&&d!==void 0?d:[],v=_i.parse(h??""),S=_i.parse(_??""),E=p==="+"?v.add(S):v.subtract(S);if(E.isNaN())return Ud;e=e.replace(O4,E.toString())}return e}var L4=/\(([^()]*)\)/;function lrt(t){for(var e=t,n;(n=L4.exec(e))!=null;){var[,r]=n;e=e.replace(L4,LG(r))}return e}function crt(t){var e=t.replace(/\s+/g,"");return e=lrt(e),e=LG(e),e}function urt(t){try{return crt(t)}catch{return Ud}}function OT(t){var e=urt(t.slice(5,-1));return e===Ud?"":e}var drt=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],frt=["dx","dy","angle","className","breakAll"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}function $4(t,e){if(t==null)return{};var n,r,i=hrt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hrt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $G=/[ \f\n\r\t\v\u2028\u2029]+/,VG=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];wr(e)||(n?i=e.toString().split(""):i=e.toString().split($G));var s=i.map(l=>({word:l,width:Hm(l,r).width})),a=n?0:Hm("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function mrt(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var UG=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(a),u.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),zG=t=>t.reduce((e,n)=>e.width>n.width?e:n),prt="",V4=(t,e,n,r,i,s,a,l)=>{var u=t.slice(0,e),d=VG({breakAll:n,style:r,children:u+prt});if(!d)return[!1,[]];var h=UG(d.wordsWithComputedWidth,s,a,l),p=h.length>i||zG(h).width>Number(s);return[p,h]},grt=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:u}=t,d=Ke(s),h=String(a),p=UG(e,r,n,i);if(!d||i)return p;var _=p.length>s||zG(p).width>Number(r);if(!_)return p;for(var v=0,S=h.length-1,E=0,A;v<=S&&E<=h.length-1;){var I=Math.floor((v+S)/2),j=I-1,[M,B]=V4(h,j,u,l,s,r,n,i),[V]=V4(h,I,u,l,s,r,n,i);if(!M&&!V&&(v=I+1),M&&V&&(S=I-1),!M&&V){A=B;break}E++}return A||p},U4=t=>{var e=wr(t)?[]:t.toString().split($G);return[{words:e,width:void 0}]},_rt=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Ff.isSsr){var l,u,d=VG({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return U4(r);return grt({breakAll:s,children:r,maxLines:a,style:i},l,u,e,!!n)}return U4(r)},BG="#808080",yrt={angle:0,breakAll:!1,capHeight:"0.71em",fill:BG,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},pC=k.forwardRef((t,e)=>{var n=oi(t,yrt),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=$4(n,drt),_=k.useMemo(()=>_rt({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:S,angle:E,className:A,breakAll:I}=p,j=$4(p,frt);if(!ja(r)||!ja(i)||_.length===0)return null;var M=Number(r)+(Ke(v)?v:0),B=Number(i)+(Ke(S)?S:0);if(!Gn(M)||!Gn(B))return null;var V;switch(h){case"start":V=OT("calc(".concat(a,")"));break;case"middle":V=OT("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:V=OT("calc(".concat(_.length-1," * -").concat(s,")"));break}var N=[];if(u){var P=_[0].width,{width:O}=p;N.push("scale(".concat(Ke(O)&&Ke(P)?O/P:1,")"))}return E&&N.push("rotate(".concat(E,", ").concat(M,", ").concat(B,")")),N.length&&(j.transform=N.join(" ")),k.createElement("text",q1({},Es(j),{ref:e,x:M,y:B,className:fn("recharts-text",A),textAnchor:d,fill:l.includes("url")?BG:l}),_.map((D,z)=>{var $=D.words.join(I?"":" ");return k.createElement("tspan",{x:M,dy:z===0?V:s,key:"".concat($,"-").concat(z)},$)}))});pC.displayName="Text";var vrt=["labelRef"];function brt(t,e){if(t==null)return{};var n,r,i=xrt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xrt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){wrt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wrt(t,e,n){return(e=Srt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Srt(t){var e=Trt(t,"string");return typeof e=="symbol"?e:e+""}function Trt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(null,arguments)}var FG=k.createContext(null),Ert=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,u=k.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return k.createElement(FG.Provider,{value:u},l)},qG=()=>{var t=k.useContext(FG),e=dx();return t||s6(e)},Art=k.createContext(null),krt=()=>{var t=k.useContext(Art),e=We(xq);return t||e},Irt=t=>{var{value:e,formatter:n}=t,r=wr(t.children)?e:t.children;return typeof n=="function"?n(r):r},gC=t=>t!=null&&typeof t=="function",Crt=(t,e)=>{var n=Ti(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Nrt=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:_,clockWise:v}=i,S=(d+h)/2,E=Crt(p,_),A=E>=0?1:-1,I,j;switch(e){case"insideStart":I=p+A*s,j=v;break;case"insideEnd":I=_-A*s,j=!v;break;case"end":I=_+A*s,j=v;break;default:throw new Error("Unsupported position ".concat(e))}j=E<=0?j:!j;var M=Or(l,u,S,I),B=Or(l,u,S,I+(j?1:-1)*359),V="M".concat(M.x,",").concat(M.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(j?0:1,`,
    `).concat(B.x,",").concat(B.y),N=wr(t.id)?gp("recharts-radial-line-"):t.id;return k.createElement("text",ao({},r,{dominantBaseline:"central",className:fn("recharts-radial-bar-label",a)}),k.createElement("defs",null,k.createElement("path",{id:N,d:V})),k.createElement("textPath",{xlinkHref:"#".concat(N)},n))},Prt=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=Or(r,i,a+e,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(s+a)/2,{x:v,y:S}=Or(r,i,_,d);return{x:v,y:S,textAnchor:"middle",verticalAnchor:"middle"}},G1=t=>"cx"in t&&Ke(t.cx),Rrt=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!G1(n)&&(s=n);var{x:a,y:l,upperWidth:u,lowerWidth:d,height:h}=e,p=a,_=a+(u-d)/2,v=(p+_)/2,S=(u+d)/2,E=p+u/2,A=h>=0?1:-1,I=A*r,j=A>0?"end":"start",M=A>0?"start":"end",B=u>=0?1:-1,V=B*r,N=B>0?"end":"start",P=B>0?"start":"end";if(i==="top"){var O={x:p+u/2,y:l-I,textAnchor:"middle",verticalAnchor:j};return Bn(Bn({},O),s?{height:Math.max(l-s.y,0),width:u}:{})}if(i==="bottom"){var D={x:_+d/2,y:l+h+I,textAnchor:"middle",verticalAnchor:M};return Bn(Bn({},D),s?{height:Math.max(s.y+s.height-(l+h),0),width:d}:{})}if(i==="left"){var z={x:v-V,y:l+h/2,textAnchor:N,verticalAnchor:"middle"};return Bn(Bn({},z),s?{width:Math.max(z.x-s.x,0),height:h}:{})}if(i==="right"){var $={x:v+S+V,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return Bn(Bn({},$),s?{width:Math.max(s.x+s.width-$.x,0),height:h}:{})}var U=s?{width:S,height:h}:{};return i==="insideLeft"?Bn({x:v+V,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},U):i==="insideRight"?Bn({x:v+S-V,y:l+h/2,textAnchor:N,verticalAnchor:"middle"},U):i==="insideTop"?Bn({x:p+u/2,y:l+I,textAnchor:"middle",verticalAnchor:M},U):i==="insideBottom"?Bn({x:_+d/2,y:l+h-I,textAnchor:"middle",verticalAnchor:j},U):i==="insideTopLeft"?Bn({x:p+V,y:l+I,textAnchor:P,verticalAnchor:M},U):i==="insideTopRight"?Bn({x:p+u-V,y:l+I,textAnchor:N,verticalAnchor:M},U):i==="insideBottomLeft"?Bn({x:_+V,y:l+h-I,textAnchor:P,verticalAnchor:j},U):i==="insideBottomRight"?Bn({x:_+d-V,y:l+h-I,textAnchor:N,verticalAnchor:j},U):i&&typeof i=="object"&&(Ke(i.x)||To(i.x))&&(Ke(i.y)||To(i.y))?Bn({x:a+Ys(i.x,S),y:l+Ys(i.y,h),textAnchor:"end",verticalAnchor:"end"},U):Bn({x:E,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Mrt={angle:0,offset:5,zIndex:ri.label,position:"middle",textBreakAll:!1};function Il(t){var e=oi(t,Mrt),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:u,labelRef:d}=e,h=krt(),p=qG(),_=r==="center"?p:h??p,v,S,E;if(n==null?v=_:G1(n)?v=n:v=s6(n),!v||wr(i)&&wr(s)&&!k.isValidElement(a)&&typeof a!="function")return null;var A=Bn(Bn({},e),{},{viewBox:v});if(k.isValidElement(a)){var{labelRef:I}=A,j=brt(A,vrt);return k.cloneElement(a,j)}if(typeof a=="function"){if(S=k.createElement(a,A),k.isValidElement(S))return S}else S=Irt(e);var M=Es(e);if(G1(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Nrt(e,r,S,M,v);E=Prt(v,e.offset,e.position)}else E=Rrt(e,v);return k.createElement(Bo,{zIndex:e.zIndex},k.createElement(pC,ao({ref:d,className:fn("recharts-label",l)},M,E,{textAnchor:mrt(M.textAnchor)?M.textAnchor:E.textAnchor,breakAll:u}),S))}Il.displayName="Label";var Drt=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?k.createElement(Il,ao({key:"label-implicit"},r)):ja(t)?k.createElement(Il,ao({key:"label-implicit",value:t},r)):k.isValidElement(t)?t.type===Il?k.cloneElement(t,Bn({key:"label-implicit"},r)):k.createElement(Il,ao({key:"label-implicit",content:t},r)):gC(t)?k.createElement(Il,ao({key:"label-implicit",content:t},r)):t&&typeof t=="object"?k.createElement(Il,ao({},t,{key:"label-implicit"},r)):null};function jrt(t){var{label:e,labelRef:n}=t,r=qG();return Drt(e,r,n)||null}var LT={},$T={},B4;function Ort(){return B4||(B4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})($T)),$T}var VT={},F4;function Lrt(){return F4||(F4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(VT)),VT}var q4;function $rt(){return q4||(q4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ort(),n=Lrt(),r=tI();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(LT)),LT}var UT,G4;function Vrt(){return G4||(G4=1,UT=$rt().last),UT}var Urt=Vrt();const zrt=Is(Urt);var Brt=["valueAccessor"],Frt=["dataKey","clockWise","id","textBreakAll","zIndex"];function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(null,arguments)}function H4(t,e){if(t==null)return{};var n,r,i=qrt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qrt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Grt=t=>Array.isArray(t.value)?zrt(t.value):t.value,GG=k.createContext(void 0),Hrt=GG.Provider,HG=k.createContext(void 0);HG.Provider;function Krt(){return k.useContext(GG)}function Wrt(){return k.useContext(HG)}function Uy(t){var{valueAccessor:e=Grt}=t,n=H4(t,Brt),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,u=H4(n,Frt),d=Krt(),h=Wrt(),p=d||h;return!p||!p.length?null:k.createElement(Bo,{zIndex:l??ri.label},k.createElement(So,{className:"recharts-label-list"},p.map((_,v)=>{var S,E=wr(r)?e(_,v):Wr(_&&_.payload,r),A=wr(s)?{}:{id:"".concat(s,"-").concat(v)};return k.createElement(Il,rb({key:"label-".concat(v)},Es(_),u,A,{fill:(S=n.fill)!==null&&S!==void 0?S:_.fill,parentViewBox:_.parentViewBox,value:E,textBreakAll:a,viewBox:_.viewBox,index:v,zIndex:0}))})))}Uy.displayName="LabelList";function Yrt(t){var{label:e}=t;return e?e===!0?k.createElement(Uy,{key:"labelList-implicit"}):k.isValidElement(e)||gC(e)?k.createElement(Uy,{key:"labelList-implicit",content:e}):typeof e=="object"?k.createElement(Uy,rb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Jrt={radiusAxis:{},angleAxis:{}},KG=Ci({name:"polarAxis",initialState:Jrt,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:_ct,removeRadiusAxis:yct,addAngleAxis:vct,removeAngleAxis:bct}=KG.actions,Xrt=KG.reducer,zT={exports:{}},nn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K4;function Qrt(){if(K4)return nn;K4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case u:case d:case _:return E;default:switch(E=E&&E.$$typeof,E){case a:case l:case p:case h:return E;case s:return E;default:return A}}case e:return A}}}return nn.ContextConsumer=s,nn.ContextProvider=a,nn.Element=t,nn.ForwardRef=l,nn.Fragment=n,nn.Lazy=p,nn.Memo=h,nn.Portal=e,nn.Profiler=i,nn.StrictMode=r,nn.Suspense=u,nn.SuspenseList=d,nn.isContextConsumer=function(E){return S(E)===s},nn.isContextProvider=function(E){return S(E)===a},nn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},nn.isForwardRef=function(E){return S(E)===l},nn.isFragment=function(E){return S(E)===n},nn.isLazy=function(E){return S(E)===p},nn.isMemo=function(E){return S(E)===h},nn.isPortal=function(E){return S(E)===e},nn.isProfiler=function(E){return S(E)===i},nn.isStrictMode=function(E){return S(E)===r},nn.isSuspense=function(E){return S(E)===u},nn.isSuspenseList=function(E){return S(E)===d},nn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===u||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===h||E.$$typeof===a||E.$$typeof===s||E.$$typeof===l||E.$$typeof===v||E.getModuleId!==void 0)},nn.typeOf=S,nn}var W4;function Zrt(){return W4||(W4=1,zT.exports=Qrt()),zT.exports}var eit=Zrt(),Y4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",J4=null,BT=null,WG=t=>{if(t===J4&&Array.isArray(BT))return BT;var e=[];return k.Children.forEach(t,n=>{wr(n)||(eit.isFragment(n)?e=e.concat(WG(n.props.children)):e.push(n))}),BT=e,J4=t,e};function tit(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Y4(i)):r=[Y4(e)],WG(t).forEach(i=>{var s=xf(i,"type.displayName")||xf(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var FT={},X4;function nit(){return X4||(X4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(FT)),FT}var qT,Q4;function rit(){return Q4||(Q4=1,qT=nit().isPlainObject),qT}var iit=rit();const sit=Is(iit);function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){ait(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ait(t,e,n){return(e=oit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oit(t){var e=lit(t,"string");return typeof e=="symbol"?e:e+""}function lit(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}var tV=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},cit={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uit=t=>{var e=oi(t,cit),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:h,isUpdateAnimationActive:p}=e,_=k.useRef(null),[v,S]=k.useState(-1),E=k.useRef(i),A=k.useRef(s),I=k.useRef(a),j=k.useRef(n),M=k.useRef(r),B=mI(t,"trapezoid-");if(k.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var te=_.current.getTotalLength();te&&S(te)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var V=fn("recharts-trapezoid",l);if(!p)return k.createElement("g",null,k.createElement("path",ib({},Es(e),{className:V,d:tV(n,r,i,s,a)})));var N=E.current,P=A.current,O=I.current,D=j.current,z=M.current,$="0px ".concat(v===-1?1:v,"px"),U="".concat(v,"px 0px"),q=u6(["strokeDasharray"],d,u);return k.createElement(hI,{animationId:B,key:B,canBegin:v>0,duration:d,easing:u,isActive:p,begin:h},te=>{var ee=jr(N,i,te),Y=jr(P,s,te),X=jr(O,a,te),fe=jr(D,n,te),be=jr(z,r,te);_.current&&(E.current=ee,A.current=Y,I.current=X,j.current=fe,M.current=be);var F=te>0?{transition:q,strokeDasharray:U}:{strokeDasharray:$};return k.createElement("path",ib({},Es(e),{className:V,d:tV(fe,be,ee,Y,X),ref:_,style:eV(eV({},F),e.style)}))})},dit=["option","shapeType","propTransformer","activeClassName"];function fit(t,e){if(t==null)return{};var n,r,i=hit(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hit(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(n),!0).forEach(function(r){mit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mit(t,e,n){return(e=pit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pit(t){var e=git(t,"string");return typeof e=="symbol"?e:e+""}function git(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _it(t,e){return sb(sb({},e),t)}function yit(t,e){return t==="symbols"}function rV(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return k.createElement(m6,n);case"trapezoid":return k.createElement(uit,n);case"sector":return k.createElement(_6,n);case"symbols":if(yit(e))return k.createElement(eI,n);break;case"curve":return k.createElement(c6,n);default:return null}}function vit(t){return k.isValidElement(t)?t.props:t}function bit(t){var{option:e,shapeType:n,propTransformer:r=_it,activeClassName:i="recharts-active-shape"}=t,s=fit(t,dit),a;if(k.isValidElement(e))a=k.cloneElement(e,sb(sb({},s),vit(e)));else if(typeof e=="function")a=e(s);else if(sit(e)&&typeof e!="boolean"){var l=r(e,s);a=k.createElement(rV,{shapeType:n,elementProps:l})}else{var u=s;a=k.createElement(rV,{shapeType:n,elementProps:u})}return s.isActive?k.createElement(So,{className:i},a):a}var YG=(t,e)=>{var n=Cn();return(r,i)=>s=>{t==null||t(r,i,s),n(uG({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},JG=t=>{var e=Cn();return(n,r)=>i=>{t==null||t(n,r,i),e(Fet())}},XG=(t,e)=>{var n=Cn();return(r,i)=>s=>{t==null||t(r,i,s),n(qet({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function xit(t){var{tooltipEntrySettings:e}=t,n=Cn(),r=Ni(),i=k.useRef(null);return k.useLayoutEffect(()=>{r||(i.current===null?n(Vet(e)):i.current!==e&&n(Uet({prev:i.current,next:e})),i.current=e)},[e,n,r]),k.useLayoutEffect(()=>()=>{i.current&&(n(zet(i.current)),i.current=null)},[n]),null}function wit(t){var{legendPayload:e}=t,n=Cn(),r=Ni(),i=k.useRef(null);return k.useLayoutEffect(()=>{r||(i.current===null?n(sYe(e)):i.current!==e&&n(aYe({prev:i.current,next:e})),i.current=e)},[n,r,e]),k.useLayoutEffect(()=>()=>{i.current&&(n(oYe(i.current)),i.current=null)},[n]),null}var GT,Sit=()=>{var[t]=k.useState(()=>gp("uid-"));return t},Tit=(GT=uH.useId)!==null&&GT!==void 0?GT:Sit;function QG(t,e){var n=Tit();return e||(t?"".concat(t,"-").concat(n):n)}var Eit=k.createContext(void 0),Ait=t=>{var{id:e,type:n,children:r}=t,i=QG("recharts-".concat(n),e);return k.createElement(Eit.Provider,{value:i},r(i))},kit={cartesianItems:[],polarItems:[]},ZG=Ci({name:"graphicalItems",initialState:kit,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Tn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Hs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Tn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Hs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Tn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Tn()},removePolarGraphicalItem:{reducer(t,e){var n=Hs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Tn()}}}),{addCartesianGraphicalItem:Iit,replaceCartesianGraphicalItem:Cit,removeCartesianGraphicalItem:Nit,addPolarGraphicalItem:xct,removePolarGraphicalItem:wct}=ZG.actions,Pit=ZG.reducer,Rit=t=>{var e=Cn(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?e(Iit(t)):n.current!==t&&e(Cit({prev:n.current,next:t})),n.current=t},[e,t]),k.useLayoutEffect(()=>()=>{n.current&&(e(Nit(n.current)),n.current=null)},[e]),null},Mit=k.memo(Rit);function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(r){Dit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dit(t,e,n){return(e=jit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jit(t){var e=Oit(t,"string");return typeof e=="symbol"?e:e+""}function Oit(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lit={xAxis:{},yAxis:{},zAxis:{}},e9=Ci({name:"cartesianAxis",initialState:Lit,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Tn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Tn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Tn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Tn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Tn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Tn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Tn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Tn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Tn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=sV(sV({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:$it,replaceXAxis:Vit,removeXAxis:Uit,addYAxis:zit,replaceYAxis:Bit,removeYAxis:Fit,addZAxis:Sct,replaceZAxis:Tct,removeZAxis:Ect,updateYAxisWidth:qit}=e9.actions,Git=e9.reducer,Hit=pe([Sr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Kit=pe([Hit,Oo,Lo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),t9=()=>We(Kit),Wit="Invariant failed";function Yit(t,e){throw new Error(Wit)}var Jit=["x","y"];function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(null,arguments)}function aV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(n),!0).forEach(function(r){Xit(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xit(t,e,n){return(e=Qit(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qit(t){var e=Zit(t,"string");return typeof e=="symbol"?e:e+""}function Zit(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function est(t,e){if(t==null)return{};var n,r,i=tst(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nst(t,e){var{x:n,y:r}=t,i=est(t,Jit),s="".concat(n),a=parseInt(s,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),h=parseInt(d,10),p="".concat(e.width||i.width),_=parseInt(p,10);return vm(vm(vm(vm(vm({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:h,width:_,name:e.name,radius:e.radius})}function ab(t){return k.createElement(bit,H1({shapeType:"rectangle",propTransformer:nst,activeClassName:"recharts-active-bar"},t))}var rst=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ke(e))return e;var s=Ke(r)||wr(r);return s?e(r,i):(s||Yit(),n)}},ist={},n9=Ci({name:"errorBars",initialState:ist,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Act,replaceErrorBar:kct,removeErrorBar:Ict}=n9.actions,sst=n9.reducer,ast=["children"];function ost(t,e){if(t==null)return{};var n,r,i=lst(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cst={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ust=k.createContext(cst);function dst(t){var{children:e}=t,n=ost(t,ast);return k.createElement(ust.Provider,{value:n},e)}function r9(t,e){var n,r,i=We(d=>Vo(d,t)),s=We(d=>Uo(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:yr.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:vr.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function fst(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=t9(),{needClipX:s,needClipY:a,needClip:l}=r9(e,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return k.createElement("clipPath",{id:"clipPath-".concat(r)},k.createElement("rect",{x:s?u:u-h/2,y:a?d:d-p/2,width:s?h:h*2,height:a?p:p*2}))}function hst(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Gn(t.zIndex)?t.zIndex:e}var HT={exports:{}},KT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oV;function mst(){if(oV)return KT;oV=1;var t=Cf();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return KT.useSyncExternalStoreWithSelector=function(u,d,h,p,_){var v=i(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=a(function(){function A(V){if(!I){if(I=!0,j=V,V=p(V),_!==void 0&&S.hasValue){var N=S.value;if(_(N,V))return M=N}return M=V}if(N=M,n(j,V))return N;var P=p(V);return _!==void 0&&_(N,P)?(j=V,N):(j=V,M=P)}var I=!1,j,M,B=h===void 0?null:h;return[function(){return A(d())},B===null?void 0:function(){return A(B())}]},[d,h,p,_]);var E=r(u,v[0],v[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),l(E),E},KT}var lV;function pst(){return lV||(lV=1,HT.exports=mst()),HT.exports}pst();function gst(t){t()}function _st(){let t=null,e=null;return{clear(){t=null,e=null},notify(){gst(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var cV={notify(){},get:()=>[]};function yst(t,e){let n,r=cV,i=0,s=!1;function a(E){h();const A=r.subscribe(E);let I=!1;return()=>{I||(I=!0,A(),p())}}function l(){r.notify()}function u(){S.onStateChange&&S.onStateChange()}function d(){return s}function h(){i++,n||(n=t.subscribe(u),r=_st())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cV)}function _(){s||(s=!0,h())}function v(){s&&(s=!1,p())}const S={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:_,tryUnsubscribe:v,getListeners:()=>r};return S}var vst=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bst=vst(),xst=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wst=xst(),Sst=()=>bst||wst?k.useLayoutEffect:k.useEffect,Tst=Sst();function uV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Est(t,e){if(uV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!uV(t[n[i]],e[n[i]]))return!1;return!0}var WT=Symbol.for("react-redux-context"),YT=typeof globalThis<"u"?globalThis:{};function Ast(){if(!k.createContext)return{};const t=YT[WT]??(YT[WT]=new Map);let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var kst=Ast();function Ist(t){const{children:e,context:n,serverState:r,store:i}=t,s=k.useMemo(()=>{const u=yst(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=k.useMemo(()=>i.getState(),[i]);Tst(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=n||kst;return k.createElement(l.Provider,{value:s},e)}var Cst=Ist,Nst=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Pst(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function _C(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Nst.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Est(t[r],e[r]))return!1}else if(!Pst(t[r],e[r]))return!1;return!0}var Rst=["onMouseEnter","onMouseLeave","onClick"],Mst=["value","background","tooltipPosition"],Dst=["id"],jst=["onMouseEnter","onClick","onMouseLeave"];function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(null,arguments)}function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){Ost(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ost(t,e,n){return(e=Lst(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lst(t){var e=$st(t,"string");return typeof e=="symbol"?e:e+""}function $st(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ob(t,e){if(t==null)return{};var n,r,i=Vst(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vst(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ust=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:e6(n,e),payload:t}]},zst=k.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l,tooltipType:u}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:e6(s,e),hide:a,type:u,color:i,unit:l}};return k.createElement(xit,{tooltipEntrySettings:d})});function Bst(t){var e=We(If),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=s,d=ob(s,Rst),h=YG(a,r),p=JG(l),_=XG(u,r);if(!i||n==null)return null;var v=Gk(i);return k.createElement(Bo,{zIndex:hst(i,ri.barBackground)},n.map((S,E)=>{var{value:A,background:I,tooltipPosition:j}=S,M=ob(S,Mst);if(!I)return null;var B=h(S,E),V=p(S,E),N=_(S,E),P=ti(ti(ti(ti(ti({option:i,isActive:String(E)===e},M),{},{fill:"#eee"},I),v),ex(d,S,E)),{},{onMouseEnter:B,onMouseLeave:V,onClick:N,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return k.createElement(ab,No({key:"background-bar-".concat(E)},P))}))}function Fst(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ti(ti({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return k.createElement(Hrt,{value:e?i:void 0},n)}function qst(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,l=We(If),u=We(TG),d=n&&String(s)===l&&(u==null||a===u),h=d?n:e;return d?k.createElement(Bo,{zIndex:ri.activeBar},k.createElement(ab,No({},r,{name:String(r.name)},i,{isActive:d,option:h,index:s,dataKey:a}))):k.createElement(ab,No({},r,{name:String(r.name)},i,{isActive:d,option:h,index:s,dataKey:a}))}function Gst(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return k.createElement(ab,No({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Hst(t){var e,{data:n,props:r}=t,i=(e=wo(r))!==null&&e!==void 0?e:{},{id:s}=i,a=ob(i,Dst),{shape:l,dataKey:u,activeBar:d}=r,{onMouseEnter:h,onClick:p,onMouseLeave:_}=r,v=ob(r,jst),S=YG(h,u),E=JG(_),A=XG(p,u);return n?k.createElement(k.Fragment,null,n.map((I,j)=>k.createElement(So,No({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(j),className:"recharts-bar-rectangle"},ex(v,I,j),{onMouseEnter:S(I,j),onMouseLeave:E(I,j),onClick:A(I,j)}),d?k.createElement(qst,{shape:l,activeBar:d,baseProps:a,entry:I,index:j,dataKey:u}):k.createElement(Gst,{shape:l,baseProps:a,entry:I,index:j,dataKey:u})))):null}function Kst(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=e,p=n.current,_=mI(e,"recharts-bar-"),[v,S]=k.useState(!1),E=!v,A=k.useCallback(()=>{typeof d=="function"&&d(),S(!1)},[d]),I=k.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return k.createElement(Fst,{showLabels:E,rects:r},k.createElement(hI,{animationId:_,begin:a,duration:l,isActive:s,easing:u,onAnimationEnd:A,onAnimationStart:I,key:_},j=>{var M=j===1?r:r==null?void 0:r.map((B,V)=>{var N=p&&p[V];if(N)return ti(ti({},B),{},{x:jr(N.x,B.x,j),y:jr(N.y,B.y,j),width:jr(N.width,B.width,j),height:jr(N.height,B.height,j)});if(i==="horizontal"){var P=jr(0,B.height,j),O=jr(B.stackedBarStart,B.y,j);return ti(ti({},B),{},{y:O,height:P})}var D=jr(0,B.width,j),z=jr(B.stackedBarStart,B.x,j);return ti(ti({},B),{},{width:D,x:z})});return j>0&&(n.current=M??null),M==null?null:k.createElement(So,null,k.createElement(Hst,{props:e,data:M}))}),k.createElement(Yrt,{label:e.label}),e.children)}function Wst(t){var e=k.useRef(null);return k.createElement(Kst,{previousRectanglesRef:e,props:t})}var i9=0,Yst=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Wr(t,e)}};class Jst extends k.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:u,id:d}=this.props;if(e||n==null)return null;var h=fn("recharts-bar",i),p=d;return k.createElement(So,{className:h,id:d},l&&k.createElement("defs",null,k.createElement(fst,{clipPathId:p,xAxisId:s,yAxisId:a})),k.createElement(So,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},k.createElement(Bst,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),k.createElement(Wst,this.props)))}}var Xst={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:i9,xAxisId:0,yAxisId:0,zIndex:ri.bar};function Qst(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:h}=t,{needClip:p}=r9(e,n),_=fx(),v=Ni(),S=tit(t.children,DG),E=We(j=>Aat(j,e,n,v,t.id,S));if(_!=="vertical"&&_!=="horizontal")return null;var A,I=E==null?void 0:E[0];return I==null||I.height==null||I.width==null?A=0:A=_==="vertical"?I.height/2:I.width/2,k.createElement(dst,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Yst,errorBarOffset:A},k.createElement(Jst,No({},t,{layout:_,needClip:p,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function Zst(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:h,displayedData:p,offset:_,cells:v,parentViewBox:S,dataStartIndex:E}=t,A=e==="horizontal"?l:a,I=h?A.scale.domain():null,j=yWe({numericAxis:A}),M=A.scale(j);return p.map((B,V)=>{var N,P,O,D,z,$;h?N=fWe(h[V+E],I):(N=Wr(B,n),Array.isArray(N)||(N=[j,N]));var U=rst(r,i9)(N[1],V);if(e==="horizontal"){var q,[te,ee]=[l.scale(N[0]),l.scale(N[1])];P=UL({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:B,index:V}),O=(q=ee??te)!==null&&q!==void 0?q:void 0,D=i.size;var Y=te-ee;if(z=Ws(Y)?0:Y,$={x:P,y:_.top,width:D,height:_.height},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var X=Ti(z||U)*(Math.abs(U)-Math.abs(z));O-=X,z+=X}}else{var[fe,be]=[a.scale(N[0]),a.scale(N[1])];if(P=fe,O=UL({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:B,index:V}),D=be-fe,z=i.size,$={x:_.left,y:O,width:_.width,height:z},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var F=Ti(D||U)*(Math.abs(U)-Math.abs(D));D+=F}}if(P==null||O==null||D==null||z==null)return null;var K=ti(ti({},B),{},{stackedBarStart:M,x:P,y:O,width:D,height:z,value:h?N:N[1],payload:B,background:$,tooltipPosition:{x:P+D/2,y:O+z/2},parentViewBox:S},v&&v[V]&&v[V].props);return K}).filter(Boolean)}function eat(t){var e=oi(t,Xst),n=Ni();return k.createElement(Ait,{id:e.id,type:"bar"},r=>k.createElement(k.Fragment,null,k.createElement(wit,{legendPayload:Ust(e)}),k.createElement(zst,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),k.createElement(Mit,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:_We(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),k.createElement(Bo,{zIndex:e.zIndex},k.createElement(Qst,No({},e,{id:r})))))}var Rx=k.memo(eat,_C);Rx.displayName="Bar";function fV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function my(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(n),!0).forEach(function(r){tat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tat(t,e,n){return(e=nat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nat(t){var e=rat(t,"string");return typeof e=="symbol"?e:e+""}function rat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iat=(t,e)=>e,sat=(t,e,n)=>n,aat=(t,e,n,r)=>r,oat=(t,e,n,r,i)=>i,_g=pe([YI,oat],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),lat=pe([_g],t=>t==null?void 0:t.maxBarSize),cat=(t,e,n,r,i,s)=>s,hV=(t,e,n)=>{var r=n??t;if(!wr(r))return Ys(r,e,0)},uat=pe([Xt,YI,iat,sat,aat],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),dat=(t,e,n,r)=>{var i=Xt(t);return i==="horizontal"?V1(t,"yAxis",n,r):V1(t,"xAxis",e,r)},fat=(t,e,n)=>{var r=Xt(t);return r==="horizontal"?h4(t,"xAxis",e):h4(t,"yAxis",n)},hat=(t,e,n)=>{var r={},i=t.filter(Ex),s=t.filter(d=>d.stackId==null),a=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),l=Object.entries(a).map(d=>{var[h,p]=d,_=p.map(S=>S.dataKey),v=hV(e,n,p[0].barSize);return{stackId:h,dataKeys:_,barSize:v}}),u=s.map(d=>{var h=[d.dataKey].filter(_=>_!=null),p=hV(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...l,...u]},mat=pe([uat,NZe,fat],hat),pat=(t,e,n,r,i)=>{var s,a,l=_g(t,e,n,r,i);if(l!=null){var u=Xt(t),d=hq(t),{maxBarSize:h}=l,p=wr(h)?d:h,_,v;return u==="horizontal"?(_=kf(t,"xAxis",e,r),v=Af(t,"xAxis",e,r)):(_=kf(t,"yAxis",n,r),v=Af(t,"yAxis",n,r)),(s=(a=Lv(_,v,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},s9=(t,e,n,r)=>{var i=Xt(t),s,a;return i==="horizontal"?(s=kf(t,"xAxis",e,r),a=Af(t,"xAxis",e,r)):(s=kf(t,"yAxis",n,r),a=Af(t,"yAxis",n,r)),Lv(s,a)};function gat(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=Ys(t,n,0,!0),l,u=[];if(Gn(r[0].barSize)){var d=!1,h=n/s,p=r.reduce((I,j)=>I+(j.barSize||0),0);p+=(s-1)*a,p>=n&&(p-=(s-1)*a,a=0),p>=n&&h>0&&(d=!0,h*=.9,p=s*h);var _=(n-p)/2>>0,v={offset:_-a,size:0};l=r.reduce((I,j)=>{var M,B={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:v.offset+v.size+a,size:d?h:(M=j.barSize)!==null&&M!==void 0?M:0}},V=[...I,B];return v=V[V.length-1].position,V},u)}else{var S=Ys(e,n,0,!0);n-2*S-(s-1)*a<=0&&(a=0);var E=(n-2*S-(s-1)*a)/s;E>1&&(E>>=0);var A=Gn(i)?Math.min(E,i):E;l=r.reduce((I,j,M)=>[...I,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:S+(E+a)*M+(E-A)/2,size:A}}],u)}return l}}var _at=(t,e,n,r,i,s,a)=>{var l=wr(a)?e:a,u=gat(n,r,i!==s?i:s,t,l);return i!==s&&u!=null&&(u=u.map(d=>my(my({},d),{},{position:my(my({},d.position),{},{offset:d.position.offset-i/2})}))),u},yat=pe([mat,hq,CZe,mq,pat,s9,lat],_at),vat=(t,e,n,r)=>kf(t,"xAxis",e,r),bat=(t,e,n,r)=>kf(t,"yAxis",n,r),xat=(t,e,n,r)=>Af(t,"xAxis",e,r),wat=(t,e,n,r)=>Af(t,"yAxis",n,r),Sat=pe([yat,_g],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Tat=(t,e)=>{var n=KI(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},Eat=pe([dat,_g],Tat),Aat=pe([Sr,lI,vat,bat,xat,wat,Sat,Xt,$I,s9,Eat,_g,cat],(t,e,n,r,i,s,a,l,u,d,h,p,_)=>{var{chartData:v,dataStartIndex:S,dataEndIndex:E}=u;if(!(p==null||a==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||d==null)){var{data:A}=p,I;if(A!=null&&A.length>0?I=A:I=v==null?void 0:v.slice(S,E+1),I!=null)return Zst({layout:l,barSettings:p,pos:a,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:h,displayedData:I,offset:t,cells:_,dataStartIndex:S})}}),kat=t=>{var{chartData:e}=t,n=Cn(),r=Ni();return k.useEffect(()=>r?()=>{}:(n(A4(e)),()=>{n(A4(void 0))}),[e,n,r]),null},mV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},a9=Ci({name:"brush",initialState:mV,reducers:{setBrushSettings(t,e){return e.payload==null?mV:e.payload}}}),{setBrushSettings:Cct}=a9.actions,Iat=a9.reducer;function Cat(t,e,n){return(e=Nat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nat(t){var e=Pat(t,"string");return typeof e=="symbol"?e:e+""}function Pat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yC{static create(e){return new yC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Cat(yC,"EPS",1e-4);function Rat(t){return(t%180+180)%180}var Mat=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Rat(i),a=s*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},Dat={dots:[],areas:[],lines:[]},o9=Ci({name:"referenceElements",initialState:Dat,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Hs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Hs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Hs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Nct,removeDot:Pct,addArea:Rct,removeArea:Mct,addLine:Dct,removeLine:jct}=o9.actions,jat=o9.reducer,Oat=k.createContext(void 0),Lat=t=>{var{children:e}=t,[n]=k.useState("".concat(gp("recharts"),"-clip")),r=t9();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return k.createElement(Oat.Provider,{value:n},k.createElement("defs",null,k.createElement("clipPath",{id:n},k.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function l9(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function $at(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Mat(r,n)}function Vat(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function lb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Uat(t,e){return l9(t,e+1)}function zat(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,u=0,d=1,h=a,p=function(){var S=r==null?void 0:r[u];if(S===void 0)return{v:l9(r,d)};var E=u,A,I=()=>(A===void 0&&(A=n(S,E)),A),j=S.coordinate,M=u===0||lb(t,j,I,h,l);M||(u=0,h=a,d+=1),M&&(h=j+t*(I()/2+i),u+=d)},_;d<=s.length;)if(_=p(),_)return _.v;return[]}function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){Bat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bat(t,e,n){return(e=Fat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fat(t){var e=qat(t,"string");return typeof e=="symbol"?e:e+""}function qat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gat(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:u}=e,d=function(_){var v=s[_],S,E=()=>(S===void 0&&(S=n(v,_)),S);if(_===a-1){var A=t*(v.coordinate+t*E()/2-u);s[_]=v=zr(zr({},v),{},{tickCoord:A>0?v.coordinate-A*t:v.coordinate})}else s[_]=v=zr(zr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var I=lb(t,v.tickCoord,E,l,u);I&&(u=v.tickCoord-t*(E()/2+i),s[_]=zr(zr({},v),{},{isShow:!0}))}},h=a-1;h>=0;h--)d(h);return s}function Hat(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:u,end:d}=e;if(s){var h=r[l-1],p=n(h,l-1),_=t*(h.coordinate+t*p/2-d);if(a[l-1]=h=zr(zr({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate}),h.tickCoord!=null){var v=lb(t,h.tickCoord,()=>p,u,d);v&&(d=h.tickCoord-t*(p/2+i),a[l-1]=zr(zr({},h),{},{isShow:!0}))}}for(var S=s?l-1:l,E=function(j){var M=a[j],B,V=()=>(B===void 0&&(B=n(M,j)),B);if(j===0){var N=t*(M.coordinate-t*V()/2-u);a[j]=M=zr(zr({},M),{},{tickCoord:N<0?M.coordinate-N*t:M.coordinate})}else a[j]=M=zr(zr({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var P=lb(t,M.tickCoord,V,u,d);P&&(u=M.tickCoord+t*(V()/2+i),a[j]=zr(zr({},M),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return a}function vC(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Ke(u)||Ff.isSsr){var _;return(_=Uat(i,Ke(u)?u:0))!==null&&_!==void 0?_:[]}var v=[],S=l==="top"||l==="bottom"?"width":"height",E=h&&S==="width"?Hm(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(M,B)=>{var V=typeof d=="function"?d(M.value,B):M.value;return S==="width"?$at(Hm(V,{fontSize:e,letterSpacing:n}),E,p):Hm(V,{fontSize:e,letterSpacing:n})[S]},I=i.length>=2?Ti(i[1].coordinate-i[0].coordinate):1,j=Vat(s,I,S);return u==="equidistantPreserveStart"?zat(I,j,A,i,a):(u==="preserveStart"||u==="preserveStartEnd"?v=Hat(I,j,A,i,a,u==="preserveStartEnd"):v=Gat(I,j,A,i,a),v.filter(M=>M.isShow))}var Kat=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+s,d=a+u+l+(n?r:0);return Math.round(d)}return 0},Wat=["axisLine","width","height","className","hide","ticks","axisType"];function Yat(t,e){if(t==null)return{};var n,r,i=Jat(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jat(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wu.apply(null,arguments)}function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){Xat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xat(t,e,n){return(e=Qat(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qat(t){var e=Zat(t,"string");return typeof e=="symbol"?e:e+""}function Zat(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var po={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ri.axis};function eot(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=tr(tr(tr({},u),wo(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!a||s==="bottom"&&a);d=tr(tr({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);d=tr(tr({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return k.createElement("line",wu({},d,{className:fn("recharts-cartesian-axis-line",xf(l,"className"))}))}function tot(t,e,n,r,i,s,a,l,u){var d,h,p,_,v,S,E=l?-1:1,A=t.tickSize||a,I=Ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=h=t.coordinate,_=n+ +!l*i,p=_-E*A,S=p-E*u,v=I;break;case"left":p=_=t.coordinate,h=e+ +!l*r,d=h-E*A,v=d-E*u,S=I;break;case"right":p=_=t.coordinate,h=e+ +l*r,d=h+E*A,v=d+E*u,S=I;break;default:d=h=t.coordinate,_=n+ +l*i,p=_+E*A,S=p+E*u,v=I;break}return{line:{x1:d,y1:p,x2:h,y2:_},tick:{x:v,y:S}}}function not(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function rot(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function iot(t){var{option:e,tickProps:n,value:r}=t,i,s=fn(n.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))i=k.cloneElement(e,tr(tr({},n),{},{className:s}));else if(typeof e=="function")i=e(tr(tr({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=fn(a,e==null?void 0:e.className)),i=k.createElement(pC,wu({},n,{className:a}),r)}return i}var sot=k.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:_,y:v,width:S,height:E,tickSize:A,tickMargin:I,fontSize:j,letterSpacing:M,getTicksConfig:B,events:V,axisType:N}=t,P=vC(tr(tr({},B),{},{ticks:n}),j,M),O=not(h,p),D=rot(h,p),z=wo(B),$=Gk(r),U={};typeof i=="object"&&(U=i);var q=tr(tr({},z),{},{fill:"none"},U),te=P.map(X=>tr({entry:X},tot(X,_,v,S,E,h,A,p,I))),ee=te.map(X=>{var{entry:fe,line:be}=X;return k.createElement(So,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&k.createElement("line",wu({},q,be,{className:fn("recharts-cartesian-axis-tick-line",xf(i,"className"))})))}),Y=te.map((X,fe)=>{var{entry:be,tick:F}=X,K=tr(tr(tr(tr({textAnchor:O,verticalAnchor:D},z),{},{stroke:"none",fill:s},$),F),{},{index:fe,payload:be,visibleTicksCount:P.length,tickFormatter:a,padding:u},d);return k.createElement(So,wu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},ex(V,be,fe)),r&&k.createElement(iot,{option:r,tickProps:K,value:"".concat(typeof a=="function"?a(be.value,fe):be.value).concat(l||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},Y.length>0&&k.createElement(Bo,{zIndex:ri.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:e},Y)),ee.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ee))}),aot=k.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:u}=t,d=Yat(t,Wat),[h,p]=k.useState(""),[_,v]=k.useState(""),S=k.useRef(null);k.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Kat({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=k.useCallback(A=>{if(A){var I=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=I;var j=I[0];if(j){var M=window.getComputedStyle(j),B=M.fontSize,V=M.letterSpacing;(B!==h||V!==_)&&(p(B),v(V))}}},[h,_]);return a||r!=null&&r<=0||i!=null&&i<=0?null:k.createElement(Bo,{zIndex:t.zIndex},k.createElement(So,{className:fn("recharts-cartesian-axis",s)},k.createElement(eot,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:wo(t)}),k.createElement(sot,{ref:E,axisType:u,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:_,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),k.createElement(Ert,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},k.createElement(jrt,{label:t.label,labelRef:t.labelRef}),t.children)))}),bC=k.forwardRef((t,e)=>{var n=oi(t,po);return k.createElement(aot,wu({},n,{ref:e}))});bC.displayName="CartesianAxis";var oot=["x1","y1","x2","y2","key"],lot=["offset"],cot=["xAxisId","yAxisId"],uot=["xAxisId","yAxisId"];function _V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_V(Object(n),!0).forEach(function(r){dot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dot(t,e,n){return(e=fot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fot(t){var e=hot(t,"string");return typeof e=="symbol"?e:e+""}function hot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(null,arguments)}function cb(t,e){if(t==null)return{};var n,r,i=mot(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pot=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return k.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function c9(t){var{option:e,lineItemProps:n}=t,r;if(k.isValidElement(e))r=k.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:a,x2:l,y2:u,key:d}=n,h=cb(n,oot),p=(i=wo(h))!==null&&i!==void 0?i:{},{offset:_}=p,v=cb(p,lot);r=k.createElement("line",Jc({},v,{x1:s,y1:a,x2:l,y2:u,fill:"none",key:d}))}return r}function got(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=cb(t,cot),u=i.map((d,h)=>{var p=qr(qr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return k.createElement(c9,{key:"line-".concat(h),option:r,lineItemProps:p})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function _ot(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=cb(t,uot),u=i.map((d,h)=>{var p=qr(qr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return k.createElement(c9,{option:r,lineItemProps:p,key:"line-".concat(h)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function yot(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,_)=>p-_);i!==d[0]&&d.unshift(0);var h=d.map((p,_)=>{var v=!d[_+1],S=v?i+a-p:d[_+1]-p;if(S<=0)return null;var E=_%e.length;return k.createElement("rect",{key:"react-".concat(_),y:p,x:r,height:S,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vot(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,_)=>p-_);i!==d[0]&&d.unshift(0);var h=d.map((p,_)=>{var v=!d[_+1],S=v?i+a-p:d[_+1]-p;if(S<=0)return null;var E=_%n.length;return k.createElement("rect",{key:"react-".concat(_),x:p,y:s,width:S,height:l,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bot=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return QF(vC(qr(qr(qr({},po),n),{},{ticks:ZF(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},xot=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return QF(vC(qr(qr(qr({},po),n),{},{ticks:ZF(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},wot={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ri.grid};function Mx(t){var e=dI(),n=fI(),r=a6(),i=qr(qr({},oi(t,wot)),{},{x:Ke(t.x)?t.x:r.left,y:Ke(t.y)?t.y:r.top,width:Ke(t.width)?t.width:r.width,height:Ke(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:_,verticalValues:v}=i,S=Ni(),E=We(D=>m4(D,"xAxis",s,S)),A=We(D=>m4(D,"yAxis",a,S));if(!Oa(d)||!Oa(h)||!Ke(l)||!Ke(u))return null;var I=i.verticalCoordinatesGenerator||bot,j=i.horizontalCoordinatesGenerator||xot,{horizontalPoints:M,verticalPoints:B}=i;if((!M||!M.length)&&typeof j=="function"){var V=_&&_.length,N=j({yAxis:A?qr(qr({},A),{},{ticks:V?_:A.ticks}):void 0,width:e??d,height:n??h,offset:r},V?!0:p);$v(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(M=N)}if((!B||!B.length)&&typeof I=="function"){var P=v&&v.length,O=I({xAxis:E?qr(qr({},E),{},{ticks:P?v:E.ticks}):void 0,width:e??d,height:n??h,offset:r},P?!0:p);$v(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(B=O)}return k.createElement(Bo,{zIndex:i.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(pot,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement(yot,Jc({},i,{horizontalPoints:M})),k.createElement(vot,Jc({},i,{verticalPoints:B})),k.createElement(got,Jc({},i,{offset:r,horizontalPoints:M,xAxis:E,yAxis:A})),k.createElement(_ot,Jc({},i,{offset:r,verticalPoints:B,xAxis:E,yAxis:A}))))}Mx.displayName="CartesianGrid";var Sot=["domain","range"],Tot=["domain","range"];function yV(t,e){if(t==null)return{};var n,r,i=Eot(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function u9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=yV(t,Sot),{domain:s,range:a}=e,l=yV(e,Tot);return!vV(n,s)||!vV(r,a)?!1:_C(i,l)}var Aot=["dangerouslySetInnerHTML","ticks"],kot=["id"];function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(null,arguments)}function bV(t,e){if(t==null)return{};var n,r,i=Iot(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cot(t){var e=Cn(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?e($it(t)):n.current!==t&&e(Vit({prev:n.current,next:t})),n.current=t},[t,e]),k.useLayoutEffect(()=>()=>{n.current&&(e(Uit(n.current)),n.current=null)},[e]),null}var Not=t=>{var{xAxisId:e,className:n}=t,r=We(lI),i=Ni(),s="xAxis",a=We(A=>Yf(A,s,e,i)),l=We(A=>iG(A,s,e,i)),u=We(A=>eG(A,e)),d=We(A=>Cet(A,e)),h=We(A=>Sq(A,e));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:_}=t,v=bV(t,Aot),{id:S}=h,E=bV(h,kot);return k.createElement(bC,K1({},v,E,{scale:a,x:d.x,y:d.y,width:u.width,height:u.height,className:fn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Pot={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,angle:yr.angle,axisLine:po.axisLine,height:yr.height,hide:!1,includeHidden:yr.includeHidden,interval:yr.interval,minTickGap:yr.minTickGap,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tick:yr.tick,tickCount:yr.tickCount,tickLine:po.tickLine,tickSize:po.tickSize,type:yr.type,xAxisId:0},Rot=t=>{var e=oi(t,Pot);return k.createElement(k.Fragment,null,k.createElement(Cot,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),k.createElement(Not,e))},Dx=k.memo(Rot,u9);Dx.displayName="XAxis";var Mot=["dangerouslySetInnerHTML","ticks"],Dot=["id"];function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}function xV(t,e){if(t==null)return{};var n,r,i=jot(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jot(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oot(t){var e=Cn(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?e(zit(t)):n.current!==t&&e(Bit({prev:n.current,next:t})),n.current=t},[t,e]),k.useLayoutEffect(()=>()=>{n.current&&(e(Fit(n.current)),n.current=null)},[e]),null}var Lot=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=k.useRef(null),a=k.useRef(null),l=We(lI),u=Ni(),d=Cn(),h="yAxis",p=We(V=>Yf(V,h,e,u)),_=We(V=>tG(V,e)),v=We(V=>Pet(V,e)),S=We(V=>iG(V,h,e,u)),E=We(V=>Tq(V,e));if(k.useLayoutEffect(()=>{if(!(r!=="auto"||!_||gC(i)||k.isValidElement(i)||E==null)){var V=s.current;if(V){var N=V.getCalculatedWidth();Math.round(_.width)!==Math.round(N)&&d(qit({id:e,width:N}))}}},[S,_,d,i,e,r,E]),_==null||v==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:I}=t,j=xV(t,Mot),{id:M}=E,B=xV(E,Dot);return k.createElement(bC,W1({},j,B,{ref:s,labelRef:a,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:_.width,height:_.height,className:fn("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:S,axisType:h}))},$ot={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,angle:vr.angle,axisLine:po.axisLine,hide:!1,includeHidden:vr.includeHidden,interval:vr.interval,minTickGap:vr.minTickGap,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tick:vr.tick,tickCount:vr.tickCount,tickLine:po.tickLine,tickSize:po.tickSize,type:vr.type,width:vr.width,yAxisId:0},Vot=t=>{var e=oi(t,$ot);return k.createElement(k.Fragment,null,k.createElement(Oot,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),k.createElement(Lot,e))},jx=k.memo(Vot,u9);jx.displayName="YAxis";var Uot=(t,e)=>e,xC=pe([Uot,Xt,xq,mr,bG,zo,Gtt,Sr],Qtt),wC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},d9=As("mouseClick"),f9=rg();f9.startListening({actionCreator:d9,effect:(t,e)=>{var n=t.payload,r=xC(e.getState(),wC(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Get({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Y1=As("mouseMove"),h9=rg(),py=null;h9.startListening({actionCreator:Y1,effect:(t,e)=>{var n=t.payload;py!==null&&cancelAnimationFrame(py);var r=wC(n);py=requestAnimationFrame(()=>{var i=e.getState(),s=iC(i,i.tooltip.settings.shared);if(s==="axis"){var a=xC(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(fG({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(dG())}py=null})}});var wV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},m9=Ci({name:"rootProps",initialState:wV,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:wV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),zot=m9.reducer,{updateOptions:Bot}=m9.actions,p9=Ci({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Oct}=p9.actions,Fot=p9.reducer,g9=As("keyDown"),_9=As("focus"),SC=rg();SC.startListening({actionCreator:g9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=sC(i,Xf(n),dg(n),gg(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var u=zo(n);if(s==="Enter"){var d=nb(n,"axis","hover",String(i.index));e.dispatch(z1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=jet(n),p=h==="left-to-right"?1:-1,_=s==="ArrowRight"?1:-1,v=l+_*p;if(!(u==null||v>=u.length||v<0)){var S=nb(n,"axis","hover",String(v));e.dispatch(z1({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});SC.startListening({actionCreator:_9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=nb(n,"axis","hover",String(s));e.dispatch(z1({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var gs=As("externalEvent"),y9=rg(),JT=new Map;y9.startListening({actionCreator:gs,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=JT.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),u={activeCoordinate:Ntt(l),activeDataKey:TG(l),activeIndex:If(l),activeLabel:SG(l),activeTooltipIndex:If(l),isTooltipActive:Ptt(l)};n(u,r)}finally{JT.delete(i)}});JT.set(i,a)}}});var qot=pe([Jf],t=>t.tooltipItemPayloads),Got=pe([qot,mg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),v9=As("touchMove"),b9=rg();b9.startListening({actionCreator:v9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=iC(r,r.tooltip.settings.shared);if(i==="axis"){var s=xC(r,wC({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(fG({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(EWe),h=(a=u.getAttribute(AWe))!==null&&a!==void 0?a:void 0,p=Got(e.getState(),d,h);e.dispatch(uG({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var Hot=AF({brush:Iat,cartesianAxis:Git,chartData:Nnt,errorBars:sst,graphicalItems:Pit,layout:aWe,legend:lYe,options:Ent,polarAxis:Xrt,polarOptions:Fot,referenceElements:jat,rootProps:zot,tooltip:Het,zIndex:fnt}),Kot=function(e){return PKe({reducer:Hot,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([f9.middleware,h9.middleware,SC.middleware,y9.middleware,b9.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat($F({type:"raf"}))},devTools:Ff.devToolsEnabled})};function Wot(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ni(),s=k.useRef(null);if(i)return n;s.current==null&&(s.current=Kot(e));var a=nI;return k.createElement(Cst,{context:a,store:s.current},n)}function Yot(t){var{layout:e,margin:n}=t,r=Cn(),i=Ni();return k.useEffect(()=>{i||(r(rWe(e)),r(nWe(n)))},[r,i,e,n]),null}var Jot=k.memo(Yot,_C);function Xot(t){var e=Cn();return k.useEffect(()=>{e(Bot(t))},[e,t]),null}function SV(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=QG("".concat(r).concat(e)),s=Cn();return k.useLayoutEffect(()=>(s(unt({zIndex:e,elementId:i,isPanorama:n})),()=>{s(dnt({zIndex:e,isPanorama:n}))}),[s,e,i,n]),k.createElement("g",{id:i})}function TV(t){var{children:e,isPanorama:n}=t,r=We(ent);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return k.createElement(k.Fragment,null,i.map(a=>k.createElement(SV,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>k.createElement(SV,{key:a,zIndex:a,isPanorama:n})))}var Qot=["children"];function Zot(t,e){if(t==null)return{};var n,r,i=elt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function elt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(null,arguments)}var tlt={width:"100%",height:"100%",display:"block"},nlt=k.forwardRef((t,e)=>{var n=dI(),r=fI(),i=l6();if(!Oa(n)||!Oa(r))return null;var{children:s,otherAttributes:a,title:l,desc:u}=t,d,h;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0),k.createElement(Hk,ub({},a,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:tlt,ref:e}),s)}),rlt=t=>{var{children:e}=t,n=We(ux);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return k.createElement(Hk,{width:r,height:i,x:a,y:s},e)},EV=k.forwardRef((t,e)=>{var{children:n}=t,r=Zot(t,Qot),i=Ni();return i?k.createElement(rlt,null,k.createElement(TV,{isPanorama:!0},n)):k.createElement(nlt,ub({ref:e},r),k.createElement(TV,{isPanorama:!1},n))});function ilt(){var t=Cn(),[e,n]=k.useState(null),r=We(TWe);return k.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Gn(s)&&s!==r&&t(sWe(s))}},[e,t,r]),n}function AV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function slt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(n),!0).forEach(function(r){alt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function alt(t,e,n){return(e=olt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function olt(t){var e=llt(t,"string");return typeof e=="symbol"?e:e+""}function llt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(null,arguments)}var clt=()=>(Vnt(),null);function db(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ult=k.forwardRef((t,e)=>{var n,r,i=k.useRef(null),[s,a]=k.useState({containerWidth:db((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:db((r=t.style)===null||r===void 0?void 0:r.height)}),l=k.useCallback((d,h)=>{a(p=>{var _=Math.round(d),v=Math.round(h);return p.containerWidth===_&&p.containerHeight===v?p:{containerWidth:_,containerHeight:v}})},[]),u=k.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var _=S=>{var{width:E,height:A}=S[0].contentRect;l(E,A)},v=new ResizeObserver(_);v.observe(d),i.current=v}},[e,l]);return k.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),k.createElement(k.Fragment,null,k.createElement(hx,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",Su({ref:u},t)))}),dlt=k.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=k.useState({containerWidth:db(n),containerHeight:db(r)}),a=k.useCallback((u,d)=>{s(h=>{var p=Math.round(u),_=Math.round(d);return h.containerWidth===p&&h.containerHeight===_?h:{containerWidth:p,containerHeight:_}})},[]),l=k.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();a(d,h)}},[e,a]);return k.createElement(k.Fragment,null,k.createElement(hx,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",Su({ref:l},t)))}),flt=k.forwardRef((t,e)=>{var{width:n,height:r}=t;return k.createElement(k.Fragment,null,k.createElement(hx,{width:n,height:r}),k.createElement("div",Su({ref:e},t)))}),hlt=k.forwardRef((t,e)=>{var{width:n,height:r}=t;return To(n)||To(r)?k.createElement(dlt,Su({},t,{ref:e})):k.createElement(flt,Su({},t,{ref:e}))});function mlt(t){return t===!0?ult:hlt}var plt=k.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:_,onTouchEnd:v,onTouchMove:S,onTouchStart:E,style:A,width:I,responsive:j,dispatchTouchEvents:M=!0}=t,B=k.useRef(null),V=Cn(),[N,P]=k.useState(null),[O,D]=k.useState(null),z=ilt(),$=cI(),U=($==null?void 0:$.width)>0?$.width:I,q=($==null?void 0:$.height)>0?$.height:i,te=k.useCallback(ae=>{z(ae),typeof e=="function"&&e(ae),P(ae),D(ae),ae!=null&&(B.current=ae)},[z,e,P,D]),ee=k.useCallback(ae=>{V(d9(ae)),V(gs({handler:s,reactEvent:ae}))},[V,s]),Y=k.useCallback(ae=>{V(Y1(ae)),V(gs({handler:d,reactEvent:ae}))},[V,d]),X=k.useCallback(ae=>{V(dG()),V(gs({handler:h,reactEvent:ae}))},[V,h]),fe=k.useCallback(ae=>{V(Y1(ae)),V(gs({handler:p,reactEvent:ae}))},[V,p]),be=k.useCallback(()=>{V(_9())},[V]),F=k.useCallback(ae=>{V(g9(ae.key))},[V]),K=k.useCallback(ae=>{V(gs({handler:a,reactEvent:ae}))},[V,a]),Q=k.useCallback(ae=>{V(gs({handler:l,reactEvent:ae}))},[V,l]),H=k.useCallback(ae=>{V(gs({handler:u,reactEvent:ae}))},[V,u]),ge=k.useCallback(ae=>{V(gs({handler:_,reactEvent:ae}))},[V,_]),Ee=k.useCallback(ae=>{V(gs({handler:E,reactEvent:ae}))},[V,E]),se=k.useCallback(ae=>{M&&V(v9(ae)),V(gs({handler:S,reactEvent:ae}))},[V,M,S]),re=k.useCallback(ae=>{V(gs({handler:v,reactEvent:ae}))},[V,v]),$e=mlt(j);return k.createElement(PG.Provider,{value:N},k.createElement(FB.Provider,{value:O},k.createElement($e,{width:U??(A==null?void 0:A.width),height:q??(A==null?void 0:A.height),className:fn("recharts-wrapper",r),style:slt({position:"relative",cursor:"default",width:U,height:q},A),onClick:ee,onContextMenu:K,onDoubleClick:Q,onFocus:be,onKeyDown:F,onMouseDown:H,onMouseEnter:Y,onMouseLeave:X,onMouseMove:fe,onMouseUp:ge,onTouchEnd:re,onTouchMove:se,onTouchStart:Ee,ref:te},k.createElement(clt,null),n)))}),glt=["width","height","responsive","children","className","style","compact","title","desc"];function _lt(t,e){if(t==null)return{};var n,r,i=ylt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ylt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vlt=k.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:u,title:d,desc:h}=t,p=_lt(t,glt),_=wo(p);return u?k.createElement(k.Fragment,null,k.createElement(hx,{width:n,height:r}),k.createElement(EV,{otherAttributes:_,title:d,desc:h},s)):k.createElement(plt,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},k.createElement(EV,{otherAttributes:_,title:d,desc:h,ref:e},k.createElement(Lat,null,s)))});function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}var blt={top:5,right:5,bottom:5,left:5},xlt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:blt,reverseStackOrder:!1,syncMethod:"index",responsive:!1},wlt=k.forwardRef(function(e,n){var r,i=oi(e.categoricalChartProps,xlt),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,h={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(Wot,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},k.createElement(kat,{chartData:d.data}),k.createElement(Jot,{layout:i.layout,margin:i.margin}),k.createElement(Xot,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),k.createElement(vlt,J1({},i,{ref:n})))}),Slt=["axis","item"],TC=k.forwardRef((t,e)=>k.createElement(wlt,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Slt,tooltipPayloadSearcher:Snt,categoricalChartProps:t,ref:e}));const Tlt=["KPN","Ziggo","Odido","Youfone","Budget Alles-in-1","Caiway","Anders"],Elt=["Eneco","Vattenfall","Essent","Greenchoice","Budget Energie","Oxxio","Vandebron","Anders"],Alt=["BT","Sky","Virgin Media","TalkTalk","Vodafone","EE","Plusnet","Other"],klt=["British Gas","E.ON Next","OVO Energy","EDF Energy","ScottishPower","Octopus Energy","Shell Energy","Other"],Ilt=["Deutsche Telekom","Vodafone","1&1","O2","Telefnica","PUR","NetCologne","Andere"],Clt=["E.ON","Vattenfall","EnBW","RWE","innogy","EWE","LichtBlick","Andere"],yg=(t,e="nl")=>t==="telecom"?e==="en"?Alt:e==="de"?Ilt:Tlt:t==="energy"?e==="en"?klt:e==="de"?Clt:Elt:[],Nlt=()=>{const{user:t,addContentToKB:e}=bt(),{t:n,language:r}=Xe(),[i,s]=k.useState(null),[a,l]=k.useState([]),[u,d]=k.useState(!1),[h,p]=k.useState(null),[_,v]=k.useState([]),[S,E]=k.useState(null),[A,I]=k.useState(!1),[j,M]=k.useState("newCustomerOffer"),[B,V]=k.useState(!1),[N,P]=k.useState(!1);k.useEffect(()=>{t&&(t.industry==="telecom"?s("telecom"):t.industry==="energy"?s("energy"):s(null))},[t]),k.useEffect(()=>{l([]),v([]),E(null)},[i]);const O=i?yg(i,t==null?void 0:t.lang).filter(F=>!["Anders","Other","Andere"].includes(F)):[],[D,z]=k.useState({packageType:"Internet & TV",internetSpeed:"100",tvDetails:"Standaard TV pakket met 50+ zenders",price:"45",setupFee:"0",discount:"50",usps:"Gratis monteur, 24/7 klantenservice"}),[$,U]=k.useState({contractDuration:"1 jaar vast",rateType:"dubbel",powerRateNormal:"0.35",powerRateLow:"0.32",gasRate:"1.25",fixedCosts:"12",welcomeBonus:"200",usps:"100% Nederlandse windenergie, CO2-gecompenseerd gas"}),q=F=>{l(K=>K.includes(F)?K.filter(Q=>Q!==F):[...K,F])},te=async()=>{if(!(!i||a.length===0)){d(!0),p(null),v([]),E(null),P(!1);try{const F=i==="telecom"?D:$,K=await i6e(i,F,a),Q=K.indexOf("["),H=K.lastIndexOf("]");if(Q===-1||H===-1||H<Q)throw new Error("Could not find a valid JSON array in the AI response.");const ge=K.substring(Q,H+1),Ee=JSON.parse(ge);v(Ee),I(!0);const se=await s6e(F,Ee,r);E(se)}catch(F){console.error(F),p("Fout bij het verwerken van de data. De AI gaf een onverwacht antwoord. Probeer het opnieuw.")}finally{d(!1),I(!1)}}},ee=async()=>{if(!S||!i||_.length===0)return;const F=prompt(n("kb_analysis_title_prompt"));if(F){V(!0),P(!1);try{const K=i==="telecom"?D:$,Q=`
# ${n("kb_analysis_title")}: ${F}

**${n("market")}:** ${n(i==="telecom"?"market_telecom":"market_energy")}
**${n("analysis_date")}:** ${new Date().toLocaleDateString()}

---

## ${n("strategic_summary")}
${S}

---

## ${n("our_offer_title")}
\`\`\`json
${JSON.stringify(K,null,2)}
\`\`\`

---

## ${n("competitor_details_title")}
\`\`\`json
${JSON.stringify(_,null,2)}
\`\`\`
`;await e({title:`${n("kb_analysis_title")}: ${F}`,content:Q,note:`${n("kb_analysis_note_prefix")} ${n(i==="telecom"?"market_telecom":"market_energy")} ${n("kb_analysis_note_suffix")}.`}),P(!0),setTimeout(()=>P(!1),3e3)}catch(K){console.error(K),alert(n("kb_save_error"))}finally{V(!1)}}},Y=(F,K,Q,H)=>{const ge=H===""?null:parseFloat(H);H!==""&&isNaN(ge)||v(Ee=>{const se=[...Ee],re={...se[F]},$e={...re[K]};return $e[Q]=ge,re[K]=$e,se[F]=re,se})},X="w-full text-center py-3 px-6 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-background",fe="bg-brand-primary text-white shadow-lg focus:ring-brand-primary",be="bg-brand-surface text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text-primary focus:ring-brand-primary/50";return f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold text-brand-text-primary",children:n("compa_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:n("compa_subtitle")})]}),(t==null?void 0:t.industry)==="beide"&&f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-1 text-brand-text-primary",children:n("step_choose_market",{step_number:1})}),f.jsx("p",{className:"text-brand-text-secondary mb-4 text-sm",children:n("compa_market_subtitle")}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>s("telecom"),className:`${X} ${i==="telecom"?fe:be}`,children:n("market_telecom")}),f.jsx("button",{onClick:()=>s("energy"),className:`${X} ${i==="energy"?fe:be}`,children:n("market_energy")})]})]}),i&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-1 text-brand-text-primary",children:n("step_select_competitors",{step_number:(t==null?void 0:t.industry)==="beide"?2:1})}),f.jsx("p",{className:"text-brand-text-secondary mb-4 text-sm",children:n("compa_select_subtitle")}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:O.map(F=>f.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${a.includes(F)?"bg-brand-primary/10 border-brand-primary":"bg-brand-secondary border-brand-border hover:border-brand-primary/50"}`,children:[f.jsx("input",{type:"checkbox",checked:a.includes(F),onChange:()=>q(F),className:"h-5 w-5 rounded border-gray-300 text-brand-primary focus:ring-brand-primary bg-brand-surface"}),f.jsx("span",{className:`font-medium ${a.includes(F)?"text-brand-primary":"text-brand-text-primary"}`,children:F})]},F))})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg space-y-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text-primary",children:n("step_your_offer",{step_number:(t==null?void 0:t.industry)==="beide"?3:2})}),i==="telecom"?f.jsx(Plt,{form:D,setForm:z}):f.jsx(Rlt,{form:$,setForm:U}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-center pt-4 border-t border-brand-border",children:[a.length===0&&f.jsx("p",{className:"text-sm text-red-400 mr-4",children:n("compa_select_one_competitor")}),f.jsx("button",{onClick:te,disabled:u||a.length===0,className:"bg-brand-primary text-white font-semibold py-3 px-6 rounded-lg flex items-center justify-center w-full sm:w-auto hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed min-w-[220px]",children:u?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("analyzing"),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx(pk,{className:"w-5 h-5 mr-2"}),n("analyze_competitors")]})})]})]})]}),h&&f.jsx("p",{className:"text-red-400 text-center bg-red-900/20 p-4 rounded-lg",children:h}),(_.length>0||A)&&f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("h2",{className:"text-2xl font-semibold text-brand-text-primary flex items-center",children:[f.jsx(Yr,{className:"w-6 h-6 mr-3 text-brand-primary"}),n("strategic_summary")]}),!A&&S&&f.jsxs("button",{onClick:ee,disabled:B,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-brand-border transition-colors disabled:opacity-50",children:[f.jsx(up,{className:"w-5 h-5 mr-2"}),n(B?"saving":N?"saved":"share_to_kb")]})]}),A?f.jsx("p",{className:"text-brand-text-secondary",children:n("ai_analyzing_data")}):S?f.jsx("div",{className:"prose max-w-none",children:f.jsx(si,{children:S})}):null]}),_.length>0&&f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex border-b border-brand-border mb-6",children:[f.jsx("button",{onClick:()=>M("newCustomerOffer"),className:`py-2 px-6 font-semibold transition-colors ${j==="newCustomerOffer"?"border-b-2 border-brand-primary text-brand-primary":"text-brand-text-secondary hover:text-brand-text-primary"}`,children:n("new_customers")}),f.jsx("button",{onClick:()=>M("standardOffer"),className:`py-2 px-6 font-semibold transition-colors ${j==="standardOffer"?"border-b-2 border-brand-primary text-brand-primary":"text-brand-text-secondary hover:text-brand-text-primary"}`,children:n("existing_customers")})]}),i==="telecom"?f.jsx(Mlt,{data:_,activeTab:j,onDataChange:Y}):f.jsx(Dlt,{data:_,activeTab:j,onDataChange:Y})]})]})},yi="w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition-all",vi="block text-sm font-medium text-brand-text-secondary mb-2",Plt=({form:t,setForm:e})=>{const{t:n}=Xe(),r=i=>e({...t,[i.target.name]:i.target.value});return f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"packageType",className:vi,children:n("compa_offer_form_telecom_package_type")}),f.jsx("input",{id:"packageType",name:"packageType",value:t.packageType,onChange:r,className:yi})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"internetSpeed",className:vi,children:n("compa_offer_form_telecom_speed")}),f.jsx("input",{id:"internetSpeed",name:"internetSpeed",type:"number",value:t.internetSpeed,onChange:r,className:yi})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"price",className:vi,children:n("compa_offer_form_telecom_price")}),f.jsx("input",{id:"price",name:"price",type:"number",value:t.price,onChange:r,className:yi})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"discount",className:vi,children:n("compa_offer_form_telecom_discount")}),f.jsx("input",{id:"discount",name:"discount",type:"number",value:t.discount,onChange:r,className:yi})]}),f.jsxs("div",{className:"md:col-span-2 lg:col-span-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tvDetails",className:vi,children:n("compa_offer_form_telecom_tv_details")}),f.jsx("textarea",{id:"tvDetails",name:"tvDetails",value:t.tvDetails,onChange:r,className:`${yi} h-24 resize-none`})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"usps",className:vi,children:n("compa_offer_form_telecom_usps")}),f.jsx("textarea",{id:"usps",name:"usps",value:t.usps,onChange:r,className:`${yi} h-24 resize-none`})]})]})]})},Rlt=({form:t,setForm:e})=>{const{t:n}=Xe(),r=i=>e({...t,[i.target.name]:i.target.value});return f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"contractDuration",className:vi,children:n("compa_offer_form_energy_duration")}),f.jsxs("select",{id:"contractDuration",name:"contractDuration",value:t.contractDuration,onChange:r,className:yi,children:[f.jsx("option",{children:"1 jaar vast"}),f.jsx("option",{children:"3 jaar vast"}),f.jsx("option",{children:"Variabel"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"rateType",className:vi,children:n("compa_offer_form_energy_rate_type")}),f.jsxs("select",{id:"rateType",name:"rateType",value:t.rateType,onChange:r,className:yi,children:[f.jsx("option",{value:"dubbel",children:"Dubbeltarief"}),f.jsx("option",{value:"enkel",children:"Enkeltarief"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"powerRateNormal",className:vi,children:n("compa_offer_form_energy_power_normal")}),f.jsx("input",{id:"powerRateNormal",name:"powerRateNormal",type:"number",step:"0.01",value:t.powerRateNormal,onChange:r,className:yi})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"powerRateLow",className:vi,children:n("compa_offer_form_energy_power_low")}),f.jsx("input",{id:"powerRateLow",name:"powerRateLow",type:"number",step:"0.01",value:t.powerRateLow,onChange:r,className:yi,disabled:t.rateType==="enkel"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"gasRate",className:vi,children:n("compa_offer_form_energy_gas")}),f.jsx("input",{id:"gasRate",name:"gasRate",type:"number",step:"0.01",value:t.gasRate,onChange:r,className:yi})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fixedCosts",className:vi,children:n("compa_offer_form_energy_fixed_costs")}),f.jsx("input",{id:"fixedCosts",name:"fixedCosts",type:"number",step:"0.01",value:t.fixedCosts,onChange:r,className:yi})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"welcomeBonus",className:vi,children:n("compa_offer_form_energy_bonus")}),f.jsx("input",{id:"welcomeBonus",name:"welcomeBonus",type:"number",step:"1",value:t.welcomeBonus,onChange:r,className:yi})]}),f.jsxs("div",{className:"lg:col-span-4",children:[f.jsx("label",{htmlFor:"usps",className:vi,children:n("compa_offer_form_energy_usps")}),f.jsx("textarea",{id:"usps",name:"usps",value:t.usps,onChange:r,className:`${yi} h-24 resize-none`})]})]})},x9=()=>{const{theme:t}=EC();return{tickColor:t==="dark"?"#adb5bd":"#868e96",gridColor:t==="dark"?"#343a40":"#e9ecef",tooltipBackgroundColor:t==="dark"?"#1E1E1E":"#ffffff",tooltipBorderColor:t==="dark"?"#343a40":"#e9ecef",barColor:t==="dark"?"#587CF8":"#4C6EF5"}},Ol=({label:t,value:e,unit:n,onChange:r})=>f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("strong",{children:[t,":"]}),e===null?f.jsx("input",{type:"number",placeholder:"N/A",onChange:i=>r(i.target.value),className:"w-24 text-right bg-brand-surface border border-brand-border rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-brand-primary focus:outline-none"}):f.jsxs("span",{children:[e," ",n]})]}),Mlt=({data:t,activeTab:e,onDataChange:n})=>{const{tickColor:r,gridColor:i,tooltipBackgroundColor:s,tooltipBorderColor:a,barColor:l}=x9(),{t:u}=Xe(),d=t.map(h=>{var p;return{companyName:h.companyName,monthlyPrice:((p=h[e])==null?void 0:p.monthlyPrice)||0}});return f.jsxs("div",{className:"space-y-8 animate-fade-in-fast",children:[f.jsxs("div",{className:"h-96",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:u("monthly_price_comparison")}),f.jsx(uI,{width:"100%",height:"90%",children:f.jsxs(TC,{data:d,margin:{top:5,right:20,left:-10,bottom:5},children:[f.jsx(Mx,{strokeDasharray:"3 3",stroke:i}),f.jsx(Dx,{dataKey:"companyName",stroke:r}),f.jsx(jx,{stroke:r}),f.jsx(mC,{contentStyle:{backgroundColor:s,border:`1px solid ${a}`},cursor:{fill:"rgba(76, 110, 245, 0.1)"}}),f.jsx(mx,{}),f.jsx(Rx,{dataKey:"monthlyPrice",fill:l,name:"Prijs p/m ()",radius:[4,4,0,0]})]})})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:u("detailed_comparison")}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",style:{gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))"},children:t.map((h,p)=>{const _=h[e];return _?f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-4 flex flex-col border border-brand-border",children:[f.jsx("h3",{className:"text-xl font-bold text-brand-primary",children:h.companyName}),f.jsx("p",{className:"text-sm text-brand-text-secondary mt-1 mb-3 flex-grow",children:_.packageName}),f.jsxs("div",{className:"border-t border-brand-border pt-3 space-y-2 text-sm",children:[f.jsx(Ol,{label:"Snelheid",value:_.internetSpeed,unit:"Mbps",onChange:v=>n(p,e,"internetSpeed",v)}),f.jsx(Ol,{label:"Setup",value:_.setupFee,unit:"",onChange:v=>n(p,e,"setupFee",v)}),f.jsx(Ol,{label:"Korting",value:_.discount,unit:"",onChange:v=>n(p,e,"discount",v)})]}),f.jsx("h4",{className:"font-semibold mt-4 mb-2 border-t border-brand-border pt-3",children:"USPs:"}),f.jsx("ul",{className:"list-disc list-inside text-brand-text-secondary space-y-1 text-sm",children:_.usps.map((v,S)=>f.jsx("li",{children:v},S))})]},p):null})})]})]})},Dlt=({data:t,activeTab:e,onDataChange:n})=>{const{tickColor:r,gridColor:i,tooltipBackgroundColor:s,tooltipBorderColor:a,barColor:l}=x9(),{t:u}=Xe(),d=t.map(h=>{var p;return{companyName:h.companyName,powerRateNormal:((p=h[e])==null?void 0:p.powerRateNormal)||0}});return f.jsxs("div",{className:"space-y-8 animate-fade-in-fast",children:[f.jsxs("div",{className:"h-96",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:u("power_rate_normal_comparison")}),f.jsx(uI,{width:"100%",height:"90%",children:f.jsxs(TC,{data:d,margin:{top:5,right:20,left:-10,bottom:5},children:[f.jsx(Mx,{strokeDasharray:"3 3",stroke:i}),f.jsx(Dx,{dataKey:"companyName",stroke:r}),f.jsx(jx,{stroke:r,domain:["dataMin - 0.05","dataMax + 0.05"]}),f.jsx(mC,{contentStyle:{backgroundColor:s,border:`1px solid ${a}`},cursor:{fill:"rgba(76, 110, 245, 0.1)"}}),f.jsx(mx,{}),f.jsx(Rx,{dataKey:"powerRateNormal",fill:l,name:"Stroom Normaal (/kWh)",radius:[4,4,0,0]})]})})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:u("detailed_comparison")}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",style:{gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))"},children:t.map((h,p)=>{const _=h[e];return _?f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-4 flex flex-col border border-brand-border",children:[f.jsx("h3",{className:"text-xl font-bold text-brand-primary",children:h.companyName}),f.jsx("p",{className:"text-sm text-brand-text-secondary mt-1 mb-3 flex-grow",children:_.contractType}),f.jsxs("div",{className:"border-t border-brand-border pt-3 space-y-2 text-sm",children:[f.jsx(Ol,{label:"Stroom Normaal",value:_.powerRateNormal,unit:"/kWh",onChange:v=>n(p,e,"powerRateNormal",v)}),_.powerRateLow!==void 0&&f.jsx(Ol,{label:"Stroom Dal",value:_.powerRateLow,unit:"/kWh",onChange:v=>n(p,e,"powerRateLow",v)}),f.jsx(Ol,{label:"Gas",value:_.gasRate,unit:"/m",onChange:v=>n(p,e,"gasRate",v)}),f.jsx(Ol,{label:"Vaste Kosten",value:_.fixedCostMonthly,unit:"/maand",onChange:v=>n(p,e,"fixedCostMonthly",v)}),f.jsx(Ol,{label:"Bonus",value:_.welcomeBonus,unit:"",onChange:v=>n(p,e,"welcomeBonus",v)})]}),f.jsx("h4",{className:"font-semibold mt-4 mb-2 border-t border-brand-border pt-3",children:"USPs:"}),f.jsx("ul",{className:"list-disc list-inside text-brand-text-secondary space-y-1 text-sm",children:_.usps.map((v,S)=>f.jsx("li",{children:v},S))})]},p):null})})]})]})},jlt=()=>{const{goals:t,addGoal:e,deleteGoal:n}=bt(),{t:r}=Xe(),[i,s]=k.useState(5),[a,l]=k.useState("daily"),u=async h=>{if(h.preventDefault(),!(i<=0))try{if(t.find(_=>_.type===a)){alert(`Er is al een ${a==="daily"?"dagelijks":"wekelijks"} verkoopdoel ingesteld. Verwijder het oude doel eerst om een nieuwe in te stellen.`);return}await e({target:i,type:a}),s(5)}catch(p){alert(`Fout bij toevoegen van verkoopdoel: ${p.message}`)}},d=async h=>{try{await n(h)}catch(p){alert(`Fout bij verwijderen van doel: ${p.message}`)}};return f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold mb-8",children:r("goals_title")}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg mb-8",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:r("new_sales_goal")}),f.jsxs("form",{onSubmit:u,className:"flex flex-col sm:flex-row items-center gap-4",children:[f.jsxs("div",{className:"flex-grow w-full sm:w-auto",children:[f.jsx("label",{htmlFor:"salesTarget",className:"sr-only",children:r("sales_goal_amount_label")}),f.jsx("input",{type:"number",id:"salesTarget",value:i,onChange:h=>s(parseInt(h.target.value)||0),placeholder:r("sales_goal_amount_label"),min:"1",className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition-all"})]}),f.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[f.jsxs("select",{value:a,onChange:h=>l(h.target.value),className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[f.jsx("option",{value:"daily",children:r("sales_goal_period_day")}),f.jsx("option",{value:"weekly",children:r("sales_goal_period_week")})]}),f.jsxs("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-3 px-6 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),r("set_goal")]})]})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:r("active_sales_goals")}),f.jsx("div",{className:"space-y-3",children:t.length>0?t.map(h=>f.jsxs("div",{className:"flex items-center justify-between bg-brand-secondary p-4 rounded-lg",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Jp,{className:"w-6 h-6 mr-3 text-brand-primary"}),f.jsxs("p",{className:"font-medium text-brand-text-primary",children:[h.type==="daily"?r("daily_goal"):r("weekly_goal"),f.jsxs("span",{className:"font-bold text-brand-primary",children:[h.target," ",r("sales")]})]})]}),f.jsx("button",{onClick:()=>d(h.id),className:"text-brand-text-secondary hover:text-red-500 transition-colors rounded-full hover:bg-red-500/10 w-8 h-8 grid place-items-center",children:f.jsx(Va,{className:"w-5 h-5"})})]},h.id)):f.jsx("p",{className:"text-brand-text-secondary",children:r("goals_empty_state")})})]})]})},ys=({title:t,icon:e,children:n,defaultOpen:r=!1})=>{const[i,s]=k.useState(r);return f.jsxs("div",{className:"border border-brand-border rounded-lg overflow-hidden transition-all duration-300",children:[f.jsxs("button",{onClick:()=>s(!i),className:"w-full flex justify-between items-center p-4 bg-brand-secondary hover:bg-brand-border transition-colors focus:outline-none",children:[f.jsxs("div",{className:"flex items-center text-brand-text-primary",children:[f.jsx("div",{className:"w-6 h-6",children:e}),f.jsx("h3",{className:"font-semibold ml-3",children:t})]}),f.jsx(Fee,{className:`w-5 h-5 text-brand-text-secondary transition-transform duration-300 ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"p-4 bg-brand-surface border-t border-brand-border animate-fade-in-fast",children:f.jsx("div",{className:"prose prose-invert max-w-none text-brand-text-secondary prose-headings:text-brand-text-primary prose-strong:text-brand-text-primary",children:n?f.jsx(si,{children:String(n)}):f.jsx("p",{children:"Geen data."})})})]})},Olt=()=>{const{user:t,pitches:e,addPitch:n,updatePitch:r,deletePitch:i,promotePitchToKB:s}=bt(),{t:a,language:l}=Xe(),[u,d]=k.useState(null),[h,p]=k.useState(!1),[_,v]=k.useState(""),[S,E]=k.useState(""),[A,I]=k.useState(""),[j,M]=k.useState(!1),[B,V]=k.useState(""),[N,P]=k.useState(""),[O,D]=k.useState(""),[z,$]=k.useState(""),[U,q]=k.useState(""),[te,ee]=k.useState(""),[Y,X]=k.useState(""),[fe,be]=k.useState(""),[F,K]=k.useState(!1),[Q,H]=k.useState(""),[ge,Ee]=k.useState(""),[se,re]=k.useState(""),[$e,ae]=k.useState(""),[Re,Me]=k.useState("");k.useEffect(()=>{!u&&e.length>0&&d(e[0]),u&&!e.find(Ae=>Ae.id===u.id)&&d(e.length>0?e[0]:null)},[e,u]);const le=Ae=>{const ot=Ae.match(/### 1\. Strategisch Buurtadvies\n([\s\S]*?)(?=### 2\.|$)/),Er=Ae.match(/### 2\. Advies:[\s\S]*?\n([\s\S]*?)(?=### 3\.|$)/),Lr=Ae.match(/### 3\. De Pitch op Maat[\s\S]*?\n([\s\S]*?)(?=### 4\.|$)/),vn=Ae.match(/### 4\. Meest Waarschijnlijke Bezwaren[\s\S]*?\n([\s\S]*?)(?=$)/);return{buurtadvies:ot?ot[1].trim():"",toonadvies:Er?Er[1].trim():"",pitchContent:Lr?Lr[1].trim():"",bezwaren:vn?vn[1].trim():"",isStructured:!!(ot||Er||Lr||vn)}};k.useEffect(()=>{if(u){const{isStructured:Ae,buurtadvies:ot,toonadvies:Er,pitchContent:Lr,bezwaren:vn}=le(u.content);Ae?(V(ot),P(Er),D(Lr),$(vn)):(V(""),P(""),D(u.content),$(""))}},[u]),k.useEffect(()=>{if(A){const Ae=A.match(/### Structuur & Flow\n([\s\S]*?)(?=###|$)/),ot=A.match(/### Woordkeuze & Toon\n([\s\S]*?)(?=###|$)/),Er=A.match(/### Waardepropositie\n([\s\S]*?)(?=###|$)/),Lr=A.match(/### Afsluiting \(Call to Action\)\n([\s\S]*?)(?=###|$)/);q(Ae?Ae[1].trim():"Niet gevonden"),ee(ot?ot[1].trim():"Niet gevonden"),X(Er?Er[1].trim():"Niet gevonden"),be(Lr?Lr[1].trim():"Niet gevonden")}},[A]);const nt=Ae=>{d(Ae),p(!1),I("")},Ge=()=>{u&&(v(u.content),E(u.name),p(!0))},mt=async()=>{if(u)try{const Ae={...u,content:_,name:S};await r(Ae),d(Ae),p(!1)}catch(Ae){alert(`Fout bij opslaan van wijzigingen: ${Ae.message}`)}},pt=async Ae=>{if(window.confirm(a("delete_confirm_pitch")))try{await i(Ae)}catch(ot){alert(`Fout bij verwijderen van pitch: ${ot.message}`)}},Pt=async()=>{if(u){M(!0),I("");try{const Ae=await a6e(u.content,l);I(Ae)}catch{I("Kon geen suggesties ophalen.")}finally{M(!1)}}},vt=async()=>{if(!u||!t)return;const Ae=prompt(a("promote_note_prompt"));if(Ae)try{await s(u,Ae),alert("Pitch gepromoot naar de Team Kennisbank!")}catch(ot){alert(`Fout bij promoten van pitch: ${ot.message}`)}},Fe=async Ae=>{if(Ae.preventDefault(),!Q||!$e){alert("Naam en 'De Pitch op Maat' zijn verplicht.");return}const ot=`### 1. Strategisch Buurtadvies
${ge}

### 2. Advies: Toon & Stijl
${se}

### 3. De Pitch op Maat
${$e}

### 4. Meest Waarschijnlijke Bezwaren
${Re}`;try{await n({name:Q,content:ot,createdAt:new Date().toISOString()}),K(!1),H(""),Ee(""),re(""),ae(""),Me("")}catch(Er){alert(`Fout bij toevoegen: ${Er.message}`)}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold",children:a("pitches_title")}),f.jsxs("button",{onClick:()=>K(!0),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),a("pitches_add_new")]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1 bg-brand-surface rounded-xl p-4 shadow-lg h-[calc(100vh-12rem)] flex flex-col",children:f.jsx("div",{className:"overflow-y-auto",children:e.length>0?e.map(Ae=>f.jsx("div",{onClick:()=>nt(Ae),className:`p-4 rounded-lg cursor-pointer mb-2 transition-colors ${(u==null?void 0:u.id)===Ae.id?"bg-brand-primary text-white shadow-md":"bg-brand-secondary hover:bg-brand-border"}`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(Gd,{className:`w-5 h-5 mt-1 flex-shrink-0 ${(u==null?void 0:u.id)===Ae.id?"text-white/80":"text-brand-text-secondary"}`}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold ",children:Ae.name}),f.jsx("p",{className:`text-sm ${(u==null?void 0:u.id)===Ae.id?"text-white/80":"text-brand-text-secondary"}`,children:new Date(Ae.createdAt).toLocaleDateString()})]})]})},Ae.id)):f.jsxs("div",{className:"text-center text-brand-text-secondary py-10",children:[f.jsx(Gd,{className:"mx-auto w-12 h-12 mb-4"}),f.jsx("p",{className:"font-semibold",children:a("pitches_empty_list_title")}),f.jsx("p",{className:"text-sm",children:a("pitches_empty_list_subtitle")})]})})}),f.jsx("div",{className:"md:col-span-2 bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-12rem)] overflow-y-auto",children:u?f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 pb-4 border-b border-brand-border",children:[f.jsxs("div",{children:[h?f.jsx("input",{type:"text",value:S,onChange:Ae=>E(Ae.target.value),className:"text-3xl font-bold bg-brand-secondary rounded-lg p-2 -ml-2 w-full"}):f.jsx("h2",{className:"text-3xl font-bold",children:u.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[a("saved_on")," ",new Date(u.createdAt).toLocaleString()]})]}),f.jsx("div",{className:"flex space-x-2 flex-shrink-0 ml-4",children:h?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:mt,className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:a("save")}),f.jsx("button",{onClick:()=>p(!1),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:a("cancel")})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:Ge,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:a("edit")}),f.jsx("button",{onClick:()=>pt(u.id),className:"bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500 hover:text-white transition-colors grid place-items-center w-8 h-8",children:f.jsx(Va,{className:"w-5 h-5"})})]})})]}),h?f.jsx("textarea",{value:_,onChange:Ae=>v(Ae.target.value),className:"w-full h-[60vh] bg-brand-secondary border border-brand-border rounded-lg p-3 focus:ring-2 focus:ring-brand-primary focus:outline-none resize-y"}):f.jsx("div",{className:"space-y-4",children:B||N||z?f.jsxs(f.Fragment,{children:[f.jsx(ys,{title:a("strat_buurtadvies"),icon:f.jsx(S5,{}),defaultOpen:!0,children:B}),f.jsx(ys,{title:a("strat_toonadvies"),icon:f.jsx(LE,{}),children:N}),f.jsx(ys,{title:a("strat_pitch"),icon:f.jsx(mk,{}),children:O}),f.jsx(ys,{title:a("strat_bezwaren"),icon:f.jsx(T5,{}),children:z})]}):f.jsx("div",{className:"prose max-w-none",children:f.jsx(si,{children:u.content})})}),!h&&f.jsxs("div",{className:"mt-8 border-t border-brand-border pt-6 space-y-4",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text-primary",children:a("ai_pitch_analysis")}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[((t==null?void 0:t.role)==="manager"||(t==null?void 0:t.role)==="team-leader"||(t==null?void 0:t.role)==="leader")&&f.jsxs("button",{onClick:vt,className:"bg-yellow-400/20 text-yellow-500 font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-yellow-400 hover:text-white transition-colors",children:[f.jsx(yf,{className:"w-5 h-5 mr-2"}),a("promote_to_kb")]}),f.jsx("button",{onClick:Pt,disabled:j,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",children:j?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a("analyzing"),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Yr,{className:"w-5 h-5 mr-2"}),a("analyze_with_ai")]})})]}),A&&f.jsxs("div",{className:"mt-4 space-y-3",children:[f.jsx(ys,{title:a("analysis_structure"),icon:f.jsx(Bb,{}),defaultOpen:!0,children:U}),f.jsx(ys,{title:a("analysis_wording"),icon:f.jsx(LE,{}),children:te}),f.jsx(ys,{title:a("analysis_value_prop"),icon:f.jsx(yf,{}),children:Y}),f.jsx(ys,{title:a("analysis_cta"),icon:f.jsx(dp,{}),children:fe})]})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-brand-text-secondary text-center",children:[f.jsx(Gd,{className:"w-16 h-16 mb-4"}),f.jsx("p",{className:"font-semibold text-lg",children:a("select_pitch_title")}),f.jsx("p",{children:a("select_pitch_subtitle")})]})})]})]}),F&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:()=>K(!1),children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-2xl",onClick:Ae=>Ae.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:a("modal_add_pitch_title")}),f.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPitchName",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:a("pitch_name_label")}),f.jsx("input",{type:"text",id:"newPitchName",value:Q,onChange:Ae=>H(Ae.target.value),required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPitchBuurtadvies",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:a("modal_pitch_buurtadvies_label")}),f.jsx("textarea",{id:"newPitchBuurtadvies",value:ge,onChange:Ae=>Ee(Ae.target.value),rows:3,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 resize-y"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPitchToonadvies",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:a("modal_pitch_toonadvies_label")}),f.jsx("textarea",{id:"newPitchToonadvies",value:se,onChange:Ae=>re(Ae.target.value),rows:3,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 resize-y"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPitchPitch",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:a("modal_pitch_pitch_label")}),f.jsx("textarea",{id:"newPitchPitch",value:$e,onChange:Ae=>ae(Ae.target.value),required:!0,rows:5,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 resize-y"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPitchBezwaren",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:a("modal_pitch_bezwaren_label")}),f.jsx("textarea",{id:"newPitchBezwaren",value:Re,onChange:Ae=>Me(Ae.target.value),rows:3,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 resize-y"})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>K(!1),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg",children:a("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg",children:a("add_pitch_button")})]})]})]})})]})},Llt="AIzaSyAlNm0JytBZWTrGoV0FfHFEfJttM_WbYUo",kV=new Ck({apiKey:Llt}),$lt=()=>{const{pitches:t,sharePracticeResults:e}=bt(),{t:n,language:r}=Xe(),[i,s]=k.useState("select_pitch"),[a,l]=k.useState(null),[u,d]=k.useState(!1),[h,p]=k.useState(null),[_,v]=k.useState([]),S=k.useRef(null),E=k.useRef(null),A=k.useRef(null),I=k.useRef(null),j=k.useRef(null),M=k.useRef(null),B=k.useRef(0),V=k.useRef(new Set),[N,P]=k.useState(""),[O,D]=k.useState(!1),[z,$]=k.useState(!1),[U,q]=k.useState(!1),te=k.useMemo(()=>({sceptical_manager:{name:n("persona_sceptical_manager_name"),description:n("persona_sceptical_manager_desc")},friendly_consumer:{name:n("persona_friendly_consumer_name"),description:n("persona_friendly_consumer_desc")},technical_expert:{name:n("persona_technical_expert_name"),description:n("persona_technical_expert_desc")}}),[n]),[ee,Y]=k.useState(null),X=ee?te[ee]:null;k.useEffect(()=>()=>{K()},[]);const fe=se=>{l(se),s("select_persona")},be=se=>{Y(se),s("practice")},F=async()=>{if(X){d(!0),p(null),v([]),q(!1),$(!1);try{const se=await navigator.mediaDevices.getUserMedia({audio:!0});M.current=se,E.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),A.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const re=A.current,$e=re.createGain(),Re={nl:"Dutch",en:"English",de:"German"}[r]||"Dutch";S.current=kV.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{const Me=E.current.createMediaStreamSource(se);j.current=Me;const le=E.current.createScriptProcessor(4096,1,1);I.current=le,le.onaudioprocess=nt=>{var pt;const Ge=nt.inputBuffer.getChannelData(0),mt={data:LB(new Uint8Array(new Int16Array(Ge.map(Pt=>Pt*32768)).buffer)),mimeType:"audio/pcm;rate=16000"};(pt=S.current)==null||pt.then(Pt=>{Pt.sendRealtimeInput({media:mt})})},Me.connect(le),le.connect(E.current.destination)},onmessage:async Me=>{var Ge,mt,pt,Pt;const le=Me.serverContent;if(le!=null&&le.inputTranscription){const{text:vt}=le.inputTranscription;v(Fe=>{const Ae=Fe[Fe.length-1];if((Ae==null?void 0:Ae.speaker)==="user"){const ot=[...Fe];return ot[ot.length-1]={speaker:"user",text:vt},ot}return[...Fe,{speaker:"user",text:vt}]})}if(le!=null&&le.outputTranscription){const{text:vt}=le.outputTranscription;v(Fe=>{const Ae=Fe[Fe.length-1];if((Ae==null?void 0:Ae.speaker)==="model"){const ot=[...Fe];return ot[ot.length-1]={speaker:"model",text:vt},ot}return[...Fe,{speaker:"model",text:vt}]})}const nt=(Pt=(pt=(mt=(Ge=le==null?void 0:le.modelTurn)==null?void 0:Ge.parts)==null?void 0:mt[0])==null?void 0:pt.inlineData)==null?void 0:Pt.data;if(nt){B.current=Math.max(B.current,re.currentTime);const vt=await VB($B(nt),re,24e3,1),Fe=re.createBufferSource();Fe.buffer=vt,Fe.connect($e),$e.connect(re.destination),Fe.addEventListener("ended",()=>{V.current.delete(Fe)}),Fe.start(B.current),B.current+=vt.duration,V.current.add(Fe)}if(le!=null&&le.interrupted){for(const vt of V.current.values())vt.stop(),V.current.delete(vt);B.current=0}},onerror:Me=>p(n("mic_error_connection",{message:Me.message})),onclose:()=>{}},config:{responseModalities:[vf.AUDIO],inputAudioTranscription:{},outputAudioTranscription:{},systemInstruction:`You are an AI role-play partner for a salesperson. The salesperson is practicing a pitch. Your role is: ${X.description}. Respond to the salesperson as if you are this person. Be realistic. Ask questions. Make objections. Give the salesperson a challenge. Start the conversation by reacting to the salesperson's opening line. Do not say "Hello, I'm ready to begin." Wait for the salesperson. You MUST respond in ${Re}.`}})}catch{p(n("mic_error")),d(!1)}}},K=()=>{var se,re,$e,ae,Re,Me;d(!1),(se=S.current)==null||se.then(le=>le.close()),S.current=null,(re=M.current)==null||re.getTracks().forEach(le=>le.stop()),($e=I.current)==null||$e.disconnect(),(ae=j.current)==null||ae.disconnect(),(Re=E.current)==null||Re.close(),(Me=A.current)==null||Me.close();for(const le of V.current.values())le.stop();V.current.clear(),B.current=0,_.length>0&&s("feedback")},Q=async se=>{D(!0),P("");const re=_.map(Me=>`${Me.speaker==="user"?n("you"):n("client_ai")}: ${Me.text}`).join(`
`),ae={nl:"Dutch",en:"English",de:"German"}[r]||"Dutch",Re=`
            As an expert sales coach, analyze the following transcript of a role-play.
            The salesperson's original pitch was:
            --- ORIGINAL PITCH ---
            ${a==null?void 0:a.content}
            --- END PITCH ---

            The role-play transcript is:
            --- TRANSCRIPT ---
            ${re}
            --- END TRANSCRIPT ---

            Provide constructive feedback in ${ae} and in Markdown. Assess the following points:
            - **${n("feedback_prompt_title_opening")}:** ${n("feedback_prompt_desc_opening")}
            - **${n("feedback_prompt_title_questioning")}:** ${n("feedback_prompt_desc_questioning")}
            - **${n("feedback_prompt_title_objections")}:** ${n("feedback_prompt_desc_objections")}
            - **${n("feedback_prompt_title_tone")}:** ${n("feedback_prompt_desc_tone")}
            - **${n("feedback_prompt_title_closing")}:** ${n("feedback_prompt_desc_closing")}

            For each point, provide a brief analysis and a concrete point for improvement. The headings in your response MUST be in ${ae}.
        `;try{const Me=await kV.models.generateContent({model:se,contents:Re});P(Me.text||"")}catch{P(n("feedback_error"))}finally{D(!1)}},H=async()=>{if(!(!a||!N)){$(!0);try{const se=_.map(re=>`${re.speaker==="user"?n("you"):n("client_ai")}: ${re.text}`).join(`
`);await e({pitchName:a.name,transcript:se,feedback:N}),q(!0)}catch(se){alert(`Fout bij delen: ${se.message}`)}finally{$(!1)}}},ge=()=>{K(),s("select_pitch"),l(null),Y(null),v([]),P(""),q(!1),$(!1)},Ee=()=>{switch(i){case"select_pitch":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:n("step1_choose_pitch")}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.length>0?t.map(se=>f.jsxs("button",{onClick:()=>fe(se),className:"p-4 rounded-lg text-left bg-brand-secondary hover:bg-brand-border transition-colors",children:[f.jsx("p",{className:"font-semibold truncate",children:se.name}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:new Date(se.createdAt).toLocaleDateString()})]},se.id)):f.jsxs("div",{className:"text-center text-brand-text-secondary py-10 col-span-full",children:[f.jsx(Gd,{className:"mx-auto w-12 h-12 mb-4"}),f.jsx("p",{children:n("pitches_empty_practice")}),f.jsx("p",{children:n("go_to_pitch_generator")})]})})]});case"select_persona":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:n("step2_choose_partner")}),f.jsx("p",{className:"text-brand-text-secondary mb-4",children:n("choose_partner_subtitle")}),f.jsx("div",{className:"space-y-3",children:Object.keys(te).map(se=>{const re=te[se];return f.jsxs("button",{onClick:()=>be(se),className:"w-full text-left p-4 rounded-lg bg-brand-secondary hover:bg-brand-border transition-colors",children:[f.jsx("h3",{className:"font-semibold text-lg text-brand-text-primary",children:re.name}),f.jsx("p",{className:"text-brand-text-secondary",children:re.description})]},se)})}),f.jsx("button",{onClick:()=>s("select_pitch"),className:"mt-6 text-sm text-brand-primary hover:underline",children:n("back_to_pitch_selection")})]});case"practice":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-14rem)] flex flex-col",children:[f.jsxs("h2",{className:"text-2xl font-semibold mb-1 text-brand-text-primary",children:[n("practice_session")," ",X==null?void 0:X.name]}),f.jsxs("p",{className:"text-brand-text-secondary mb-4",children:[n("selected_pitch"),' "',a==null?void 0:a.name,'"']}),f.jsxs("div",{className:"flex-grow bg-brand-secondary rounded-lg p-4 overflow-y-auto mb-4 space-y-4",children:[_.map((se,re)=>f.jsxs("div",{className:`flex items-start gap-3 ${se.speaker==="user"?"justify-end":""}`,children:[se.speaker==="model"&&f.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-primary flex items-center justify-center text-white flex-shrink-0 text-sm font-bold",children:"AI"}),f.jsx("p",{className:`p-3 rounded-lg max-w-lg ${se.speaker==="user"?"bg-brand-primary text-white":"bg-brand-border text-brand-text-primary"}`,children:se.text})]},re)),_.length===0&&f.jsx("p",{className:"text-brand-text-secondary text-center italic mt-4",children:n("waiting_to_start")})]}),h&&f.jsx("p",{className:"text-red-500 mb-4",children:h}),f.jsxs("button",{onClick:u?K:F,className:`w-full py-3 px-6 rounded-lg font-semibold text-white transition-colors flex items-center justify-center ${u?"bg-red-500 hover:bg-red-600":"bg-brand-primary hover:opacity-90"}`,children:[f.jsx(gk,{className:"w-5 h-5 mr-2"}),n(u?"stop_session":"start_session")]}),f.jsx("button",{onClick:ge,className:"mt-2 w-full text-sm text-brand-primary hover:underline",children:n("start_new_session")})]});case"feedback":return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-14rem)] flex flex-col",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-brand-text-primary",children:n("session_complete")}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-grow overflow-hidden",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("transcript")}),f.jsx("div",{className:"flex-grow bg-brand-secondary rounded-lg p-4 overflow-y-auto mb-4 space-y-4",children:_.map((se,re)=>f.jsxs("p",{className:se.speaker==="user"?"text-right":"text-left",children:[f.jsxs("span",{className:`font-bold ${se.speaker==="user"?"text-brand-primary":"text-brand-text-primary"}`,children:[se.speaker==="user"?n("you"):n("client_ai"),":"]})," ",se.text]},re))})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h3",{className:"text-xl font-semibold mb-2",children:n("ai_feedback")}),f.jsx("div",{className:"flex-grow bg-brand-secondary rounded-lg p-4 overflow-y-auto mb-4",children:O?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("p",{className:"text-brand-text-secondary",children:[n("generating_feedback"),"..."]})}):N?f.jsx("div",{className:"prose prose-invert max-w-none text-brand-text-secondary prose-headings:text-brand-text-primary prose-strong:text-brand-text-primary",children:f.jsx(si,{children:N})}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-brand-text-secondary italic",children:n("choose_feedback_type")}),f.jsxs("button",{onClick:()=>Q("gemini-flash-lite-latest"),disabled:O,className:"w-full text-left p-4 rounded-lg bg-brand-surface hover:bg-brand-border transition-colors",children:[f.jsx("h4",{className:"font-semibold text-lg text-brand-text-primary",children:n("fast_scan")}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:n("fast_scan_desc")})]}),f.jsxs("button",{onClick:()=>Q("gemini-2.5-flash"),disabled:O,className:"w-full text-left p-4 rounded-lg bg-brand-surface hover:bg-brand-border transition-colors",children:[f.jsx("h4",{className:"font-semibold text-lg text-brand-text-primary",children:n("deep_analysis")}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:n("deep_analysis_desc")})]})]})}),N&&!O&&f.jsxs("button",{onClick:H,disabled:z||U,className:"bg-green-600/20 text-green-600 font-semibold py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-600 hover:text-white transition-colors disabled:opacity-70",children:[f.jsx(yk,{className:"w-5 h-5 mr-2"}),n(z?"sharing":U?"shared":"share_with_manager")]})]})]}),f.jsx("button",{onClick:ge,className:"mt-4 w-full text-sm text-brand-primary hover:underline",children:n("start_new_session")})]})}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-8",children:[f.jsx(_k,{className:"w-10 h-10 text-brand-primary mr-4"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:n("pitch_practice_title")}),f.jsx("p",{className:"text-brand-text-secondary",children:n("pitch_practice_subtitle")})]})]}),Ee()]})},Vlt=()=>{const{user:t,updateUser:e}=bt(),{t:n}=Xe(),[r,i]=k.useState((t==null?void 0:t.company)||""),[s,a]=k.useState(!1);k.useEffect(()=>{t&&i(t.company)},[t]);const l=async v=>{if(v.preventDefault(),t&&r.trim()!=="")try{await e({company:r}),a(!0),setTimeout(()=>a(!1),3e3)}catch(S){alert(`Fout bij opslaan van instellingen: ${S.message}`)}};if(!t)return f.jsx("div",{children:"Laden..."});const u=t.role==="manager"||t.role==="owner",d=yg(t.industry,t.lang),h="w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition-all",p="w-full bg-brand-border/50 border border-brand-border rounded-lg px-4 py-3 text-brand-text-secondary cursor-not-allowed",_="block text-sm font-medium text-brand-text-secondary mb-2";return f.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold mb-8",children:n("settings_title")}),f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:f.jsxs("form",{onSubmit:l,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:_,children:n("your_name")}),f.jsx("input",{id:"name",type:"text",value:t.name,disabled:!0,className:p})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:_,children:n("email_address")}),f.jsx("input",{id:"email",type:"email",value:t.email,disabled:!0,className:p})]}),!u&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"company",className:_,children:n("company_name")}),f.jsx("select",{id:"company",value:r,onChange:v=>i(v.target.value),required:!0,className:h,children:d.map(v=>f.jsx("option",{value:v,children:v},v))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"industry",className:_,children:n("industry")}),f.jsx("input",{id:"industry",type:"text",value:t.industry==="telecom"?"Telecom":"Energie",disabled:!0,className:p})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"salesChannel",className:_,children:n("sales_channel")}),f.jsx("input",{id:"salesChannel",type:"text",value:t.salesChannel,disabled:!0,className:p})]})]}),f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg flex items-start text-brand-text-secondary text-sm",children:[f.jsx(w5,{className:"w-5 h-5 mr-3 mt-0.5 flex-shrink-0"}),f.jsx("div",{children:n(u?"settings_info_manager":"settings_info_salesperson")})]}),!u&&f.jsxs("div",{className:"flex justify-end items-center pt-4",children:[s&&f.jsx("p",{className:"text-green-500 mr-4 animate-fade-in",children:n("changes_saved")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-bold py-2 px-6 rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",disabled:r===t.company||r.trim()==="",children:n("save")})]})]})})]})},Ult=()=>{const{user:t,updateUser:e,changePassword:n}=bt(),{t:r}=Xe(),[i,s]=k.useState((t==null?void 0:t.name)||""),[a,l]=k.useState((t==null?void 0:t.profilePicture)||""),[u,d]=k.useState(!1),[h,p]=k.useState(!1),[_,v]=k.useState(""),[S,E]=k.useState(""),[A,I]=k.useState(""),[j,M]=k.useState(""),[B,V]=k.useState(!1),N=k.useRef(null),P=async U=>{var te;const q=(te=U.target.files)==null?void 0:te[0];if(q&&t){p(!0);const ee=ree(lee,`profilePictures/${t.email}`);try{const Y=await tee(ee,q),X=await nee(Y.ref);l(X),await e({profilePicture:X})}catch(Y){console.error("Error uploading file:",Y),alert("Fout bij het uploaden van de afbeelding.")}finally{p(!1)}}},O=async U=>{U.preventDefault();try{t&&i.trim()!==""&&(await e({name:i}),d(!0),setTimeout(()=>d(!1),3e3))}catch(q){alert(`Fout bij opslaan: ${q.message}`)}},D=async U=>{if(U.preventDefault(),I(""),M(""),_.length<6){I(r("password_length_error"));return}if(_!==S){I(r("password_mismatch_error"));return}V(!0);try{await n(_),M(r("password_change_success")),v(""),E(""),setTimeout(()=>M(""),4e3)}catch(q){console.error(q),q.code==="auth/requires-recent-login"?I(r("password_change_error_reauth")):I(r("password_change_error_generic"))}finally{V(!1)}};if(!t)return f.jsx("div",{children:"Laden..."});const z="w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition-all",$="block text-sm font-medium text-brand-text-secondary mb-2";return f.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold mb-8",children:r("profile_title")}),f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg mb-8",children:f.jsxs("form",{onSubmit:O,className:"space-y-6",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsxs("div",{className:"relative",children:[a?f.jsx("img",{src:a,alt:r("profile_title"),className:"w-32 h-32 rounded-full object-cover"}):f.jsx(Ts,{className:"w-32 h-32 text-brand-text-secondary"}),f.jsx("button",{type:"button",onClick:()=>{var U;return(U=N.current)==null?void 0:U.click()},className:"absolute bottom-1 right-1 bg-brand-primary text-white rounded-full hover:opacity-90 transition-opacity disabled:opacity-50 grid place-items-center w-10 h-10","aria-label":r("upload_profile_picture"),disabled:h,children:h?f.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Bee,{className:"w-5 h-5"})}),f.jsx("input",{type:"file",ref:N,onChange:P,className:"hidden",accept:"image/png, image/jpeg"})]})}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:$,children:r("your_name")}),f.jsx("input",{id:"name",type:"text",value:i,onChange:U=>s(U.target.value),className:z})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:$,children:r("email_address")}),f.jsx("input",{id:"email",type:"email",value:t.email,disabled:!0,className:`${z} cursor-not-allowed bg-brand-border/50`})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"role",className:$,children:r("role")}),f.jsx("input",{id:"role",type:"text",value:t.role,disabled:!0,className:`${z} cursor-not-allowed bg-brand-border/50 capitalize`})]}),f.jsxs("div",{className:"flex justify-end items-center pt-4",children:[u&&f.jsx("p",{className:"text-green-500 mr-4 animate-fade-in",children:r("profile_saved")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-bold py-2 px-6 rounded-lg hover:opacity-90 transition-opacity",children:r("save")})]})]})}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4 text-brand-text-primary",children:r("security")}),f.jsxs("form",{onSubmit:D,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"new-password",className:$,children:r("new_password")}),f.jsx("input",{id:"new-password",type:"password",value:_,onChange:U=>v(U.target.value),placeholder:r("new_password_placeholder"),className:z})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirm-password",className:$,children:r("confirm_password")}),f.jsx("input",{id:"confirm-password",type:"password",value:S,onChange:U=>E(U.target.value),placeholder:r("confirm_password_placeholder"),className:z})]}),A&&f.jsx("p",{className:"text-red-500 text-sm",children:A}),j&&f.jsx("p",{className:"text-green-500 text-sm",children:j}),f.jsx("div",{className:"flex justify-end items-center pt-2",children:f.jsx("button",{type:"submit",disabled:B||!_||!S,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors disabled:opacity-50",children:r(B?"changing_password":"change_password")})})]})]})]})},zlt=({isOpen:t,onClose:e})=>{const{addKnowledgeBasePost:n}=bt(),{t:r}=Xe(),[i,s]=k.useState(""),[a,l]=k.useState(""),[u,d]=k.useState(!1),[h,p]=k.useState("");k.useEffect(()=>{t&&(s(""),l(""),p(""))},[t]);const _=async E=>{if(E.preventDefault(),!i||!a){p(r("error_title_content_required"));return}d(!0),p("");try{await n(i,a),e()}catch(A){p(A.message||"Kon bericht niet publiceren.")}finally{d(!1)}};if(!t)return null;const v="w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",S="block text-sm font-medium text-brand-text-secondary mb-1";return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:e,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-2xl m-4",onClick:E=>E.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:r("modal_add_kb_post_title")}),f.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"title",className:S,children:r("title_subject")}),f.jsx("input",{type:"text",id:"title",value:i,onChange:E=>s(E.target.value),required:!0,className:v})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"content",className:S,children:r("content_message")}),f.jsx("textarea",{id:"content",value:a,onChange:E=>l(E.target.value),rows:8,required:!0,className:`${v} resize-y`})]}),h&&f.jsx("p",{className:"text-red-500 text-sm",children:h}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-brand-border text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:opacity-80 transition-opacity",children:r("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",disabled:u,children:r(u?"publishing":"publish")})]})]})]})})},Blt=()=>{const{user:t,allUsers:e,knowledgeBasePitches:n,deleteKnowledgeBasePost:r}=bt(),{t:i}=Xe(),[s,a]=k.useState(null),[l,u]=k.useState(!1),[d,h]=k.useState("__ALL__"),p=(t==null?void 0:t.role)==="owner",_=(t==null?void 0:t.role)==="manager",v=_||p,S=k.useMemo(()=>{if(!p)return[];const N=new Set(e.map(P=>P.branchName).filter(P=>P&&P!==(t==null?void 0:t.companyName)));return Array.from(N).sort()},[e,p,t==null?void 0:t.companyName]),E=k.useMemo(()=>t?p?d==="__ALL__"?n:d==="__ORGANIZATION__"?n.filter(N=>N.branchName==="__ORGANIZATION__"):n.filter(N=>N.branchName===d):_?n.filter(N=>N.branchName===t.branchName||N.branchName==="__ORGANIZATION__"):n.filter(N=>N.branchName===t.branchName):[],[n,t,p,_,d]);k.useEffect(()=>{!s&&E.length>0&&a(E[0]),s&&!E.find(N=>N.id===s.id)&&a(E.length>0?E[0]:null)},[E,s]);const A=k.useMemo(()=>{if(!s)return{isStructured:!1,content:""};const{content:N,note:P}=s,O=P.includes("Concurrentieanalyse")||P.includes("Inzicht over concurrent")||P.includes("Mededeling van"),D=N.includes("### 1. Strategisch Buurtadvies")&&N.includes("### 2. Advies:")&&N.includes("### 3. De Pitch op Maat")&&N.includes("### 4. Meest Waarschijnlijke Bezwaren");if(!O&&D){const z=N.match(/### 1\. Strategisch Buurtadvies\n([\s\S]*?)(?=### 2\.|$)/),$=N.match(/### 2\. Advies:[\s\S]*?\n([\s\S]*?)(?=### 3\.|$)/),U=N.match(/### 3\. De Pitch op Maat[\s\S]*?\n([\s\S]*?)(?=### 4\.|$)/),q=N.match(/### 4\. Meest Waarschijnlijke Bezwaren[\s\S]*?\n([\s\S]*?)(?=$)/);return{isStructured:!0,buurtadvies:z?z[1].trim():"",toonadvies:$?$[1].trim():"",pitchContent:U?U[1].trim():"",bezwaren:q?q[1].trim():"",content:""}}return{isStructured:!1,content:N}},[s]),I=N=>{a(N)},j=async N=>{if(window.confirm(i("delete_confirm")))try{await r(N)}catch(P){alert(`Fout bij verwijderen: ${P.message}`)}},M=i(p?"kb_title_owner":_?"kb_title_manager":"kb_title_team"),B=i(p?"kb_subtitle_owner":_?"kb_subtitle_manager":"kb_subtitle_team"),V=(s==null?void 0:s.note.includes("Mededeling van de manager"))||(s==null?void 0:s.note.includes("Mededeling van de directie"));return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-8",children:[f.jsxs("div",{className:"flex items-start mb-4 sm:mb-0",children:[f.jsx(up,{className:"w-10 h-10 text-brand-primary mr-4 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:M}),f.jsx("p",{className:"text-lg text-brand-text-secondary",children:B})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[p&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"branchFilter",className:"sr-only",children:i("filter_by_branch")}),f.jsxs("select",{id:"branchFilter",value:d,onChange:N=>h(N.target.value),className:"bg-brand-secondary border border-brand-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none h-10",children:[f.jsx("option",{value:"__ALL__",children:i("all_branches")}),f.jsx("option",{value:"__ORGANIZATION__",children:i("org_wide_announcements")}),S.map(N=>f.jsx("option",{value:N,children:N},N))]})]}),v&&f.jsxs("button",{onClick:()=>u(!0),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity h-10",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),i("new_post")]})]})]}),E.length>0?f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1 bg-brand-surface rounded-xl p-4 shadow-lg h-[calc(100vh-14rem)] flex flex-col",children:f.jsx("div",{className:"overflow-y-auto",children:E.map(N=>{const P=N.branchName==="__ORGANIZATION__";return f.jsxs("div",{onClick:()=>I(N),className:`p-4 rounded-lg cursor-pointer mb-2 transition-colors ${(s==null?void 0:s.id)===N.id?"bg-brand-primary text-white":"bg-brand-secondary hover:bg-brand-border"}`,children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx(yf,{className:`w-5 h-5 mr-2 ${(s==null?void 0:s.id)===N.id?"text-yellow-300":P?"text-purple-400":"text-yellow-500"}`}),f.jsx("p",{className:"font-semibold truncate",children:N.name})]}),f.jsxs("p",{className:`text-sm ${(s==null?void 0:s.id)===N.id?"text-gray-200":"text-brand-text-secondary"}`,children:[P&&_?`${i("kb_from_org")} `:"",i("posted_by")," ",N.promotedBy]})]},N.id)})})}),f.jsx("div",{className:"md:col-span-2 bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-14rem)] overflow-y-auto",children:s?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h2",{className:"text-3xl font-bold",children:s.name}),v&&f.jsx("button",{onClick:()=>j(s.id),className:"bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500 hover:text-white transition-colors grid place-items-center w-8 h-8 flex-shrink-0 ml-4",title:i("delete"),children:f.jsx(Va,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg border border-brand-border",children:[f.jsxs("p",{className:"font-semibold text-brand-text-primary",children:[i(V?"posted_by":"note_from")," ",s.promotedBy,":"]}),f.jsxs("p",{className:"text-brand-text-secondary italic",children:['"',s.note,'"']})]}),A.isStructured?f.jsxs("div",{className:"space-y-3 pt-4 border-t border-brand-border",children:[f.jsx(ys,{title:i("strat_buurtadvies"),icon:f.jsx(S5,{}),defaultOpen:!0,children:A.buurtadvies}),f.jsx(ys,{title:i("strat_toonadvies"),icon:f.jsx(LE,{}),children:A.toonadvies}),f.jsx(ys,{title:i("strat_pitch"),icon:f.jsx(mk,{}),children:A.pitchContent}),f.jsx(ys,{title:i("strat_bezwaren"),icon:f.jsx(T5,{}),children:A.bezwaren})]}):f.jsx("div",{className:"pt-4 border-t border-brand-border prose max-w-none",children:f.jsx(si,{children:A.content})})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-brand-text-secondary text-center",children:[f.jsx(yf,{className:"w-16 h-16 mb-4 text-yellow-500"}),f.jsx("p",{className:"font-semibold text-lg",children:i("select_post_title")}),f.jsx("p",{children:i("select_post_subtitle")})]})})]}):f.jsxs("div",{className:"text-center text-brand-text-secondary py-16 bg-brand-surface rounded-xl shadow-lg",children:[f.jsx(up,{className:"mx-auto w-16 h-16 mb-4"}),f.jsx("h2",{className:"text-2xl font-semibold text-brand-text-primary",children:i("kb_empty_title")}),f.jsx("p",{className:"max-w-md mx-auto mt-2",children:i("kb_empty_subtitle")})]})]}),f.jsx(zlt,{isOpen:l,onClose:()=>u(!1)})]})},Flt=()=>{var X,fe,be,F;const{user:t,competitorNotes:e,addCompetitorNote:n,updateCompetitorNote:r,deleteCompetitorNote:i,addContentToKB:s}=bt(),{t:a}=Xe(),[l,u]=k.useState(null),[d,h]=k.useState({}),[p,_]=k.useState(!1),[v,S]=k.useState(""),[E,A]=k.useState((t==null?void 0:t.industry)==="beide"?"":(t==null?void 0:t.industry)||""),[I,j]=k.useState(!1),[M,B]=k.useState(!1),V={competitor:"",notes:"",usps:"",telecom_packageType:void 0,telecom_internetSpeed:"",telecom_monthlyPrice:"",telecom_tvDetails:"",telecom_phoneDetails:"",energy_powerRate:"",energy_powerRateLow:"",energy_gasRate:"",energy_contractDuration:void 0,energy_rateType:void 0},N=k.useMemo(()=>t?t.role==="manager"||t.role==="owner"||t.industry==="beide"?e:e.filter(Q=>Q.industry===t.industry):[],[e,t]);if(k.useEffect(()=>{l?(h(l),(t==null?void 0:t.industry)==="beide"&&l.industry!=="beide"&&A(l.industry)):(h(V),(t==null?void 0:t.industry)!=="beide"?A(t.industry):A(""))},[l,t==null?void 0:t.industry]),!t)return null;const P=t&&["manager","team-leader","leader"].includes(t.role),O=E?yg(E,t.lang):[],D=K=>{h(Q=>({...Q,[K.target.name]:K.target.value}))},z=K=>{u(K),j(!1),B(!1)},$=()=>{u(null)},U=async K=>{if(K.preventDefault(),_(!0),S(""),!d.competitor||!E){S(a("error_select_competitor")),_(!1);return}try{if(l){const Q={...d,industry:E};await r(Q)}else{const Q={...V,...d,competitor:d.competitor,industry:E};await n(Q)}$()}catch(Q){S(Q.message||"Er is een fout opgetreden.")}finally{_(!1)}},q=async K=>{if(window.confirm(a("delete_note_confirm")))try{await i(K),(l==null?void 0:l.id)===K&&$()}catch(Q){alert(Q.message)}},te=async()=>{if(!l||!t)return;const K=prompt(a("kb_note_title_prompt"));if(K){j(!0),B(!1);try{let Q=`
# ${a("kb_note_title")}: ${l.competitor}

**${a("industry")}:** ${l.industry}
**${a("author")}:** ${l.authorName}
**${a("date")}:** ${new Date(l.createdAt).toLocaleDateString()}

---

## ${a("usps")}
${l.usps||a("none")}

## ${a("general_notes")}
${l.notes||a("none")}

---
`;l.industry==="telecom"&&(Q+=`
## ${a("telecom_details")}
- **${a("package_type")}:** ${l.telecom_packageType||"-"}
- **${a("monthly_price_eur")}:** ${l.telecom_monthlyPrice||"-"}
- **${a("internet_speed_mbps")}:** ${l.telecom_internetSpeed||"-"}
- **${a("tv_details")}:** ${l.telecom_tvDetails||"-"}
- **${a("phone_details")}:** ${l.telecom_phoneDetails||"-"}
`),l.industry==="energy"&&(Q+=`
## ${a("energy_details")}
- **${a("contract_duration")}:** ${l.energy_contractDuration||"-"}
- **${a("rate_type")}:** ${l.energy_rateType||"-"}
- **${a("power_rate")}:** ${l.energy_powerRate||"-"}
- **${a("power_rate_offpeak")}:** ${l.energy_powerRateLow||"-"}
- **${a("gas_rate")}:** ${l.energy_gasRate||"-"}
`),await s({title:`${a("kb_note_title")} - ${K}`,content:Q,note:`${a("kb_note_note_prefix")} ${l.competitor}`}),B(!0),setTimeout(()=>B(!1),3e3)}catch(Q){console.error(Q),alert(a("kb_save_error"))}finally{j(!1)}}},ee="w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",Y="block text-sm font-medium text-brand-text-secondary mb-1";return f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-start mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:a("compa_notes_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:a("compa_notes_subtitle")})]}),f.jsxs("button",{onClick:$,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity flex-shrink-0",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),a("new_note")]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1 bg-brand-surface rounded-xl p-4 shadow-lg h-[calc(100vh-12rem)] flex flex-col",children:f.jsx("div",{className:"overflow-y-auto",children:N.length>0?N.map(K=>f.jsxs("div",{onClick:()=>z(K),className:`p-4 rounded-lg cursor-pointer mb-2 transition-colors ${(l==null?void 0:l.id)===K.id?"bg-brand-primary text-white":"bg-brand-secondary hover:bg-brand-border"}`,children:[f.jsx("p",{className:"font-semibold",children:K.competitor}),f.jsx("p",{className:`text-xs ${(l==null?void 0:l.id)===K.id?"text-gray-200":"text-brand-text-secondary"}`,children:a("note_by",{authorName:K.authorName,date:new Date(K.createdAt).toLocaleDateString()})})]},K.id)):f.jsxs("div",{className:"text-center text-brand-text-secondary py-10",children:[f.jsx(dp,{className:"w-12 h-12 mx-auto mb-4"}),f.jsx("p",{className:"font-semibold",children:a("no_notes_yet")})]})})}),f.jsxs("div",{className:"md:col-span-2 bg-brand-surface rounded-xl p-6 shadow-lg h-[calc(100vh-12rem)] overflow-y-auto",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:a(l?"modal_edit_note":"modal_new_note")}),f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[t.industry==="beide"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"industrySelection",className:Y,children:a("select_industry")}),f.jsxs("select",{id:"industrySelection",name:"industrySelection",value:E,onChange:K=>{A(K.target.value),h(Q=>({...Q,competitor:""}))},required:!0,className:ee,children:[f.jsx("option",{value:"",disabled:!0,children:a("select_industry")}),f.jsx("option",{value:"telecom",children:a("industry_telecom")}),f.jsx("option",{value:"energy",children:a("industry_energy")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"competitor",className:Y,children:a("competitor")}),f.jsxs("select",{id:"competitor",name:"competitor",value:d.competitor||"",onChange:D,required:!0,className:ee,disabled:!E,children:[f.jsx("option",{value:"",disabled:!0,children:a("select_competitor")}),O.map(K=>f.jsx("option",{value:K,children:K},K))]})]}),E==="telecom"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telecom_packageType",className:Y,children:a("package_type")}),f.jsxs("select",{id:"telecom_packageType",name:"telecom_packageType",value:d.telecom_packageType||"",onChange:D,className:ee,children:[f.jsx("option",{value:"",disabled:!0,children:a("select_package")}),f.jsx("option",{value:"internet",children:a("package_internet_only")}),f.jsx("option",{value:"tv",children:a("package_tv_only")}),f.jsx("option",{value:"telefonie",children:a("package_phone_only")}),f.jsx("option",{value:"internet_tv",children:a("package_internet_tv")}),f.jsx("option",{value:"internet_telefonie",children:a("package_internet_phone")}),f.jsx("option",{value:"alles_in_1",children:a("package_all_in_1")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telecom_monthlyPrice",className:Y,children:a("monthly_price_eur")}),f.jsx("input",{type:"text",name:"telecom_monthlyPrice",id:"telecom_monthlyPrice",value:d.telecom_monthlyPrice||"",onChange:D,className:ee})]})]}),((X=d.telecom_packageType)==null?void 0:X.includes("internet"))&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telecom_internetSpeed",className:Y,children:a("internet_speed_mbps")}),f.jsx("input",{type:"text",name:"telecom_internetSpeed",id:"telecom_internetSpeed",value:d.telecom_internetSpeed||"",onChange:D,className:ee})]}),((fe=d.telecom_packageType)==null?void 0:fe.includes("tv"))&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telecom_tvDetails",className:Y,children:a("tv_details")}),f.jsx("input",{type:"text",name:"telecom_tvDetails",id:"telecom_tvDetails",placeholder:a("tv_details_placeholder"),value:d.telecom_tvDetails||"",onChange:D,className:ee})]}),((be=d.telecom_packageType)==null?void 0:be.includes("telefonie"))&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telecom_phoneDetails",className:Y,children:a("phone_details")}),f.jsx("input",{type:"text",name:"telecom_phoneDetails",id:"telecom_phoneDetails",placeholder:a("phone_details_placeholder"),value:d.telecom_phoneDetails||"",onChange:D,className:ee})]})]}),E==="energy"&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"energy_contractDuration",className:Y,children:a("contract_duration")}),f.jsxs("select",{id:"energy_contractDuration",name:"energy_contractDuration",value:d.energy_contractDuration||"",onChange:D,className:ee,children:[f.jsx("option",{value:"",disabled:!0,children:a("select_duration")}),f.jsx("option",{value:"1 jaar",children:a("duration_1_year")}),f.jsx("option",{value:"3 jaar",children:a("duration_3_year")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"energy_rateType",className:Y,children:a("rate_type")}),f.jsxs("select",{id:"energy_rateType",name:"energy_rateType",value:d.energy_rateType||"",onChange:D,className:ee,children:[f.jsx("option",{value:"",disabled:!0,children:a("select_rate_type")}),f.jsx("option",{value:"enkel",children:a("rate_type_single")}),f.jsx("option",{value:"dubbel",children:a("rate_type_double")})]})]}),d.energy_rateType==="dubbel"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"energy_powerRate",className:Y,children:a("power_rate_peak")}),f.jsx("input",{type:"text",name:"energy_powerRate",id:"energy_powerRate",value:d.energy_powerRate||"",onChange:D,className:ee})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"energy_powerRateLow",className:Y,children:a("power_rate_offpeak")}),f.jsx("input",{type:"text",name:"energy_powerRateLow",id:"energy_powerRateLow",value:d.energy_powerRateLow||"",onChange:D,className:ee})]})]}):f.jsxs("div",{children:[f.jsx("label",{htmlFor:"energy_powerRate",className:Y,children:a("power_rate")}),f.jsx("input",{type:"text",name:"energy_powerRate",id:"energy_powerRate",value:d.energy_powerRate||"",onChange:D,className:ee})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"energy_gasRate",className:Y,children:a("gas_rate")}),f.jsx("input",{type:"text",name:"energy_gasRate",id:"energy_gasRate",value:d.energy_gasRate||"",onChange:D,className:ee})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"usps",className:Y,children:a("usps")}),f.jsx("textarea",{name:"usps",id:"usps",value:d.usps||"",onChange:D,rows:3,className:`${ee} resize-y`})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"notes",className:Y,children:a("general_notes")}),f.jsx("textarea",{name:"notes",id:"notes",value:d.notes||"",onChange:D,rows:4,className:`${ee} resize-y`})]}),v&&f.jsx("p",{className:"text-red-500 text-sm",children:v}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[f.jsx("div",{children:l&&(t.role==="owner"||t.role==="manager"||t.role==="leader"||t.role==="team-leader"||l.authorId===((F=St.currentUser)==null?void 0:F.uid))&&f.jsxs("button",{type:"button",onClick:()=>q(l.id),className:"text-red-500 font-semibold py-2 px-4 rounded-lg hover:bg-red-500/10 transition-colors flex items-center",children:[f.jsx(Va,{className:"w-5 h-5 mr-2"}),a("delete")]})}),f.jsxs("div",{className:"flex space-x-4 items-center",children:[l&&P&&f.jsxs("button",{type:"button",onClick:te,disabled:I,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-brand-border transition-colors disabled:opacity-50",children:[f.jsx(up,{className:"w-5 h-5 mr-2"}),a(I?"sharing":M?"shared":"share_note_to_kb")]}),f.jsx("button",{type:"button",onClick:$,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:a("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",disabled:p,children:a(p?"saving":"save")})]})]})]})]})]})]})},qlt=()=>{const{login:t,resetPassword:e}=bt(),{t:n}=Xe(),[r,i]=k.useState(null),[s,a]=k.useState(!1),[l,u]=k.useState(""),[d,h]=k.useState(""),[p,_]=k.useState(""),v=async I=>{I.preventDefault(),i(null),u(""),a(!0);try{await t(d,p)}catch(j){j.name==="PendingApproval"?i(n("login_error_pending")):j.code==="auth/invalid-credential"||j.code==="auth/user-not-found"||j.code==="auth/wrong-password"?i(n("login_error_credentials")):i(n("login_error_generic"))}finally{a(!1)}},S=async()=>{if(!d){i(n("error_email_format"));return}i(null),u(""),a(!0);try{await e(d),u(n("password_reset_sent"))}catch(I){I.code==="auth/user-not-found"?i(n("password_reset_not_found")):i(n("password_reset_error"))}finally{a(!1)}},E="w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition-all",A="block text-sm font-medium text-brand-text-secondary mb-2";return f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-background p-4",children:f.jsxs("div",{className:"w-full max-w-lg mx-auto bg-brand-surface rounded-2xl shadow-2xl p-4 sm:p-8 animate-fade-in",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("a",{href:"/#/",children:f.jsx("img",{src:"https://i.imgur.com/moW461j.png",alt:"Bedrijfslogo",className:"w-40 h-auto mx-auto"})}),f.jsx("h1",{className:"text-3xl font-bold text-brand-text-primary mt-4",children:n("login_welcome_back")}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:n("login_subtitle")})]}),f.jsxs("form",{onSubmit:v,className:"space-y-6 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email-login",className:A,children:n("email_address")}),f.jsx("input",{id:"email-login",type:"email",value:d,onChange:I=>h(I.target.value),required:!0,className:E})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("label",{htmlFor:"password-login",className:A,children:n("password")}),f.jsx("button",{type:"button",onClick:S,className:"text-sm text-brand-primary hover:underline",children:n("forgot_password")})]}),f.jsx("input",{id:"password-login",type:"password",value:p,onChange:I=>_(I.target.value),required:!0,className:E})]}),r&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:r}),l&&f.jsx("p",{className:"text-green-500 text-sm text-center",children:l}),f.jsx("div",{className:"pt-2",children:f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:n(s?"logging_in":"login")})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("a",{href:"/#/register",className:"text-sm text-brand-primary hover:underline",children:[n("no_account_yet")," ",n("register_company")]})}),f.jsxs("div",{className:"mt-8 border-t border-brand-border pt-4 text-center text-xs text-brand-text-secondary",children:[f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("a",{href:"/#/privacy",className:"hover:text-brand-primary transition-colors",children:"Privacybeleid"}),f.jsx("a",{href:"/#/terms",className:"hover:text-brand-primary transition-colors",children:"Algemene Voorwaarden"}),f.jsx("a",{href:"/#/contact",className:"hover:text-brand-primary transition-colors",children:"Contact"})]}),f.jsxs("p",{className:"mt-2",children:[" ",new Date().getFullYear()," SalExplosive. Alle rechten voorbehouden."]})]})]})})},Qf=()=>{const{t,language:e,setLanguage:n}=Xe(),[r,i]=k.useState(window.location.hash||"#/"),[s,a]=k.useState(!1),[l,u]=k.useState(!1),d=k.useRef(null),h=k.useRef(null),p=[{href:"/#/services",labelKey:"public_nav_rates"},{href:"/#/about",labelKey:"public_nav_about"},{href:"/#/contact",labelKey:"public_nav_contact"}],_={nl:{name:"Nederlands",flag:""},en:{name:"English",flag:""},de:{name:"Deutsch",flag:""}};k.useEffect(()=>{const S=()=>{i(window.location.hash||"#/"),u(!1)};window.addEventListener("hashchange",S);const E=A=>{d.current&&!d.current.contains(A.target)&&a(!1),h.current&&!h.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>{window.removeEventListener("hashchange",S),document.removeEventListener("mousedown",E)}},[]);const v=S=>{n(S),a(!1)};return f.jsxs("header",{ref:h,className:"bg-brand-surface/80 backdrop-blur-sm sticky top-0 w-full z-20 border-b border-brand-border",children:[f.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"relative flex items-center justify-between h-20",children:[f.jsx("div",{className:"flex-1 flex justify-start",children:f.jsx("a",{href:"/#/",className:"hidden lg:block",children:f.jsx("img",{className:"h-28 w-auto",src:"https://i.imgur.com/moW461j.png",alt:"SalExplosive Logo"})})}),f.jsxs("div",{className:"flex-shrink-0 lg:absolute lg:left-1/2 lg:-translate-x-1/2",children:[f.jsx("a",{href:"/#/",className:"lg:hidden",children:f.jsx("img",{className:"h-28 w-auto",src:"https://i.imgur.com/moW461j.png",alt:"SalExplosive Logo"})}),f.jsx("div",{className:"hidden lg:flex lg:items-center lg:space-x-8",children:p.map(S=>{const E=r===S.href.substring(1);return f.jsx("a",{href:S.href,className:`font-medium transition-colors ${E?"text-brand-primary":"text-brand-text-secondary hover:text-brand-primary"}`,children:t(S.labelKey)},S.href)})})]}),f.jsxs("div",{className:"flex-1 flex justify-end",children:[f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsx("a",{href:"/#/login",className:"text-brand-text-secondary font-medium hover:text-brand-primary transition-colors",children:t("public_nav_login")}),f.jsx("a",{href:"/#/register",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",children:t("public_nav_register")}),f.jsxs("div",{className:"relative",ref:d,children:[f.jsx("button",{onClick:()=>a(S=>!S),className:"flex items-center p-2 rounded-md hover:bg-brand-secondary",children:f.jsx("span",{children:_[e].flag})}),s&&f.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-brand-surface rounded-md shadow-lg border border-brand-border animate-fade-in-fast",children:Object.entries(_).map(([S,{name:E,flag:A}])=>f.jsxs("button",{onClick:()=>v(S),className:`w-full text-left px-4 py-2 text-sm flex items-center hover:bg-brand-secondary ${e===S?"font-bold text-brand-primary":"text-brand-text-primary"}`,children:[f.jsx("span",{className:"mr-3",children:A}),E]},S))})]})]}),f.jsx("div",{className:"lg:hidden",children:f.jsx("button",{onClick:()=>u(!l),className:"p-2 rounded-md text-brand-text-secondary hover:text-brand-primary hover:bg-brand-secondary",children:l?f.jsx(Dee,{className:"h-6 w-6"}):f.jsx(x5,{className:"h-6 w-6"})})})]})]})}),l&&f.jsxs("div",{className:"lg:hidden bg-brand-surface border-t border-brand-border absolute w-full shadow-lg animate-fade-in-fast",children:[f.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:p.map(S=>{const E=r===S.href.substring(1);return f.jsx("a",{href:S.href,className:`block px-3 py-2 rounded-md text-base font-medium ${E?"bg-brand-primary text-white":"text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-primary"}`,children:t(S.labelKey)},S.href)})}),f.jsxs("div",{className:"pt-4 pb-3 border-t border-brand-border px-5 space-y-3",children:[f.jsx("a",{href:"/#/register",className:"block w-full text-center bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",children:t("public_nav_register")}),f.jsx("a",{href:"/#/login",className:"block w-full text-center text-brand-text-secondary font-medium hover:text-brand-primary transition-colors py-2",children:t("public_nav_login")}),f.jsx("div",{className:"flex justify-center pt-2",children:Object.entries(_).map(([S,{flag:E}])=>f.jsx("button",{onClick:()=>v(S),className:`px-3 py-1 rounded-md text-2xl ${e===S?"bg-brand-secondary":""}`,children:E},S))})]})]})]})},vg=()=>{const{t}=Xe();return f.jsx("footer",{className:"bg-brand-secondary/80 backdrop-blur-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-y-4 md:gap-x-4",children:[f.jsx("p",{className:"text-center text-base text-brand-text-secondary",children:t("footer_copyright",{year:new Date().getFullYear()})}),f.jsxs("div",{className:"hidden md:flex items-center gap-x-4",children:[f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/services",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_services")}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/about",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_about")}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/contact",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_contact")}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/privacy",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_privacy")}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/terms",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_terms")})]}),f.jsxs("div",{className:"flex md:hidden flex-wrap justify-center gap-x-4 gap-y-2",children:[f.jsx("a",{href:"/#/services",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_services")}),f.jsx("a",{href:"/#/about",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_about")}),f.jsx("a",{href:"/#/contact",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_contact")}),f.jsx("a",{href:"/#/privacy",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_privacy")}),f.jsx("a",{href:"/#/terms",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_terms")})]})]})})})},Glt=()=>{const{t}=Xe(),e=[{nameKey:"feature_pitch_generator_name",descriptionKey:"feature_pitch_generator_desc",icon:Yr},{nameKey:"feature_crm_name",descriptionKey:"feature_crm_desc",icon:_v},{nameKey:"feature_compa_name",descriptionKey:"feature_compa_desc",icon:pk},{nameKey:"feature_gamification_name",descriptionKey:"feature_gamification_desc",icon:v5},{nameKey:"feature_management_name",descriptionKey:"feature_management_desc",icon:Ql},{nameKey:"feature_ai_name",descriptionKey:"feature_ai_desc",icon:Yr}];return f.jsxs("div",{className:"text-brand-text-primary min-h-screen isolate flex flex-col",children:[f.jsxs("div",{"aria-hidden":"true",className:"fixed inset-0 -z-10 overflow-hidden blur-3xl opacity-90 dark:opacity-70",children:[f.jsx("div",{className:"absolute top-[-10rem] left-[-20rem] w-[50rem] h-[50rem] rounded-full bg-purple-400/80"}),f.jsx("div",{className:"absolute bottom-[-15rem] right-[-15rem] w-[50rem] h-[50rem] rounded-full bg-brand-primary/60"}),f.jsx("div",{className:"absolute bottom-[5rem] left-[15rem] w-[30rem] h-[30rem] rounded-full bg-green-400/40"})]}),f.jsx(Qf,{}),f.jsxs("main",{className:"pt-20 flex-grow",children:[f.jsx("div",{className:"relative",children:f.jsx("div",{className:"relative max-w-7xl mx-auto py-24 sm:py-32 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[f.jsxs("div",{className:"text-center lg:text-left",children:[f.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-brand-text-primary",dangerouslySetInnerHTML:{__html:t("landing_hero_title")}}),f.jsx("p",{className:"mt-6 max-w-2xl mx-auto lg:mx-0 text-lg text-brand-text-secondary",children:t("landing_hero_subtitle")}),f.jsxs("div",{className:"mt-8",children:[f.jsx("a",{href:"/#/register",className:"bg-brand-primary text-white font-bold py-3 px-8 rounded-full text-lg hover:opacity-90 transition-opacity transform hover:scale-105 inline-block",children:t("landing_hero_cta")}),f.jsx("p",{className:"mt-4 text-sm text-brand-text-secondary",children:t("landing_hero_trial")})]})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx("img",{src:"https://i.imgur.com/g9KhwMg.png",alt:"Sales Copilot App Mockup",className:"max-w-sm w-full h-auto rounded-2xl shadow-2xl transform lg:rotate-3"})})]})})}),f.jsx("div",{className:"py-24 sm:py-32",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"bg-brand-surface/50 backdrop-blur-lg p-8 sm:p-12 rounded-2xl border border-brand-border/50 shadow-xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-base font-semibold text-brand-primary tracking-wider uppercase",children:t("landing_features_supertitle")}),f.jsx("p",{className:"mt-2 text-3xl font-extrabold text-brand-text-primary tracking-tight sm:text-4xl",children:t("landing_features_title")}),f.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-brand-text-secondary",children:t("landing_features_subtitle")})]}),f.jsx("div",{className:"mt-20",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(n=>f.jsxs("div",{className:"bg-brand-surface/70 p-6 rounded-xl shadow-lg border border-brand-border/50 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[f.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-lg bg-brand-primary text-white mb-4",children:f.jsx(n.icon,{className:"h-6 w-6","aria-hidden":"true"})}),f.jsx("h3",{className:"text-lg leading-6 font-bold text-brand-text-primary",children:t(n.nameKey)}),f.jsx("p",{className:"mt-2 text-base text-brand-text-secondary",children:t(n.descriptionKey)})]},n.nameKey))})})]})})}),f.jsx("div",{className:"bg-brand-surface/50 backdrop-blur-lg",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[f.jsx("h2",{className:"text-3xl font-extrabold text-brand-text-primary sm:text-4xl",dangerouslySetInnerHTML:{__html:t("landing_cta_title")}}),f.jsx("p",{className:"mt-4 text-lg leading-6 text-brand-text-secondary",children:t("landing_cta_subtitle")}),f.jsx("a",{href:"/#/register",className:"mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-brand-primary hover:opacity-90 sm:w-auto",children:t("landing_cta_button")})]})})]}),f.jsx(vg,{})]})},Hlt=()=>{const{registerManagerAccount:t}=bt(),{t:e}=Xe(),[n,r]=k.useState({name:"",jobTitle:"",phoneNumber:"",email:"",password:"",companyName:"",kvk:"",btwNumber:"",industry:void 0,salesChannel:void 0,numberOfEmployees:0,address:"",postalCode:"",city:"",country:"Nederland",companyWebsite:"",companyPhoneNumber:"",invoiceEmail:""}),[i,s]=k.useState("+31"),[a,l]=k.useState(""),[u,d]=k.useState({terms:!1,privacy:!1,services:!1}),[h,p]=k.useState(""),[_,v]=k.useState({}),[S,E]=k.useState(!1),[A,I]=k.useState(!1),M=(H=>{switch(H){case"United Kingdom":return{code:"GB",lang:"en",locale:"en-GB",currency:"GBP"};case"Germany":return{code:"DE",lang:"de",locale:"de-DE",currency:"EUR"};default:return{code:"NL",lang:"nl",locale:"nl-NL",currency:"EUR"}}})(n.country||"Nederland"),B={kvk:{NL:{regex:/^\d{8}$/,errorKey:"error_kvk_format_nl"},GB:{regex:/^[A-Za-z0-9]{8}$/,errorKey:"error_kvk_format_gb"},DE:{regex:/^(HRA|HRB)\s?\d+$/i,errorKey:"error_kvk_format_de"}},btw:{NL:{regex:/^NL\d{9}B\d{2}$/i,errorKey:"error_btw_format_nl"},GB:{regex:/^GB(\d{9}|\d{12})$/i,errorKey:"error_btw_format_gb"},DE:{regex:/^DE\d{9}$/i,errorKey:"error_btw_format_de"}}},V=(H,ge,Ee)=>{switch(H){case"name":return ge.trim().split(" ").length<2?e("error_fullname"):"";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ge)?"":e("error_email_format");case"kvk":const se=B.kvk[Ee];return se.regex.test(ge)?"":e(se.errorKey);case"btwNumber":const re=B.btw[Ee];return re.regex.test(ge)?"":e(re.errorKey);default:return""}},N=H=>{const{name:ge,value:Ee}=H.target;r(se=>({...se,[ge]:Ee})),_[ge]&&v(se=>({...se,[ge]:""}))},P=H=>{const{name:ge,value:Ee}=H.target,se=V(ge,Ee,M.code);v(re=>({...re,[ge]:se}))},O=H=>{const{name:ge,checked:Ee}=H.target;d(se=>({...se,[ge]:Ee}))},D=(H,ge)=>{r(Ee=>({...Ee,[H]:ge}))},z=async H=>{H.preventDefault(),p("");const ge={};if(["name","email","kvk","btwNumber"].forEach(Ee=>{const se=V(Ee,n[Ee],M.code);se&&(ge[Ee]=se)}),Object.keys(ge).length>0){v(ge),p(e("register_error_all_fields"));return}if(!n.industry||!n.salesChannel){p(e("register_error_all_fields"));return}if(!Object.values(u).every(Boolean)){p(e("register_error_agreements"));return}E(!0);try{const Ee={...n,phoneNumber:`${i}${a}`,lang:M.lang};await t(Ee),I(!0)}catch(Ee){p(Ee.message||"Registratie mislukt. Probeer het opnieuw.")}finally{E(!1)}},$=H=>`w-full bg-brand-secondary border rounded-lg px-4 py-3 focus:ring-2 focus:outline-none transition-all ${H?"border-red-500 ring-red-500/50":"border-brand-border focus:ring-brand-primary"}`,U="block text-sm font-medium text-brand-text-secondary mb-2",q="w-full text-center py-3 px-4 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-surface",te="bg-brand-primary text-white shadow-md focus:ring-brand-primary",ee="bg-brand-surface text-brand-text-secondary hover:bg-brand-border hover:text-brand-text-primary focus:ring-brand-primary/50",Y=`kvk_number_${M.code.toLowerCase()}`,X=`btw_number_${M.code.toLowerCase()}`;if(A)return f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-background p-4",children:f.jsxs("div",{className:"w-full max-w-lg mx-auto bg-brand-surface rounded-2xl shadow-2xl p-8 text-center animate-fade-in",children:[f.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("h1",{className:"text-3xl font-bold text-brand-text-primary mt-4",children:e("register_success_title")}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:e("register_success_body")}),f.jsx("a",{href:"/#/",className:"mt-8 w-full inline-block bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity",children:e("back_to_home")})]})});const fe=Number(n.numberOfEmployees)||0,be=fe+1,F=new Intl.NumberFormat(M.locale,{style:"currency",currency:M.currency}),K=F.format(be*9.99),Q=F.format(9.99);return f.jsx("div",{className:"min-h-screen bg-brand-background py-12 px-4",children:f.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("a",{href:"/#/",children:f.jsx("img",{src:"https://i.imgur.com/moW461j.png",alt:"Bedrijfslogo",className:"w-40 h-auto mx-auto mb-4"})}),f.jsx("h1",{className:"text-4xl font-bold text-brand-text-primary",children:e("register_title")}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:e("register_subtitle")})]}),f.jsxs("form",{onSubmit:z,className:"bg-brand-surface rounded-2xl shadow-2xl p-8 space-y-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-semibold border-b border-brand-border pb-3",children:e("personal_details")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:U,children:e("full_name")}),f.jsx("input",{type:"text",name:"name",id:"name",value:n.name||"",required:!0,className:$(!!_.name),onChange:N,onBlur:P}),_.name&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.name})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"jobTitle",className:U,children:e("job_title")}),f.jsx("input",{type:"text",name:"jobTitle",id:"jobTitle",value:n.jobTitle||"",required:!0,className:$(!1),onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phoneNumber",className:U,children:e("phone_number")}),f.jsxs("div",{className:"flex",children:[f.jsxs("select",{name:"phoneCountryCode",value:i,onChange:H=>s(H.target.value),className:"rounded-l-lg border border-r-0 border-brand-border bg-brand-secondary px-3 focus:ring-2 focus:ring-brand-primary focus:outline-none",children:[f.jsx("option",{value:"+31",children:" +31"}),f.jsx("option",{value:"+49",children:" +49"}),f.jsx("option",{value:"+44",children:" +44"}),f.jsx("option",{value:"+32",children:" +32"}),f.jsx("option",{value:"+48",children:" +48"}),f.jsx("option",{value:"+33",children:" +33"})]}),f.jsx("input",{type:"tel",id:"phoneNumber",value:a,required:!0,className:`${$(!1)} rounded-l-none`,onChange:H=>l(H.target.value),placeholder:e("phone_number_placeholder")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:U,children:e("email_login")}),f.jsx("input",{type:"email",name:"email",id:"email",value:n.email||"",required:!0,className:$(!!_.email),onChange:N,onBlur:P}),_.email&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.email})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:U,children:e("password")}),f.jsx("input",{type:"password",name:"password",id:"password",value:n.password||"",required:!0,className:$(!1),onChange:N})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-semibold border-b border-brand-border pb-3",children:e("company_details")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"companyName",className:U,children:e("company_name")}),f.jsx("input",{type:"text",name:"companyName",id:"companyName",value:n.companyName||"",required:!0,className:$(!1),onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"kvk",className:U,children:e(Y)}),f.jsx("input",{type:"text",name:"kvk",id:"kvk",value:n.kvk||"",required:!0,className:$(!!_.kvk),onChange:N,onBlur:P}),_.kvk&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.kvk})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"btwNumber",className:U,children:e(X)}),f.jsx("input",{type:"text",name:"btwNumber",id:"btwNumber",value:n.btwNumber||"",required:!0,className:$(!!_.btwNumber),onChange:N,onBlur:P}),_.btwNumber&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.btwNumber})]})]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsx("label",{className:U,children:e("active_industry")}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("button",{type:"button",onClick:()=>D("industry","telecom"),className:`${q} ${n.industry==="telecom"?te:ee}`,children:e("industry_telecom")}),f.jsx("button",{type:"button",onClick:()=>D("industry","energy"),className:`${q} ${n.industry==="energy"?te:ee}`,children:e("industry_energy")}),f.jsx("button",{type:"button",onClick:()=>D("industry","beide"),className:`${q} ${n.industry==="beide"?te:ee}`,children:e("industry_both")})]})]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsx("label",{className:U,children:e("sales_channel")}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("button",{type:"button",onClick:()=>D("salesChannel","deur-aan-deur"),className:`${q} ${n.salesChannel==="deur-aan-deur"?te:ee}`,children:e("channel_doortodoor")}),f.jsx("button",{type:"button",onClick:()=>D("salesChannel","telefonisch"),className:`${q} ${n.salesChannel==="telefonisch"?te:ee}`,children:e("channel_telemarketing")}),f.jsx("button",{type:"button",onClick:()=>D("salesChannel","beide"),className:`${q} ${n.salesChannel==="beide"?te:ee}`,children:e("channel_both")})]})]}),f.jsxs("div",{className:"border-t border-brand-border pt-6",children:[f.jsx("label",{htmlFor:"numberOfEmployees",className:U,children:e("num_employees_on_app")}),f.jsx("input",{type:"number",min:"0",name:"numberOfEmployees",id:"numberOfEmployees",value:n.numberOfEmployees||0,required:!0,className:$(!1),onChange:N}),f.jsxs("div",{className:"mt-2 text-right",children:[f.jsx("p",{className:"text-sm text-brand-text-secondary",children:e("you_pay_for",{num_employees:fe,total_licenses:be})}),f.jsx("p",{className:"text-2xl font-bold text-brand-text-primary",children:e("total_cost_per_month",{total_cost:K})}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:e("license_cost",{price:Q})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t border-brand-border pt-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"country",className:U,children:e("country")}),f.jsxs("select",{name:"country",id:"country",value:n.country,required:!0,className:$(!1),onChange:N,children:[f.jsx("option",{value:"Nederland",children:e("country_nl")}),f.jsx("option",{value:"United Kingdom",children:e("country_en")}),f.jsx("option",{value:"Germany",children:e("country_de")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:U,children:e("street_housenr")}),f.jsx("input",{type:"text",name:"address",id:"address",required:!0,className:$(!1),value:n.address||"",onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"postalCode",className:U,children:e("postal_code")}),f.jsx("input",{type:"text",name:"postalCode",id:"postalCode",value:n.postalCode||"",required:!0,className:$(!1),onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"city",className:U,children:e("city")}),f.jsx("input",{type:"text",name:"city",id:"city",value:n.city||"",required:!0,className:$(!1),onChange:N})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t border-brand-border pt-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"companyWebsite",className:U,children:e("company_website")}),f.jsx("input",{type:"url",name:"companyWebsite",id:"companyWebsite",value:n.companyWebsite||"",className:$(!1),onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"companyPhoneNumber",className:U,children:e("company_phone")}),f.jsx("input",{type:"tel",name:"companyPhoneNumber",id:"companyPhoneNumber",value:n.companyPhoneNumber||"",className:$(!1),onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"invoiceEmail",className:U,children:e("invoice_email")}),f.jsx("input",{type:"email",name:"invoiceEmail",id:"invoiceEmail",value:n.invoiceEmail||"",className:$(!1),onChange:N})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-semibold border-b border-brand-border pb-3",children:e("agreements_title")}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("input",{type:"checkbox",name:"terms",id:"terms",className:"h-5 w-5 mt-0.5",onChange:O}),f.jsxs("label",{htmlFor:"terms",className:"ml-3 text-sm",children:[e("agree_terms")," ",f.jsx("a",{href:"/#/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary underline",children:e("terms_link")}),"."]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("input",{type:"checkbox",name:"privacy",id:"privacy",className:"h-5 w-5 mt-0.5",onChange:O}),f.jsxs("label",{htmlFor:"privacy",className:"ml-3 text-sm",children:[e("agree_privacy")," ",f.jsx("a",{href:"/#/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary underline",children:e("privacy_link")}),"."]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("input",{type:"checkbox",name:"services",id:"services",className:"h-5 w-5 mt-0.5",onChange:O}),f.jsxs("label",{htmlFor:"services",className:"ml-3 text-sm",children:[e("agree_services")," ",f.jsx("a",{href:"/#/services",target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary underline",children:e("services_link")})," ",e("i_have_read_and_understand")]})]})]}),h&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:h}),f.jsx("div",{className:"pt-4",children:f.jsx("button",{type:"submit",disabled:S,className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:e(S?"registering":"register_and_start")})})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary",children:[e("already_have_account")," ",f.jsx("a",{href:"/#/login",className:"text-brand-primary font-semibold hover:underline",children:e("login_here")})]})}),f.jsxs("div",{className:"mt-8 border-t border-brand-border pt-4 text-center text-xs text-brand-text-secondary",children:[f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx("a",{href:"/#/privacy",className:"hover:text-brand-primary transition-colors",children:e("footer_privacy")}),f.jsx("a",{href:"/#/terms",className:"hover:text-brand-primary transition-colors",children:e("footer_terms")}),f.jsx("a",{href:"/#/contact",className:"hover:text-brand-primary transition-colors",children:e("footer_contact")})]}),f.jsxs("p",{className:"mt-2",children:[" ",new Date().getFullYear()," SalExplosive. Alle rechten voorbehouden."]})]})]})})},Klt=()=>{var S;const{user:t,changePassword:e}=bt(),{t:n}=Xe(),[r,i]=k.useState(""),[s,a]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(!1),p=async E=>{if(E.preventDefault(),u(""),r.length<6){u(n("password_length_error"));return}if(r!==s){u(n("password_mismatch_error"));return}h(!0);try{await e(r)}catch{u(n("password_change_error_generic")),h(!1)}},_="w-full bg-brand-secondary border border-brand-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none transition-all",v="block text-sm font-medium text-brand-text-secondary mb-2";return f.jsx("div",{className:"fixed inset-0 bg-brand-background z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-md mx-auto bg-brand-surface rounded-2xl shadow-2xl p-8 animate-fade-in",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx(mk,{className:"w-12 h-12 text-brand-primary mx-auto mb-4"}),f.jsx("h1",{className:"text-3xl font-bold text-brand-text-primary",children:n("change_pw_welcome",{name:(S=t==null?void 0:t.name)==null?void 0:S.split(" ")[0]})}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:n("change_pw_subtitle")})]}),f.jsxs("form",{onSubmit:p,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"new-password",className:v,children:n("new_password")}),f.jsx("input",{id:"new-password",type:"password",value:r,onChange:E=>i(E.target.value),required:!0,className:_})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirm-password",className:v,children:n("confirm_new_password")}),f.jsx("input",{id:"confirm-password",type:"password",value:s,onChange:E=>a(E.target.value),required:!0,className:_})]}),l&&f.jsx("p",{className:"text-red-500 text-sm text-center",children:l}),f.jsx("div",{className:"pt-2",children:f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:n(d?"saving":"set_password_and_continue")})})]})]})})},Xc={owner:{label:"Owner",color:"bg-red-500/10 text-red-500",order:0},manager:{label:"Manager",color:"bg-yellow-500/10 text-yellow-500",order:1},"team-leader":{label:"Team Leader",color:"bg-green-500/10 text-green-500",order:2},leader:{label:"Leader",color:"bg-purple-500/10 text-purple-500",order:3},salesperson:{label:"Salesperson",color:"bg-blue-500/10 text-blue-500",order:4}},w9=({member:t,currentUser:e,isSubordinate:n})=>{const{t:r}=Xe(),i=k.useMemo(()=>{const u=e.role,d=t.role;return["owner","manager","team-leader"].includes(u)?!0:u==="leader"?["salesperson","leader","team-leader"].includes(d):u==="salesperson"?d==="salesperson":!1},[e.role,t.role]),s=Xc[t.role]||{label:t.role,color:"bg-gray-500/10 text-gray-500"},a=ql(t.sales||[],"week"),l=ql(t.sales||[],"month");return f.jsxs("div",{className:`bg-brand-secondary rounded-lg p-4 border border-brand-border ${n?"":"shadow-lg"}`,children:[f.jsxs("div",{className:"flex items-start",children:[t.profilePicture?f.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-12 h-12 rounded-full object-cover mr-4 flex-shrink-0"}):f.jsx(Ts,{className:"w-12 h-12 text-brand-text-secondary mr-4 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-brand-text-primary",children:t.name}),f.jsx("span",{className:`text-xs font-medium px-2.5 py-0.5 rounded-full ${s.color}`,children:s.label}),f.jsxs("div",{className:"flex items-center text-xs text-brand-text-secondary mt-2",children:[t.industry==="telecom"?f.jsx(fp,{className:"w-4 h-4 mr-1.5"}):f.jsx(hp,{className:"w-4 h-4 mr-1.5"}),f.jsx("span",{className:"capitalize",children:t.industry})]})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-border/50 grid grid-cols-2 gap-2 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-brand-text-secondary",children:r("kpi_weekly_avg_daily")}),f.jsx("p",{className:`text-xl font-bold ${i?"text-brand-primary":"text-brand-text-secondary"}`,children:i?a.toFixed(1):"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-brand-text-secondary",children:r("kpi_monthly_avg_daily")}),f.jsx("p",{className:`text-xl font-bold ${i?"text-brand-primary":"text-brand-text-secondary"}`,children:i?l.toFixed(1):"-"})]})]})]})},S9=({member:t,allUsers:e,level:n,currentUser:r})=>{const i=k.useMemo(()=>{if(t.role==="manager"){const s=new Set;return e.forEach(a=>{var l;a.role!=="manager"&&((l=a.teamMembers)==null||l.forEach(u=>s.add(u)))}),e.filter(a=>a.email!==t.email&&!s.has(a.email)).sort((a,l)=>{var u,d;return(((u=Xc[a.role])==null?void 0:u.order)||99)-(((d=Xc[l.role])==null?void 0:d.order)||99)})}return t.teamMembers?e.filter(s=>{var a;return(a=t.teamMembers)==null?void 0:a.includes(s.email)}).sort((s,a)=>{var l,u;return(((l=Xc[s.role])==null?void 0:l.order)||99)-(((u=Xc[a.role])==null?void 0:u.order)||99)}):[]},[t,e]);return f.jsxs("div",{children:[f.jsx(w9,{member:t,currentUser:r}),i.length>0&&f.jsx("div",{className:`mt-4 pl-6 ${n>0?"border-l-2 border-brand-border":""}`,children:f.jsx("div",{className:"space-y-4",children:i.map(s=>f.jsx(S9,{member:s,allUsers:e,level:n+1,currentUser:r},s.email))})})]})},Wlt=()=>{const{user:t,allUsers:e}=bt(),{t:n}=Xe(),[r,i]=k.useState(""),s=k.useMemo(()=>t?e.filter(u=>u.branchName===t.branchName):[],[e,t]),a=k.useMemo(()=>r?s.filter(u=>u.name.toLowerCase().includes(r.toLowerCase())):[],[s,r]),l=k.useMemo(()=>{if(!t)return null;const u=s.find(h=>h.role==="manager");return u||[...s].sort((h,p)=>{var _,v;return(((_=Xc[h.role])==null?void 0:_.order)||99)-(((v=Xc[p.role])==null?void 0:v.order)||99)})[0]||null},[t,s]);return t?f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:n("page_title_mijnfiliaalteam")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:n("overall_team_subtitle")})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:n("search_employee"),value:r,onChange:u=>i(u.target.value),className:"w-full bg-brand-surface border border-brand-border rounded-lg pl-10 pr-4 py-3 focus:ring-2 focus:ring-brand-primary focus:outline-none shadow-sm"}),f.jsx(b5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-secondary"})]}),r?f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:a.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(u=>f.jsx(w9,{member:u,currentUser:t},u.email))}):f.jsx("p",{className:"text-brand-text-secondary text-center py-8",children:n("no_team_members_found")})}):l?f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:f.jsx(S9,{member:l,allUsers:s,level:0,currentUser:t})}):f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg text-center",children:f.jsx("p",{className:"text-brand-text-secondary",children:n("no_team_structure_found")})})]}):null},T9=({isOpen:t,onClose:e})=>{const{user:n,addTeamMember:r}=bt(),{t:i}=Xe(),[s,a]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(""),[p,_]=k.useState("salesperson"),[v,S]=k.useState(""),[E,A]=k.useState(""),[I,j]=k.useState(""),[M,B]=k.useState(""),[V,N]=k.useState(!1);k.useEffect(()=>{t&&(a(""),u(""),h(""),_("salesperson"),B(""),n&&(n.industry!=="beide"?S(n.industry):S(""),n.salesChannel!=="beide"?j(n.salesChannel):j("")),A(""))},[t,n]);const P=async Y=>{if(Y.preventDefault(),B(""),!s||!l||!d||!p||!v||!E||!I||!n){B(i("error_all_fields_required"));return}N(!0);try{await r({name:s,email:l,password:d,company:E,industry:v,salesChannel:I,branchName:n.branchName},p),e()}catch(X){B(X.message||"Kon lid niet toevoegen.")}finally{N(!1)}};if(!t||!n)return null;const O=v?yg(v,n==null?void 0:n.lang):[],D=Y=>{S(Y),A("")},z="w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",$="block text-sm font-medium text-brand-text-secondary mb-1",U="w-full text-center py-3 px-4 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-surface",q="bg-brand-primary text-white shadow-md focus:ring-brand-primary",te="bg-brand-surface text-brand-text-secondary hover:bg-brand-border hover:text-brand-text-primary focus:ring-brand-primary/50",ee=[];return n.role==="leader"?ee.push("salesperson"):n.role==="team-leader"?ee.push("salesperson","leader"):n.role==="manager"?ee.push("salesperson","leader","team-leader"):n.role==="owner"&&ee.push("salesperson","leader","team-leader","manager"),f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in-fast",onClick:e,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md m-4 shadow-2xl",onClick:Y=>Y.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:i("modal_add_member_title")}),f.jsxs("form",{onSubmit:P,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:$,children:i("name")}),f.jsx("input",{type:"text",id:"name",value:s,onChange:Y=>a(Y.target.value),required:!0,className:z})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:$,children:i("email")}),f.jsx("input",{type:"email",id:"email",value:l,onChange:Y=>u(Y.target.value),required:!0,className:z})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:$,children:i("temp_password")}),f.jsx("input",{type:"password",id:"password",value:d,onChange:Y=>h(Y.target.value),required:!0,className:z})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"role",className:$,children:i("role")}),f.jsx("select",{id:"role",value:p,onChange:Y=>_(Y.target.value),required:!0,className:z,children:ee.map(Y=>f.jsx("option",{value:Y,className:"capitalize",children:Y},Y))})]}),n.industry==="beide"?f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:$,children:i("industry")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{type:"button",onClick:()=>D("telecom"),className:`${U} ${v==="telecom"?q:te}`,children:i("industry_telecom")}),f.jsx("button",{type:"button",onClick:()=>D("energy"),className:`${U} ${v==="energy"?q:te}`,children:i("industry_energy")})]})]}):f.jsx("input",{type:"hidden",value:v}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"company",className:$,children:i("company")}),f.jsxs("select",{id:"company",value:E,onChange:Y=>A(Y.target.value),required:!0,className:z,disabled:!v,children:[f.jsx("option",{value:"",disabled:!0,children:i("select_company")}),O.map(Y=>f.jsx("option",{value:Y,children:Y},Y))]})]}),n.salesChannel==="beide"?f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:$,children:i("sales_channel")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{type:"button",onClick:()=>j("deur-aan-deur"),className:`${U} ${I==="deur-aan-deur"?q:te}`,children:i("channel_doortodoor")}),f.jsx("button",{type:"button",onClick:()=>j("telefonisch"),className:`${U} ${I==="telefonisch"?q:te}`,children:i("channel_telemarketing")})]})]}):f.jsx("input",{type:"hidden",value:I}),M&&f.jsx("p",{className:"text-red-500 text-sm",children:M}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:i("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",disabled:V,children:i(V?"saving":"save")})]})]})]})})},E9=({isOpen:t,onClose:e,freedLicenses:n,onConfirm:r})=>{const{t:i}=Xe(),[s,a]=k.useState(0);k.useEffect(()=>{t&&a(0)},[t]);const l=()=>{r(s)};return t?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in-fast",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-lg m-4 shadow-2xl",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:i("license_management_title")}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:i("license_management_body",{count:n})}),n>1&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{htmlFor:"licensesToRemove",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:i("license_management_how_many_remove")}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("input",{type:"range",id:"licensesToRemove",min:"0",max:n,value:s,onChange:u=>a(parseInt(u.target.value)),className:"w-full h-2 bg-brand-secondary rounded-lg appearance-none cursor-pointer"}),f.jsx("span",{className:"font-bold text-lg w-12 text-center",children:s})]}),f.jsxs("div",{className:"flex justify-between text-xs text-brand-text-secondary mt-1",children:[f.jsxs("span",{children:["0 (",i("keep_all"),")"]}),f.jsxs("span",{children:[n," (",i("remove_all"),")"]})]})]}),n===1&&f.jsxs("div",{className:"mb-6 space-y-3",children:[f.jsxs("button",{onClick:()=>a(0),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${s===0?"border-brand-primary bg-brand-primary/10":"border-brand-border bg-brand-secondary hover:border-brand-primary/50"}`,children:[f.jsx("p",{className:"font-semibold",children:i("license_management_option_keep")}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:i("license_management_option_keep_desc")})]}),f.jsxs("button",{onClick:()=>a(1),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${s===1?"border-brand-primary bg-brand-primary/10":"border-brand-border bg-brand-secondary hover:border-brand-primary/50"}`,children:[f.jsx("p",{className:"font-semibold",children:i("license_management_option_remove")}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:i("license_management_option_remove_desc")})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-brand-border",children:[f.jsx("button",{onClick:()=>r(0),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:i("license_management_action_keep")}),f.jsx("button",{onClick:l,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",disabled:s===0&&n>1,children:i("license_management_action_confirm_removal",{count:s})})]})]})}):null},XT={salesperson:{label:"Salesperson",color:"bg-blue-500/10 text-blue-500 border border-blue-500/20"},leader:{label:"Leader",color:"bg-purple-500/10 text-purple-500 border border-purple-500/20"},"team-leader":{label:"Team Leader",color:"bg-green-500/10 text-green-500 border border-green-500/20"},manager:{label:"Manager",color:"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20"},owner:{label:"Owner",color:"bg-red-500/10 text-red-500 border border-red-500/20"}},IV=({title:t,icon:e,data:n})=>{const{t:r}=Xe();return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"w-14 h-14 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:e}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-brand-text-primary",children:t}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-brand-text-secondary",children:[f.jsxs("span",{children:[f.jsx("strong",{className:"text-brand-text-primary",children:n.totalEmployees})," ",r("employees")]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-brand-text-primary",children:n.totalSales.toFixed(1)})," ",r("sales_month")]})]})]})]}),f.jsx("div",{className:"space-y-3 pt-4 border-t border-brand-border max-h-48 overflow-y-auto",children:Object.entries(n.companies).length>0?Object.entries(n.companies).map(([i,s])=>f.jsxs("div",{className:"flex justify-between items-center bg-brand-secondary p-2 rounded-md",children:[f.jsx("span",{className:"font-semibold text-sm",children:i}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-bold text-brand-primary",children:s.sales.toFixed(1)}),f.jsxs("p",{className:"text-xs text-brand-text-secondary",children:[s.employees," medewerker(s)"]})]})]},i)):f.jsx("p",{className:"text-sm text-brand-text-secondary text-center",children:r("no_employees_in_sector")})})]})},Ylt=()=>{const{user:t,allUsers:e,updateTeamMemberRole:n,deleteUser:r,decreasePurchasedLicenses:i}=bt(),{t:s,language:a}=Xe(),[l,u]=k.useState(!1),[d,h]=k.useState(""),[p,_]=k.useState(!1),[v,S]=k.useState(1),[E,A]=k.useState(!1),[I,j]=k.useState(!1),[M,B]=k.useState(!1),[V,N]=k.useState(0),P=k.useMemo(()=>e.filter(re=>re.branchName===(t==null?void 0:t.branchName)),[e,t]),O=k.useMemo(()=>P.filter(re=>re.email!==(t==null?void 0:t.email)),[P,t]),D=k.useMemo(()=>O.flatMap(re=>re.sales||[]),[O]),z=k.useMemo(()=>yn(D,"month"),[D]),$=k.useMemo(()=>ql(D,"week"),[D]),U=k.useMemo(()=>ql(D,"month"),[D]),q=k.useMemo(()=>t?{total:O.length,teamLeaders:O.filter(re=>re.role==="team-leader").length,leaders:O.filter(re=>re.role==="leader").length,salespersons:O.filter(re=>re.role==="salesperson").length}:{total:0,teamLeaders:0,leaders:0,salespersons:0},[O,t]),te=k.useMemo(()=>{if(!t)return{telecom:null,energy:null};const re=O.filter(Re=>Re.industry==="telecom"),$e=O.filter(Re=>Re.industry==="energy"),ae=Re=>{const Me=yn(Re.flatMap(nt=>nt.sales||[]),"month"),le=Re.reduce((nt,Ge)=>(nt[Ge.company]||(nt[Ge.company]={employees:0,sales:0}),nt[Ge.company].employees+=1,nt),{});for(const nt in le){const Ge=Re.filter(mt=>mt.company===nt);le[nt].sales=yn(Ge.flatMap(mt=>mt.sales||[]),"month")}return{totalEmployees:Re.length,totalSales:Me,companies:le}};return{telecom:ae(re),energy:ae($e)}},[O,t]),ee=k.useMemo(()=>{const re={owner:0,manager:1,"team-leader":2,leader:3,salesperson:4};return[...O].sort(($e,ae)=>re[$e.role]-re[ae.role])},[O]),Y=k.useMemo(()=>d?ee.filter(re=>re.name.toLowerCase().includes(d.toLowerCase())):ee,[ee,d]),X=async(re,$e)=>{if(window.confirm(s("change_role_confirm",{role:XT[$e].label})))try{await n(re,$e)}catch(ae){console.error("Role change failed:",ae)}},fe=async re=>{if(window.confirm(s("delete_user_confirm")))try{if(!re.uid)return;await r(re.uid),(t==null?void 0:t.role)==="owner"&&(N(1),B(!0))}catch($e){alert(`Fout bij verwijderen: ${$e.message}`)}},be=async re=>{if(B(!1),re>0&&(t==null?void 0:t.role)==="owner")try{await i(re)}catch($e){alert(`Fout bij bijwerken licenties: ${$e.message}`)}N(0)},F=re=>!t||t.email===re.email?[re.role]:t.role==="manager"?["salesperson","leader","team-leader"]:t.role==="owner"?["salesperson","leader","team-leader","manager"]:[re.role],K=async()=>{j(!0);try{const re=fk(Lf,"europe-west3"),$e=hk(re,"requestExtraLicenses"),ae=ge(v*9.99);await $e({numberOfLicenses:v,totalCost:ae}),A(!0),setTimeout(()=>{_(!1),setTimeout(()=>{A(!1),S(1)},500)},4e3)}catch(re){console.error("Fout bij aanvragen extra licenties (Manager):",re),alert(`Er is een fout opgetreden bij het indienen van uw aanvraag: ${re.message}. Bekijk de console (F12) voor technische details.`)}finally{j(!1)}};if(!t)return null;const Q=a==="en"?"GBP":"EUR",H=a==="en"?"en-GB":a==="de"?"de-DE":"nl-NL",ge=new Intl.NumberFormat(H,{style:"currency",currency:Q}).format,Ee=ge(9.99),se=ge(v*9.99);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-bold",children:[s("my_branch_title")," ",t.branchName]}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:s("my_branch_subtitle")})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>_(!0),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-brand-border transition-colors",children:s("buy_extra_licenses")}),f.jsxs("button",{onClick:()=>u(!0),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),s("add_member")]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"w-16 h-16 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(Xp,{className:"w-8 h-8 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:s("kpi_total_value_month")}),f.jsx("p",{className:"text-4xl font-bold text-brand-text-primary",children:z.toFixed(1)})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"w-16 h-16 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(Ql,{className:"w-7 h-7 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:s("kpi_total_fte")}),f.jsx("p",{className:"text-4xl font-bold text-brand-text-primary",children:q.total}),f.jsxs("div",{className:"text-xs text-brand-text-secondary mt-1 space-x-2",children:[f.jsxs("span",{children:[q.teamLeaders," TL"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[q.leaders," L"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[q.salespersons," SP"]})]})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"w-14 h-14 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(zm,{className:"w-6 h-6 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:s("kpi_weekly_avg_branch")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:$.toFixed(1)})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"w-14 h-14 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:f.jsx(zm,{className:"w-6 h-6 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:s("kpi_monthly_avg_branch")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:U.toFixed(1)})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[te.telecom&&f.jsx(IV,{title:s("sector_telecom"),icon:f.jsx(fp,{className:"w-6 h-6 text-blue-500"}),data:te.telecom}),te.energy&&f.jsx(IV,{title:s("sector_energy"),icon:f.jsx(hp,{className:"w-6 h-6 text-yellow-500"}),data:te.energy})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold mb-2 sm:mb-0",children:s("branch_members")}),f.jsxs("div",{className:"relative w-full sm:w-64",children:[f.jsx("input",{type:"text",placeholder:s("search_employee"),value:d,onChange:re=>h(re.target.value),className:"w-full bg-brand-secondary border border-brand-border rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none"}),f.jsx(b5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-text-secondary"})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Y.map(re=>{const $e=XT[re.role]||{label:re.role,color:"bg-gray-500/10 text-gray-500"},ae=F(re);return f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-4 flex flex-col border border-brand-border relative",children:[(t==null?void 0:t.email)!==re.email&&f.jsx("button",{onClick:()=>fe(re),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-500/10",title:s("delete_user"),children:f.jsx(Va,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-start mb-4",children:[re.profilePicture?f.jsx("img",{src:re.profilePicture,alt:re.name,className:"w-12 h-12 rounded-full object-cover mr-4 flex-shrink-0"}):f.jsx(Ts,{className:"w-12 h-12 text-brand-text-secondary mr-4 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-brand-text-primary",children:re.name}),f.jsx("span",{className:`text-xs font-medium px-2.5 py-0.5 rounded-full ${$e.color}`,children:$e.label}),f.jsxs("div",{className:"flex items-center text-xs text-brand-text-secondary mt-2",children:[re.industry==="telecom"?f.jsx(fp,{className:"w-4 h-4 mr-1.5"}):f.jsx(hp,{className:"w-4 h-4 mr-1.5"}),f.jsx("span",{className:"capitalize",children:re.industry})]}),f.jsxs("div",{className:"flex items-center text-xs text-brand-text-secondary mt-1",children:[f.jsx(E5,{className:"w-4 h-4 mr-1.5"}),f.jsx("span",{children:re.company})]})]})]}),f.jsxs("div",{className:"space-y-2 text-sm text-brand-text-primary flex-grow pt-4 border-t border-brand-border/50",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-brand-text-secondary",children:[s("today"),":"]}),f.jsx("span",{className:"font-semibold",children:yn(re.sales||[],"today").toFixed(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-brand-text-secondary",children:[s("this_week"),":"]}),f.jsx("span",{className:"font-semibold",children:yn(re.sales||[],"week").toFixed(1)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{className:"text-brand-text-secondary",children:[s("this_month"),":"]}),f.jsx("span",{className:"font-semibold",children:yn(re.sales||[],"month").toFixed(1)})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-border",children:[f.jsx("label",{className:"text-xs text-brand-text-secondary mb-1 block",children:s("change_role")}),f.jsx("select",{value:re.role,onChange:Re=>X(re.email,Re.target.value),className:"w-full bg-brand-surface border border-brand-border rounded-md px-2 py-1.5 text-sm font-medium text-brand-text-primary focus:ring-2 focus:ring-brand-primary disabled:opacity-70 disabled:cursor-not-allowed",disabled:t.email===re.email,children:ae.map(Re=>f.jsx("option",{value:Re,className:"capitalize",children:XT[Re].label},Re))})]})]},re.email)})})]}),f.jsx(T9,{isOpen:l,onClose:()=>u(!1)}),p&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in-fast",onClick:()=>!E&&_(!1),children:f.jsx("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md",onClick:re=>re.stopPropagation(),children:E?f.jsxs("div",{className:"text-center",children:[f.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("h3",{className:"text-xl font-bold text-brand-text-primary mt-4",children:s("buy_licenses_modal_success_title")}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:s("buy_licenses_modal_success_body")})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:s("buy_licenses_modal_title")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"extraLicenses",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:s("buy_licenses_modal_amount")}),f.jsx("input",{id:"extraLicenses",type:"number",min:"1",value:v,onChange:re=>S(parseInt(re.target.value)||1),className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-brand-text-secondary",children:s("buy_licenses_modal_price_per",{price:Ee})}),f.jsx("p",{className:"text-2xl font-bold text-brand-text-primary",children:s("buy_licenses_modal_total",{total_cost:se})})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg",children:s("cancel")}),f.jsx("button",{onClick:K,disabled:I,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg",children:s(I?"sending_request":"buy_licenses_modal_submit")})]})]})})})]}),f.jsx(E9,{isOpen:M,onClose:()=>be(0),freedLicenses:V,onConfirm:be})]})},Jlt=()=>{var be;const{user:t,allUsers:e,plannings:n,appointments:r,addPlanning:i,deletePlanning:s,addAppointment:a,updateAppointment:l,deleteAppointment:u}=bt(),{t:d,language:h}=Xe(),[p,_]=k.useState(""),[v,S]=k.useState(null),[E,A]=k.useState(!1),[I,j]=k.useState(null),[M,B]=k.useState(!1),[V,N]=k.useState(null),[P,O]=k.useState({title:"",date:"",time:"",notes:"",taggedUsers:[]}),D=k.useMemo(()=>[...r].sort((F,K)=>{const Q=new Date(`${F.date}T${F.time}`),H=new Date(`${K.date}T${K.time}`);return Q.getTime()-H.getTime()}),[r]),z=k.useMemo(()=>e?e.filter(F=>F.role==="manager"&&F.uid!==(t==null?void 0:t.uid)):[],[e,t]),$=async()=>{if(!(!p||!t)){A(!0),S(null);try{const F=await g6e(t,p,h);S({title:`Trainingsplan: ${p}`,content:F,createdAt:new Date().toISOString()})}catch{alert("Kon geen plan genereren.")}finally{A(!1)}}},U=async()=>{v&&(await i(v),S(null),_(""))},q=F=>{const{name:K,value:Q}=F.target;O(H=>({...H,[K]:Q}))},te=F=>{const K=F.target.value;O(Q=>({...Q,taggedUsers:K?[K]:[]}))},ee=async F=>{F.preventDefault();const K={...P,taggedUsers:P.taggedUsers||[]};try{V?await l({...V,...K}):await a(K),B(!1),N(null)}catch(Q){console.error("Fout bij opslaan afspraak:",Q),alert("Er ging iets mis bij het opslaan.")}},Y=F=>{F?(N(F),O({title:F.title,date:F.date,time:F.time,notes:F.notes||"",taggedUsers:F.taggedUsers||[]})):(N(null),O({title:"",date:new Date().toISOString().split("T")[0],time:"",notes:"",taggedUsers:[]})),B(!0)},X="w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",fe="block text-sm font-medium text-brand-text-secondary mb-1";return f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:d("planning_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:d("planning_subtitle")})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg space-y-4",children:[f.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[f.jsx(Yr,{className:"w-6 h-6 mr-3 text-brand-primary"}),d("ai_training_planner")]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"planTopic",className:fe,children:d("training_focus")}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{id:"planTopic",type:"text",value:p,onChange:F=>_(F.target.value),placeholder:d("training_focus_placeholder"),className:X}),f.jsx("button",{onClick:$,disabled:E||!p,className:"bg-brand-primary text-white font-semibold p-3 rounded-lg flex-shrink-0 disabled:opacity-50",children:E?f.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Yr,{className:"w-5 h-5"})})]})]}),v&&f.jsxs("div",{className:"border-t border-brand-border pt-4",children:[f.jsx("h3",{className:"font-semibold",children:v.title}),f.jsx("div",{className:"bg-brand-secondary rounded-lg p-4 my-2 max-h-64 overflow-y-auto prose max-w-none",children:f.jsx(si,{children:v.content})}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>S(null),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg",children:d("reject")}),f.jsx("button",{onClick:U,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg",children:d("save")})]})]}),f.jsxs("div",{className:"border-t border-brand-border pt-4",children:[f.jsx("h3",{className:"font-semibold mb-2",children:d("saved_plans")}),f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(F=>f.jsx("div",{onClick:()=>j(F),className:`p-2 rounded-lg cursor-pointer ${(I==null?void 0:I.id)===F.id?"bg-brand-primary text-white":"bg-brand-secondary"}`,children:F.title},F.id))})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[f.jsx(Ub,{className:"w-6 h-6 mr-3 text-brand-primary"}),d("agenda")]}),f.jsx("button",{onClick:()=>Y(null),className:"bg-brand-primary text-white w-10 h-10 rounded-lg grid place-items-center",children:f.jsx(Xs,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:D.map(F=>f.jsxs("div",{onClick:()=>Y(F),className:"bg-brand-secondary p-3 rounded-lg cursor-pointer",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:F.title}),f.jsxs("p",{className:"text-sm font-mono text-brand-primary",children:[new Date(F.date).toLocaleDateString()," @ ",F.time]})]}),F.notes&&f.jsx("p",{className:"text-sm text-brand-text-secondary mt-1",children:F.notes}),F.taggedUsers&&F.taggedUsers.length>0&&f.jsxs("p",{className:"text-xs text-brand-primary mt-1 font-semibold flex items-center",children:[f.jsx("span",{className:"mr-1",children:""})," Gedeeld met manager"]})]},F.id))})]})]}),I&&f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h2",{className:"text-2xl font-bold",children:I.title}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("button",{onClick:()=>s(I.id),className:"text-red-500 rounded-lg hover:bg-red-500/10 w-8 h-8 grid place-items-center",children:f.jsx(Va,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>j(null),className:"text-brand-text-secondary text-2xl font-bold w-8 h-8",children:""})]})]}),f.jsx("div",{className:"prose max-w-none mt-4",children:f.jsx(si,{children:I.content})})]}),M&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:()=>B(!1),children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md",onClick:F=>F.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:d(V?"edit_appointment":"new_appointment")}),f.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"title",className:fe,children:d("appointment_title")}),f.jsx("input",{id:"title",name:"title",type:"text",value:P.title,onChange:q,required:!0,className:X})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"date",className:fe,children:d("date")}),f.jsx("input",{id:"date",name:"date",type:"date",value:P.date,onChange:q,required:!0,className:X})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"time",className:fe,children:d("time")}),f.jsx("input",{id:"time",name:"time",type:"time",value:P.time,onChange:q,required:!0,className:X})]})]}),(t==null?void 0:t.role)==="owner"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"taggedManager",className:fe,children:"Tag een Manager (Optioneel)"}),f.jsxs("select",{id:"taggedManager",name:"taggedManager",value:((be=P.taggedUsers)==null?void 0:be[0])||"",onChange:te,className:X,children:[f.jsx("option",{value:"",children:"Geen manager selecteren"}),z.map(F=>f.jsxs("option",{value:F.uid,children:[F.name," (",F.branchName||"Geen filiaal",")"]},F.uid))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"notes",className:fe,children:d("notes_optional")}),f.jsx("textarea",{id:"notes",name:"notes",value:P.notes,onChange:q,rows:3,className:X+" resize-none"})]}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[V&&f.jsx("button",{type:"button",onClick:()=>{u(V.id),B(!1)},className:"text-red-500 font-semibold",children:d("delete")}),f.jsxs("div",{className:"flex-grow flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>B(!1),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg",children:d("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg",children:d("save")})]})]})]})]})})]})},Xlt=()=>{const{user:t,productPackages:e,addProductPackage:n,updateProductPackage:r,deleteProductPackage:i}=bt(),{t:s}=Xe(),[a,l]=k.useState(!1),[u,d]=k.useState(null),[h,p]=k.useState({name:"",industry:"telecom",company:"",value:1});k.useEffect(()=>{p(u||{name:"",industry:(t==null?void 0:t.industry)==="beide"?"telecom":(t==null?void 0:t.industry)||"telecom",company:"",value:1})},[u,t]);const _=j=>{d(j),l(!0)},v=()=>{l(!1),d(null)},S=j=>{const{name:M,value:B}=j.target;let V=B;M==="value"&&(V=parseFloat(B)||0),p(N=>({...N,[M]:V}))},E=async j=>{j.preventDefault();try{u?await r({...u,...h}):await n(h),v()}catch(M){alert(`Fout: ${M.message}`)}},A=async j=>{if(window.confirm("Weet u zeker dat u dit pakket wilt verwijderen? Dit kan niet ongedaan worden gemaakt."))try{await i(j)}catch(M){alert(`Fout: ${M.message}`)}};if(!t||t.role!=="manager"&&t.role!=="owner")return null;const I=yg(h.industry,t==null?void 0:t.lang);return f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:s("pkg_mgmt_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:s("pkg_mgmt_subtitle")})]}),(t.role==="manager"||t.role==="owner")&&f.jsxs("button",{onClick:()=>_(null),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),s("new_package")]})]}),f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.map(j=>f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-4 border border-brand-border flex flex-col",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"font-bold text-lg",children:j.name}),f.jsxs("p",{className:"text-sm text-brand-text-secondary",children:[j.company," (",j.industry,")"]}),f.jsxs("p",{className:"text-2xl font-bold text-brand-primary my-4",children:[j.value.toFixed(1)," ",f.jsx("span",{className:"text-sm font-normal text-brand-text-secondary",children:s("contract_value")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{onClick:()=>_(j),className:"w-full bg-brand-surface text-brand-text-primary text-sm font-semibold py-2 px-4 rounded-md hover:bg-brand-border",children:s("edit")}),f.jsx("button",{onClick:()=>A(j.id),className:"bg-red-500/10 text-red-500 rounded-md hover:bg-red-500 hover:text-white grid place-items-center w-8 h-8",children:f.jsx(Va,{className:"w-5 h-5"})})]})]},j.id)),e.length===0&&f.jsxs("div",{className:"col-span-full text-center text-brand-text-secondary py-10",children:[f.jsx(zb,{className:"w-12 h-12 mx-auto mb-4"}),f.jsx("p",{children:s("pkg_empty_state")})]})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",onClick:v,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md",onClick:j=>j.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:s(u?"modal_edit_package":"modal_new_package")}),f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{children:s("package_name")}),f.jsx("input",{name:"name",value:h.name,onChange:S,required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{children:s("industry")}),f.jsxs("select",{name:"industry",value:h.industry,onChange:S,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2",children:[f.jsx("option",{value:"telecom",children:s("industry_telecom")}),f.jsx("option",{value:"energy",children:s("industry_energy")})]})]}),f.jsxs("div",{children:[f.jsx("label",{children:s("company")}),f.jsxs("select",{name:"company",value:h.company,onChange:S,required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2",children:[f.jsx("option",{value:"",disabled:!0,children:s("select_company")}),I.map(j=>f.jsx("option",{value:j,children:j},j))]})]}),f.jsxs("div",{children:[f.jsx("label",{children:s("contract_value")}),f.jsx("input",{name:"value",type:"number",step:"0.1",value:h.value,onChange:S,required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2"})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:v,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border",children:s("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90",children:s("save")})]})]})]})})]})},gy=({title:t,value:e,icon:n,trend:r,trendColor:i})=>f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center overflow-hidden",children:[f.jsx("div",{className:"w-16 h-16 bg-brand-primary/10 rounded-full mr-4 flex items-center justify-center flex-shrink-0",children:n}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:t}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary truncate",title:e,children:e}),r&&f.jsx("p",{className:`text-sm font-semibold ${i}`,children:r})]})]}),_y=({setCurrentPage:t})=>{var V;const{user:e,allUsers:n,addKnowledgeBasePost:r}=bt(),{t:i}=Xe(),[s,a]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(!1),p=k.useMemo(()=>{if(!e||n.length===0)return null;const N=new Date,P=new Date(N.getFullYear(),N.getMonth(),1),O=new Date(N.getFullYear(),N.getMonth()-1,1),D=new Date(N.getFullYear(),N.getMonth(),0),z=n.reduce((Y,X)=>{const fe=X.branchName||"Onbekend";return Y[fe]||(Y[fe]=[]),Y[fe].push(X),Y},{}),$=n.flatMap(Y=>Y.sales||[]),U=$.filter(Y=>new Date(Y.date)>=P).reduce((Y,X)=>Y+X.value,0),q=$.filter(Y=>{const X=new Date(Y.date);return X>=O&&X<=D}).reduce((Y,X)=>Y+X.value,0),te=q>0?(U-q)/q*100:U>0?100:0,ee=Object.entries(z).map(([Y,X])=>{const be=X.flatMap(Q=>Q.sales||[]).filter(Q=>new Date(Q.date)>=P).reduce((Q,H)=>Q+H.value,0),F=X.length,K=F>0?be/F:0;return{branchName:Y,totalSales:be,employeeCount:F,salesPerFte:K}}).sort((Y,X)=>X.totalSales-Y.totalSales);return{totalBranches:Object.keys(z).length,totalEmployees:n.length,totalOrgSalesMonth:U,salesTrend:te,topBranch:ee[0]||null,branchPerformance:ee}},[e,n]),_=async N=>{if(N.preventDefault(),!(!s||!l)){h(!0);try{await r(s,l),a(""),u("")}catch(P){console.error(P)}finally{h(!1)}}},v=()=>{const N=new Date().getHours();return N<12?i("greeting_morning"):N<18?i("greeting_afternoon"):i("greeting_evening")};if(!p)return f.jsx("p",{children:"Data wordt geladen..."});const{totalBranches:S,totalEmployees:E,totalOrgSalesMonth:A,salesTrend:I,topBranch:j,branchPerformance:M}=p,B=I>=0?"text-green-500":"text-red-500";return f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-bold mb-1",children:[v(),", ",(V=e==null?void 0:e.name)==null?void 0:V.split(" ")[0],"!"]}),f.jsx("p",{className:"text-lg text-brand-text-secondary",children:i("owner_dashboard_welcome")})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(gy,{title:i("kpi_total_value_month"),value:`${A.toFixed(1)}`,icon:f.jsx(Xp,{className:"w-8 h-8 text-brand-primary"}),trend:`${I>=0?"+":""}${I.toFixed(1)}% ${i("vs_last_month")}`,trendColor:B}),f.jsx(gy,{title:i("kpi_top_branch"),value:(j==null?void 0:j.branchName)||"-",icon:f.jsx(Jp,{className:"w-8 h-8 text-brand-primary"})}),f.jsx(gy,{title:i("kpi_total_branches"),value:String(S),icon:f.jsx(k5,{className:"w-8 h-8 text-brand-primary"})}),f.jsx(gy,{title:i("kpi_total_employees"),value:String(E),icon:f.jsx(Ql,{className:"w-8 h-8 text-brand-primary"})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:i("branch_performance_month")}),f.jsx("div",{className:"space-y-3 max-h-[calc(100vh-30rem)] overflow-y-auto pr-2 -mr-2",children:M.map((N,P)=>f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-lg font-bold w-8 text-center",children:P+1}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-brand-text-primary",children:N.branchName}),f.jsxs("p",{className:"text-xs text-brand-text-secondary",children:[N.employeeCount," ",i("employees_short"),"  ",N.salesPerFte.toFixed(1)," ",i("sales_per_fte")]})]})]}),f.jsx("p",{className:"text-2xl font-bold text-brand-primary",children:N.totalSales.toFixed(1)})]},N.branchName))})]})}),f.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:i("quick_announcement")}),f.jsxs("form",{onSubmit:_,className:"space-y-3",children:[f.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:i("quick_announcement_title_placeholder"),className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 text-sm"}),f.jsx("textarea",{value:l,onChange:N=>u(N.target.value),placeholder:i("quick_announcement_body_placeholder"),rows:3,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 text-sm resize-none"}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-brand-primary text-white font-semibold py-2 rounded-lg text-sm disabled:opacity-50",children:i(d?"publishing":"publish")})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h3",{className:"text-lg font-semibold mb-3",children:i("quick_links")}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>t(Pe.Organization),className:"w-full flex items-center p-3 rounded-lg bg-brand-secondary hover:bg-brand-border",children:[f.jsx(yv,{className:"w-5 h-5 mr-3 text-brand-text-secondary"}),f.jsx("span",{className:"font-semibold",children:i("manage_organization")})]}),f.jsxs("button",{onClick:()=>t(Pe.PackageManagement),className:"w-full flex items-center p-3 rounded-lg bg-brand-secondary hover:bg-brand-border",children:[f.jsx(zb,{className:"w-5 h-5 mr-3 text-brand-text-secondary"}),f.jsx("span",{className:"font-semibold",children:i("manage_packages")})]})]})]})]})]})]})},Qlt=({isOpen:t,onClose:e})=>{const{user:n,createBranchAndManager:r}=bt(),{t:i}=Xe(),[s,a]=k.useState(""),[l,u]=k.useState(""),[d,h]=k.useState(""),[p,_]=k.useState(""),[v,S]=k.useState(""),[E,A]=k.useState(""),[I,j]=k.useState(""),[M,B]=k.useState(!1);k.useEffect(()=>{t&&(a(""),u(""),h(""),_(""),S((n==null?void 0:n.industry)==="beide"?"":(n==null?void 0:n.industry)||""),A((n==null?void 0:n.salesChannel)==="beide"?"":(n==null?void 0:n.salesChannel)||""),j(""))},[t,n]);const V=async $=>{if($.preventDefault(),j(""),!s||!l||!d||!p||!v||!E){j(i("error_all_fields_required"));return}B(!0);try{await r(s,{name:l,email:d,password:p,industry:v,salesChannel:E}),e()}catch(U){j(U.message||"Kon filiaal niet aanmaken.")}finally{B(!1)}};if(!t)return null;const N="w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-primary focus:outline-none",P="block text-sm font-medium text-brand-text-secondary mb-1",O="w-full text-center py-3 px-4 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-surface",D="bg-brand-primary text-white shadow-md focus:ring-brand-primary",z="bg-brand-surface text-brand-text-secondary hover:bg-brand-border hover:text-brand-text-primary focus:ring-brand-primary/50";return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in-fast",onClick:e,children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-lg m-4 shadow-2xl",onClick:$=>$.stopPropagation(),children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:i("modal_create_branch_title")}),f.jsxs("form",{onSubmit:V,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"branchName",className:P,children:i("new_branch_name")}),f.jsx("input",{type:"text",id:"branchName",value:s,onChange:$=>a($.target.value),required:!0,className:N})]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsx("label",{className:P,children:i("active_industry")}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("button",{type:"button",onClick:()=>S("telecom"),className:`${O} ${v==="telecom"?D:z}`,children:i("industry_telecom")}),f.jsx("button",{type:"button",onClick:()=>S("energy"),className:`${O} ${v==="energy"?D:z}`,children:i("industry_energy")}),f.jsx("button",{type:"button",onClick:()=>S("beide"),className:`${O} ${v==="beide"?D:z}`,children:i("industry_both")})]})]}),f.jsxs("div",{className:"space-y-2 pt-2",children:[f.jsx("label",{className:P,children:i("sales_channel")}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("button",{type:"button",onClick:()=>A("deur-aan-deur"),className:`${O} ${E==="deur-aan-deur"?D:z}`,children:i("channel_doortodoor")}),f.jsx("button",{type:"button",onClick:()=>A("telefonisch"),className:`${O} ${E==="telefonisch"?D:z}`,children:i("channel_telemarketing")}),f.jsx("button",{type:"button",onClick:()=>A("beide"),className:`${O} ${E==="beide"?D:z}`,children:i("channel_both")})]})]}),f.jsxs("div",{className:"border-t border-brand-border pt-4",children:[f.jsx("h3",{className:"font-semibold text-lg mb-2",children:i("manager_details")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"managerName",className:P,children:i("manager_full_name")}),f.jsx("input",{type:"text",id:"managerName",value:l,onChange:$=>u($.target.value),required:!0,className:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"managerEmail",className:P,children:i("manager_email")}),f.jsx("input",{type:"email",id:"managerEmail",value:d,onChange:$=>h($.target.value),required:!0,className:N})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"managerPassword",className:P,children:i("manager_temp_password")}),f.jsx("input",{type:"password",id:"managerPassword",value:p,onChange:$=>_($.target.value),required:!0,className:N})]})]})]}),I&&f.jsx("p",{className:"text-red-500 text-sm",children:I}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg hover:bg-brand-border transition-colors",children:i("cancel")}),f.jsx("button",{type:"submit",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",disabled:M,children:i(M?"creating":"create")})]})]})]})})},CV=()=>{const{user:t,allUsers:e,deleteBranch:n,decreasePurchasedLicenses:r}=bt(),{t:i}=Xe(),[s,a]=k.useState(!1),[l,u]=k.useState(!1),[d,h]=k.useState(0),p=k.useMemo(()=>{if(!t||e.length===0)return[];const S=e.reduce((E,A)=>{const I=A.branchName||"Onbekend";return E[I]||(E[I]=[]),E[I].push(A),E},{});return Object.entries(S).map(([E,A])=>{const I=A.find(B=>B.role==="manager")||null,j=A.length,M=A.reduce((B,V)=>B+(V.totalSalesMonth||0),0);return{branchName:E,manager:I,employeeCount:j,totalSalesMonth:M}})},[t,e]),_=async S=>{const E=S.employeeCount;if(window.confirm(i("delete_branch_confirm",{userCount:E})))try{const A=await n(S.branchName);h(A),u(!0)}catch(A){alert(`Fout bij verwijderen: ${A.message}`)}},v=async S=>{if(u(!1),S>0)try{await r(S)}catch(E){alert(`Fout bij bijwerken licenties: ${E.message}`)}h(0)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:i("org_view_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:i("org_view_subtitle")})]}),f.jsxs("button",{onClick:()=>a(!0),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),i("add_new_branch")]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:i("branches_overview")}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(S=>{var E,A;return f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg border border-brand-border flex flex-col relative",children:[(t==null?void 0:t.role)==="owner"&&f.jsx("button",{onClick:()=>_(S),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-500/10",title:i("delete_branch"),children:f.jsx(Va,{className:"w-5 h-5"})}),f.jsx("div",{className:"flex items-start justify-between mb-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(yv,{className:"w-8 h-8 text-brand-primary mr-3"}),f.jsx("h3",{className:"text-xl font-bold truncate",children:S.branchName})]})}),f.jsxs("div",{className:"space-y-3 text-sm flex-grow",children:[f.jsxs("div",{className:"flex items-center",children:[(E=S.manager)!=null&&E.profilePicture?f.jsx("img",{src:S.manager.profilePicture,alt:S.manager.name,className:"w-6 h-6 rounded-full object-cover mr-2"}):f.jsx(Ts,{className:"w-6 h-6 mr-2 text-brand-text-secondary"}),f.jsx("span",{className:"font-semibold mr-1",children:i("manager_label")}),f.jsx("span",{className:"truncate",children:((A=S.manager)==null?void 0:A.name)||i("manager_not_assigned")})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ql,{className:"w-6 h-6 mr-2 text-brand-text-secondary"}),f.jsx("span",{className:"font-semibold mr-1",children:i("employees_label")}),f.jsx("span",{children:S.employeeCount})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(Xp,{className:"w-6 h-6 mr-2 text-brand-text-secondary"}),f.jsx("span",{className:"font-semibold mr-1",children:i("sales_month_label")}),f.jsx("span",{children:S.totalSalesMonth.toFixed(1)})]})]})]},S.branchName)})}),p.length===0&&f.jsxs("div",{className:"text-center py-12 text-brand-text-secondary",children:[f.jsx(yv,{className:"w-12 h-12 mx-auto mb-4"}),f.jsx("p",{className:"font-semibold",children:i("branches_empty_title")}),f.jsx("p",{className:"text-sm",children:i("branches_empty_subtitle")})]})]}),f.jsx(Qlt,{isOpen:s,onClose:()=>a(!1)})]}),f.jsx(E9,{isOpen:l,onClose:()=>v(0),freedLicenses:d,onConfirm:v})]})},Zlt=()=>{const{t}=Xe();return f.jsxs("div",{className:"bg-brand-background min-h-screen flex flex-col",children:[f.jsx(Qf,{}),f.jsx("main",{className:"flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 w-full",children:f.jsxs("div",{className:"bg-brand-surface p-8 sm:p-12 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-block p-4 bg-brand-primary/10 rounded-full",children:f.jsx(A5,{className:"w-12 h-12 text-brand-primary"})}),f.jsx("h1",{className:"text-4xl font-bold mt-4",children:t("privacy_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:t("privacy_subtitle")})]}),f.jsxs("div",{className:"prose max-w-none prose-p:text-brand-text-secondary prose-h2:text-brand-text-primary prose-ul:text-brand-text-secondary prose-li:my-1",children:[f.jsx("p",{children:t("privacy_intro")}),f.jsx("h2",{children:t("privacy_h2_data_collected")}),f.jsx("p",{children:t("privacy_p_data_collected")}),f.jsxs("ul",{children:[f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_account_data")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_company_data")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_usage_data")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_technical_data")}})]}),f.jsx("h2",{children:t("privacy_h2_data_usage")}),f.jsx("p",{children:t("privacy_p_data_usage")}),f.jsxs("ul",{children:[f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_provide_service")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_personalization")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_communication")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_analysis")}})]}),f.jsx("h2",{children:t("privacy_h2_sharing")}),f.jsx("p",{children:t("privacy_p_sharing")}),f.jsxs("ul",{children:[f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_cloud_providers")}}),f.jsx("li",{dangerouslySetInnerHTML:{__html:t("privacy_li_ai_providers")}})]}),f.jsx("h2",{children:t("privacy_h2_ai")}),f.jsx("p",{children:t("privacy_p_ai")}),f.jsx("h2",{children:t("privacy_h2_security")}),f.jsx("p",{children:t("privacy_p_security")}),f.jsx("h2",{children:t("privacy_h2_rights")}),f.jsx("p",{children:t("privacy_p_rights")}),f.jsx("h2",{children:t("privacy_h2_changes")}),f.jsx("p",{children:t("privacy_p_changes")}),f.jsx("h2",{children:t("privacy_h2_contact")}),f.jsx("p",{dangerouslySetInnerHTML:{__html:t("privacy_p_contact")}})]})]})}),f.jsx(vg,{})]})},ect=()=>{const{t,language:e}=Xe(),n=e==="en"?"GBP":"EUR",r=e==="en"?"en-GB":e==="de"?"de-DE":"nl-NL",i=new Intl.NumberFormat(r,{style:"currency",currency:n}).format(9.99),s=[t("feature_included_1"),t("feature_included_2"),t("feature_included_3"),t("feature_included_4"),t("feature_included_5"),t("feature_included_6"),t("feature_included_7"),t("feature_included_8")];return f.jsxs("div",{className:"bg-brand-background min-h-screen flex flex-col",children:[f.jsx(Qf,{}),f.jsx("main",{className:"flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 w-full",children:f.jsxs("div",{className:"bg-brand-surface p-8 sm:p-12 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-block p-4 bg-brand-primary/10 rounded-full",children:f.jsx(qee,{className:"w-12 h-12 text-brand-primary"})}),f.jsx("h1",{className:"text-4xl font-bold mt-4",children:t("rates_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:t("rates_subtitle")})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[f.jsxs("div",{className:"bg-brand-secondary p-8 rounded-lg border border-brand-border text-center",children:[f.jsx("h2",{className:"text-2xl font-semibold",children:t("rates_trial_title")}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:t("rates_trial_body")}),f.jsx("a",{href:"/#/register",className:"mt-6 block w-full bg-brand-primary text-white font-bold py-3 px-8 rounded-full text-lg hover:opacity-90 transition-opacity",children:t("rates_trial_cta")})]}),f.jsxs("div",{className:"bg-brand-secondary p-8 rounded-lg border border-brand-border text-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text-secondary",children:t("rates_after_trial_title")}),f.jsx("p",{className:"text-5xl font-extrabold text-brand-text-primary my-2",children:t("rates_price_display",{price:i})}),f.jsx("p",{className:"font-semibold text-brand-text-secondary",children:t("rates_price_user_month")})]})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h3",{className:"text-2xl font-semibold text-center mb-6",children:t("rates_all_in_one_title")}),f.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4",children:s.map(a=>f.jsxs("li",{className:"flex items-center",children:[f.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-green-500/10 rounded-full mr-3 flex-shrink-0",children:f.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-brand-text-primary",children:a})]},a))})]})]})}),f.jsx(vg,{})," "]})},tct=()=>{const{t}=Xe();return f.jsxs("div",{className:"bg-brand-background min-h-screen flex flex-col",children:[f.jsx(Qf,{}),f.jsx("main",{className:"flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 w-full",children:f.jsxs("div",{className:"bg-brand-surface p-8 sm:p-12 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-block p-4 bg-brand-primary/10 rounded-full",children:f.jsx(A5,{className:"w-12 h-12 text-brand-primary"})}),f.jsx("h1",{className:"text-4xl font-bold mt-4",children:t("terms_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:t("terms_subtitle")})]}),f.jsxs("div",{className:"prose max-w-none prose-p:text-brand-text-secondary prose-h2:text-brand-text-primary prose-ul:text-brand-text-secondary prose-li:my-1",children:[f.jsx("p",{children:t("terms_intro")}),f.jsx("h2",{children:t("terms_h2_usage")}),f.jsx("p",{children:t("terms_p_usage_1")}),f.jsx("p",{dangerouslySetInnerHTML:{__html:t("terms_p_usage_2")}}),f.jsx("p",{children:t("terms_p_usage_3")}),f.jsx("h2",{children:t("terms_h2_payment")}),f.jsx("p",{children:t("terms_p_payment_1")}),f.jsx("p",{children:t("terms_p_payment_2")}),f.jsx("p",{dangerouslySetInnerHTML:{__html:t("terms_p_payment_3")}}),f.jsx("p",{children:t("terms_p_payment_4")}),f.jsx("h2",{children:t("terms_h2_ip")}),f.jsx("p",{children:t("terms_p_ip")}),f.jsx("h2",{children:t("terms_h2_liability")}),f.jsx("p",{children:t("terms_p_liability")}),f.jsx("h2",{children:t("terms_h2_termination")}),f.jsx("p",{children:t("terms_p_termination")}),f.jsx("h2",{children:t("terms_h2_law")}),f.jsx("p",{children:t("terms_p_law")}),f.jsx("h2",{children:t("terms_h2_contact")}),f.jsx("p",{dangerouslySetInnerHTML:{__html:t("terms_p_contact")}})]})]})}),f.jsx(vg,{})]})},nct=()=>{const{t}=Xe(),[e,n]=k.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,i]=k.useState(!1),[s,a]=k.useState(!1),l=d=>{const{name:h,value:p}=d.target;n(_=>({..._,[h]:p}))},u=d=>{d.preventDefault(),a(!0),console.log("Form data:",e),setTimeout(()=>{a(!1),i(!0)},1e3)};return f.jsxs("div",{className:"bg-brand-background min-h-screen",children:[f.jsx(Qf,{}),f.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:f.jsxs("div",{className:"bg-brand-surface p-8 sm:p-12 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-block p-4 bg-brand-primary/10 rounded-full",children:f.jsx($E,{className:"w-12 h-12 text-brand-primary"})}),f.jsx("h1",{className:"text-4xl font-bold mt-4",children:t("contact_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:t("contact_subtitle")})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[f.jsx("div",{className:"space-y-8",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:t("contact_details_title")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsx($E,{className:"w-6 h-6 mr-4 mt-1 text-brand-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold",children:t("contact_email_label")}),f.jsx("a",{href:"mailto:info@salexplosive.com",className:"text-brand-text-secondary hover:text-brand-primary underline",children:"info@salexplosive.com"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx(Gee,{className:"w-6 h-6 mr-4 mt-1 text-brand-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold",children:t("contact_phone_label")}),f.jsx("p",{className:"text-brand-text-secondary",children:"+31685137375"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx(k5,{className:"w-6 h-6 mr-4 mt-1 text-brand-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold",children:t("contact_address_label")}),f.jsx("p",{className:"text-brand-text-secondary",children:"Ringelwikke 8, 5931SC te Tegelen"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx(E5,{className:"w-6 h-6 mr-4 mt-1 text-brand-primary"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold",children:t("contact_kvk_label")}),f.jsx("p",{className:"text-brand-text-secondary",children:"97878952"})]})]})]})]})}),f.jsx("div",{children:r?f.jsxs("div",{className:"bg-green-500/10 text-green-700 p-6 rounded-lg text-center h-full flex flex-col justify-center",children:[f.jsx("h3",{className:"text-xl font-bold",children:t("contact_form_submitted_title")}),f.jsx("p",{children:t("contact_form_submitted_body")})]}):f.jsxs("form",{onSubmit:u,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:t("contact_form_name_label")}),f.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2",onChange:l})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:t("contact_form_email_label")}),f.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2",onChange:l})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:t("contact_form_phone_label")}),f.jsx("input",{type:"tel",name:"phone",id:"phone",required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2",onChange:l})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:t("contact_form_subject_label")}),f.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2",onChange:l})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-brand-text-secondary mb-1",children:t("contact_form_message_label")}),f.jsx("textarea",{name:"message",id:"message",required:!0,rows:5,className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2 resize-none",onChange:l})]}),f.jsx("div",{className:"pt-2",children:f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:opacity-90 disabled:opacity-50",children:t(s?"contact_form_sending_button":"contact_form_submit_button")})})]})})]})]})}),f.jsx("footer",{className:"bg-brand-secondary",children:f.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[f.jsx("p",{className:"text-center text-base text-brand-text-secondary",children:t("footer_copyright",{year:new Date().getFullYear()})}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/contact",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_contact")}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/privacy",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_privacy")}),f.jsx("span",{className:"text-brand-text-secondary",children:"|"}),f.jsx("a",{href:"/#/terms",className:"text-base text-brand-text-secondary hover:text-brand-primary underline",children:t("footer_terms")})]})})})]})},rct=()=>{const{t}=Xe();return f.jsxs("div",{className:"bg-brand-background min-h-screen flex flex-col",children:[f.jsx(Qf,{}),f.jsx("main",{className:"flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:f.jsxs("div",{className:"bg-brand-surface p-8 sm:p-12 rounded-xl shadow-lg",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-block p-4 bg-brand-primary/10 rounded-full",children:f.jsx(_k,{className:"w-12 h-12 text-brand-primary"})}),f.jsx("h1",{className:"text-4xl font-bold mt-4",children:t("about_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-2",children:t("about_subtitle")})]}),f.jsxs("div",{className:"prose max-w-none prose-p:text-brand-text-secondary prose-h2:text-brand-text-primary",children:[f.jsx("h2",{children:t("about_h2_story")}),f.jsx("p",{children:t("about_p1")}),f.jsx("p",{children:t("about_p2")}),f.jsx("p",{children:t("about_p3")}),f.jsx("h2",{children:t("about_h2_mission")}),f.jsx("p",{children:t("about_p4")}),f.jsx("p",{children:t("about_p5")})]})]})}),f.jsx(vg,{})," "]})},ict=()=>{const{user:t,allUsers:e,invoices:n}=bt(),{t:r}=Xe(),[i,s]=k.useState(!1),[a,l]=k.useState(1),[u,d]=k.useState(!1),[h,p]=k.useState(!1);if((t==null?void 0:t.role)!=="owner")return f.jsx("div",{className:"text-center p-8",children:"Access Denied."});const _=e.length,v=t.purchasedLicenses||_,S=9.99,E=z=>{switch(z){case"en":return{locale:"en-GB",currency:"GBP",vatRate:0};case"de":return{locale:"de-DE",currency:"EUR",vatRate:0};default:return{locale:"nl-NL",currency:"EUR",vatRate:.21}}},{locale:A,currency:I,vatRate:j}=E(t.lang),M=z=>new Intl.NumberFormat(A,{style:"currency",currency:I}).format(z),B=v*S,V=B*(1+j),N=z=>{const $=r(z==="Betaald"?"status_paid":"status_due"),U=z==="Betaald"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500";return f.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full ${U}`,children:$})},P=async()=>{p(!0);try{const z=fk(Lf,"europe-west3"),$=hk(z,"requestExtraLicenses"),U=M(a*S);await $({numberOfLicenses:a,totalCost:U}),d(!0),setTimeout(()=>{s(!1),setTimeout(()=>{d(!1),l(1)},500)},4e3)}catch(z){console.error("Fout bij aanvragen extra licenties (Owner):",z),alert(`Er is een fout opgetreden bij het indienen van uw aanvraag: ${z.message}. Bekijk de console (F12) voor technische details.`)}finally{p(!1)}},O=M(S),D=M(a*S);return f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:r("billing_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:r("billing_subtitle")})]}),f.jsx("button",{onClick:()=>s(!0),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:r("buy_extra_licenses")})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:r("subscription_overview")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg flex items-center",children:[f.jsx(Ql,{className:"w-8 h-8 text-brand-primary mr-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-brand-text-secondary",children:r("used_licenses")}),f.jsx("p",{className:"text-2xl font-bold",children:r("licenses_of_total",{used:_,total:v})})]})]}),f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg flex items-center",children:[f.jsx(vk,{className:"w-8 h-8 text-brand-primary mr-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-brand-text-secondary",children:r("price_per_license")}),f.jsx("p",{className:"text-2xl font-bold",children:M(S)})]})]}),f.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg flex items-center",children:[f.jsx(Vb,{className:"w-8 h-8 text-brand-primary mr-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-brand-text-secondary",children:r("total_monthly_cost")}),f.jsxs("p",{className:"text-2xl font-bold",children:[M(V)," ",f.jsx("span",{className:"text-sm font-normal",children:r("vat_inclusive")})]}),f.jsxs("p",{className:"text-xs text-brand-text-secondary",children:[M(B)," ",r("vat_exclusive")]})]})]})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl shadow-lg",children:[f.jsx("div",{className:"p-6",children:f.jsx("h2",{className:"text-2xl font-semibold",children:r("invoice_history")})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-brand-secondary",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary",children:r("invoice_number")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary",children:r("invoice_date")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary",children:r("invoice_amount")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary",children:r("invoice_status")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary text-right",children:r("invoice_action")})]})}),f.jsx("tbody",{children:n.length>0?n.map(z=>f.jsxs("tr",{className:"border-b border-brand-border",children:[f.jsx("td",{className:"p-4 font-medium",children:z.invoiceNumber}),f.jsx("td",{className:"p-4 text-brand-text-secondary",children:new Date(z.date).toLocaleDateString()}),f.jsx("td",{className:"p-4 font-semibold",children:new Intl.NumberFormat(A,{style:"currency",currency:z.currency}).format(z.amount)}),f.jsx("td",{className:"p-4",children:N(z.status)}),f.jsx("td",{className:"p-4 text-right",children:f.jsx("a",{href:z.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg text-sm hover:opacity-90 transition-opacity",children:r("download_invoice")})})]},z.id)):f.jsx("tr",{children:f.jsxs("td",{colSpan:5,className:"text-center py-12 text-brand-text-secondary",children:[f.jsx(zb,{className:"w-12 h-12 mx-auto mb-2"}),r("no_invoices_found")]})})})]})})]}),i&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in-fast",onClick:()=>!u&&s(!1),children:f.jsx("div",{className:"bg-brand-surface rounded-xl p-8 w-full max-w-md",onClick:z=>z.stopPropagation(),children:u?f.jsxs("div",{className:"text-center",children:[f.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("h3",{className:"text-xl font-bold text-brand-text-primary mt-4",children:r("buy_licenses_modal_success_title")}),f.jsx("p",{className:"text-brand-text-secondary mt-2",children:r("buy_licenses_modal_success_body")})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:r("buy_licenses_modal_title")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"extraLicenses",className:"block text-sm font-medium text-brand-text-secondary mb-2",children:r("buy_licenses_modal_amount")}),f.jsx("input",{id:"extraLicenses",type:"number",min:"1",value:a,onChange:z=>l(parseInt(z.target.value)||1),className:"w-full bg-brand-secondary border border-brand-border rounded-lg px-3 py-2"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-brand-text-secondary",children:r("buy_licenses_modal_price_per",{price:O})}),f.jsx("p",{className:"text-2xl font-bold text-brand-text-primary",children:r("buy_licenses_modal_total",{total_cost:D})})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[f.jsx("button",{type:"button",onClick:()=>s(!1),className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg",children:r("cancel")}),f.jsx("button",{onClick:P,disabled:h,className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg disabled:opacity-50",children:r(h?"sending_request":"buy_licenses_modal_submit")})]})]})})})]})},sct=()=>{const{allUsers:t}=bt(),{t:e}=Xe(),{theme:n}=EC(),r=k.useMemo(()=>{if(t.length===0)return[];const d=t.reduce((h,p)=>{const _=p.branchName||"Onbekend";return h[_]||(h[_]=[]),h[_].push(p),h},{});return Object.entries(d).map(([h,p])=>{const _=p.find(A=>A.role==="manager")||null,v=p.flatMap(A=>A.sales||[]),S=yn(v,"month"),E=ql(v,"month");return{branchName:h,manager:_,employeeCount:p.length,totalSalesMonth:S,avgDailySalesMonth:E}}).sort((h,p)=>p.avgDailySalesMonth-h.avgDailySalesMonth)},[t]),i=n==="dark"?"#adb5bd":"#868e96",s=n==="dark"?"#343a40":"#e9ecef",a=n==="dark"?"#587CF8":"#4C6EF5",l=n==="dark"?"#1E1E1E":"#ffffff",u=n==="dark"?"#343a40":"#e9ecef";return f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:e("sales_analytics_title")}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:e("sales_analytics_subtitle")})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4 text-brand-text-primary",children:e("monthly_avg_sales_per_branch")}),f.jsx("div",{className:"h-96",children:f.jsx(uI,{width:"100%",height:"100%",children:f.jsxs(TC,{data:r,margin:{top:5,right:20,left:-10,bottom:5},children:[f.jsx(Mx,{strokeDasharray:"3 3",stroke:s}),f.jsx(Dx,{dataKey:"branchName",stroke:i}),f.jsx(jx,{stroke:i}),f.jsx(mC,{contentStyle:{backgroundColor:l,border:`1px solid ${u}`},cursor:{fill:"rgba(76, 110, 245, 0.1)"}}),f.jsx(mx,{}),f.jsx(Rx,{dataKey:"avgDailySalesMonth",fill:a,name:e("avg_daily_sales"),radius:[4,4,0,0]})]})})})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl shadow-lg",children:[f.jsx("div",{className:"p-6",children:f.jsx("h2",{className:"text-xl font-semibold",children:e("branch_performance_month")})}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-brand-secondary",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary",children:e("branch")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary",children:e("manager_label")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary text-center",children:e("employees")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary text-right",children:e("total_sales")}),f.jsx("th",{className:"p-4 text-sm font-semibold text-brand-text-secondary text-right",children:e("avg_daily_sales")})]})}),f.jsx("tbody",{children:r.map(d=>{var h,p;return f.jsxs("tr",{className:"border-b border-brand-border",children:[f.jsx("td",{className:"p-4 font-medium",children:d.branchName}),f.jsx("td",{className:"p-4 text-brand-text-secondary",children:f.jsxs("div",{className:"flex items-center",children:[(h=d.manager)!=null&&h.profilePicture?f.jsx("img",{src:d.manager.profilePicture,alt:d.manager.name,className:"w-6 h-6 rounded-full object-cover mr-2"}):f.jsx(Ts,{className:"w-6 h-6 mr-2 text-brand-text-secondary"}),f.jsx("span",{children:((p=d.manager)==null?void 0:p.name)||"-"})]})}),f.jsx("td",{className:"p-4 text-brand-text-secondary text-center",children:d.employeeCount}),f.jsx("td",{className:"p-4 font-semibold text-right",children:d.totalSalesMonth.toFixed(1)}),f.jsx("td",{className:"p-4 font-bold text-brand-primary text-right",children:d.avgDailySalesMonth.toFixed(2)})]},d.branchName)})})]}),r.length===0&&f.jsxs("div",{className:"text-center py-12 text-brand-text-secondary",children:[f.jsx(Bb,{className:"w-12 h-12 mx-auto mb-2"}),e("branches_empty_title")]})]})]})]})},zy={salesperson:{label:"Salesperson",color:"bg-blue-500/10 text-blue-500 border border-blue-500/20"},leader:{label:"Leader",color:"bg-purple-500/10 text-purple-500 border border-purple-500/20"},"team-leader":{label:"Team Leader",color:"bg-green-500/10 text-green-500 border border-green-500/20"},manager:{label:"Manager",color:"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20"},owner:{label:"Owner",color:"bg-red-500/10 text-red-500 border border-red-500/20"}},NV=({member:t,title:e})=>{const n=zy[t.role]||{label:t.role,color:"bg-gray-500/10 text-gray-500"};return f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg text-center border border-brand-border flex flex-col justify-between min-h-[280px]",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text-secondary mb-4",children:e}),t.profilePicture?f.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-24 h-24 rounded-full object-cover mx-auto mb-4"}):f.jsx(Ts,{className:"w-24 h-24 text-brand-text-secondary mx-auto mb-4"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-xl text-brand-text-primary",children:t.name}),f.jsx("span",{className:`text-sm font-medium px-2.5 py-0.5 rounded-full ${n.color}`,children:n.label}),f.jsxs("div",{className:"flex items-center justify-center text-xs text-brand-text-secondary mt-3",children:[t.industry==="telecom"?f.jsx(fp,{className:"w-4 h-4 mr-1.5"}):f.jsx(hp,{className:"w-4 h-4 mr-1.5"}),f.jsx("span",{className:"capitalize",children:t.industry})]})]})]})},act=({member:t})=>{const{t:e}=Xe(),n=yn(t.sales||[],"month");return f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-4 flex items-center justify-between border border-brand-border",children:[f.jsxs("div",{className:"flex items-center",children:[t.profilePicture?f.jsx("img",{src:t.profilePicture,alt:t.name,className:"w-10 h-10 rounded-full object-cover mr-4"}):f.jsx(Ts,{className:"w-10 h-10 text-brand-text-secondary mr-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-brand-text-primary",children:t.name}),f.jsxs("div",{className:"flex items-center text-xs text-brand-text-secondary mt-1",children:[t.industry==="telecom"?f.jsx(fp,{className:"w-4 h-4 mr-1.5"}):f.jsx(hp,{className:"w-4 h-4 mr-1.5"}),f.jsx("span",{className:"capitalize",children:t.industry})]})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xl font-bold text-brand-primary text-right",children:n.toFixed(1)}),f.jsx("p",{className:"text-xs text-brand-text-secondary text-right",children:e("this_month")})]})]})},oct=()=>{const{user:t,allUsers:e,updateTeamMemberRole:n}=bt(),{t:r,language:i}=Xe(),[s,a]=k.useState(!1),[l,u]=k.useState(""),[d,h]=k.useState(!1),{teamMembers:p,peers:_,displayLeader:v,displayTeamLeader:S}=k.useMemo(()=>{if(!t||e.length===0)return{teamMembers:[],peers:[],displayLeader:null,displayTeamLeader:null};const V=e.filter(z=>{var $;return($=t.teamMembers)==null?void 0:$.includes(z.email)}),N=e.find(z=>{var $;return($=z.teamMembers)==null?void 0:$.includes(t.email)});let P=null,O=null;N&&(N.role==="team-leader"?(P=N,O=N):N.role==="leader"?(P=N,O=e.find($=>{var U;return $.role==="team-leader"&&((U=$.teamMembers)==null?void 0:U.includes(N.email))})||N):(P=N,O=N));const D=N&&t.role==="salesperson"?e.filter(z=>{var $;return(($=N.teamMembers)==null?void 0:$.includes(z.email))&&z.email!==t.email}):[];return{teamMembers:V,peers:D,displayLeader:P,displayTeamLeader:O}},[t,e]),E=k.useMemo(()=>{const V=p.flatMap(N=>N.sales||[]);return{today:yn(V,"today"),week:yn(V,"week"),month:yn(V,"month")}},[p]),A=async()=>{h(!0),u("");try{const V=p.map(P=>({name:P.name,sales:P.sales||[]})),N=await m6e(V,i);u(N)}catch(V){console.error(V),u("Fout bij het genereren van de analyse.")}finally{h(!1)}},I=async(V,N)=>{if(window.confirm(r("change_role_confirm",{role:zy[N].label})))try{await n(V,N)}catch(P){console.error("Role change failed:",P)}},j=V=>t?t.role==="team-leader"&&["salesperson","leader"].includes(V)?["salesperson","leader"]:[V]:[V];if(!t)return null;const M=t.role==="salesperson"?r("my_team_title_salesperson"):r("page_title_mijnpriveteam"),B=t.role==="salesperson"?r("my_team_subtitle_salesperson"):t.role==="leader"?r("welcome_leader"):r("welcome_team_leader");return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-8 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:M}),f.jsx("p",{className:"text-lg text-brand-text-secondary mt-1",children:B})]}),(t.role==="leader"||t.role==="team-leader")&&f.jsxs("button",{onClick:()=>a(!0),className:"bg-brand-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center hover:opacity-90 transition-opacity",children:[f.jsx(Xs,{className:"w-5 h-5 mr-2"}),r("add_member")]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S?f.jsx(NV,{member:S,title:r("your_team_leader")}):f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg text-center flex items-center justify-center min-h-[280px]",children:f.jsx("p",{className:"text-brand-text-secondary",children:r("no_team_leader_found")})}),v?f.jsx(NV,{member:v,title:r("your_leader")}):f.jsx("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg text-center flex items-center justify-center min-h-[280px]",children:f.jsx("p",{className:"text-brand-text-secondary",children:r("no_leader_found")})})]}),t.role==="salesperson"&&f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:r("your_teammates")}),_.length>0?f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:_.map(V=>f.jsx(act,{member:V},V.email))}):f.jsx("p",{className:"text-brand-text-secondary",children:r("no_teammates")})]}),(t.role==="leader"||t.role==="team-leader")&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"p-4 bg-brand-primary/10 rounded-full mr-4",children:f.jsx(Vb,{className:"w-8 h-8 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:r("kpi_sales_today")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:E.today.toFixed(1)})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"p-4 bg-brand-primary/10 rounded-full mr-4",children:f.jsx(Bb,{className:"w-8 h-8 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:r("kpi_sales_week")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:E.week.toFixed(1)})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg flex items-center",children:[f.jsx("div",{className:"p-4 bg-brand-primary/10 rounded-full mr-4",children:f.jsx(Xp,{className:"w-8 h-8 text-brand-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-sm font-semibold text-brand-text-secondary",children:r("kpi_sales_month")}),f.jsx("p",{className:"text-3xl font-bold text-brand-text-primary",children:E.month.toFixed(1)})]})]})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("team_members_and_roles")}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(V=>{const N=j(V.role),P=zy[V.role]||{label:V.role,color:"bg-gray-500/10 text-gray-500"};return f.jsxs("div",{className:"bg-brand-secondary rounded-lg p-4 flex flex-col border border-brand-border",children:[f.jsxs("div",{className:"flex items-start mb-4",children:[V.profilePicture?f.jsx("img",{src:V.profilePicture,alt:V.name,className:"w-12 h-12 rounded-full object-cover mr-4 flex-shrink-0"}):f.jsx(Ts,{className:"w-12 h-12 text-brand-text-secondary mr-4 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-brand-text-primary",children:V.name}),f.jsx("span",{className:`text-xs font-medium px-2.5 py-0.5 rounded-full ${P.color}`,children:P.label})]})]}),f.jsxs("div",{className:"text-center my-4 flex-grow",children:[f.jsx("p",{className:"text-4xl font-bold text-brand-primary",children:yn(V.sales||[],"month").toFixed(1)}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:r("sales_this_month")})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx("label",{className:"text-xs text-brand-text-secondary mb-1 block",children:r("change_role")}),f.jsx("select",{value:V.role,onChange:O=>I(V.email,O.target.value),className:"w-full bg-brand-surface border border-brand-border rounded-md px-2 py-1.5 text-sm font-medium disabled:opacity-70 disabled:cursor-not-allowed",disabled:N.length<=1,children:N.map(O=>f.jsx("option",{value:O,className:"capitalize",children:zy[O].label},O))})]})]},V.email)})})]}),f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-semibold text-brand-text-primary flex items-center",children:[f.jsx(Yr,{className:"w-6 h-6 mr-3 text-brand-primary"}),r("ai_team_performance_analysis")]}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:r("ai_team_analysis_subtitle")})]}),f.jsxs("button",{onClick:A,disabled:d,className:"bg-brand-secondary text-brand-text-primary font-semibold py-2 px-4 rounded-lg flex items-center hover:bg-brand-border disabled:opacity-50",children:[d?f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Yr,{className:"w-5 h-5 mr-2"}),r(d?"analyzing":"generate_analysis")]})]}),l&&f.jsx("div",{className:"bg-brand-secondary p-4 rounded-lg prose prose-invert max-w-none text-brand-text-secondary prose-headings:text-brand-text-primary prose-strong:text-brand-text-primary",children:f.jsx(si,{children:l})})]})]})]}),f.jsx(T9,{isOpen:s,onClose:()=>a(!1)})]})},A9=k.createContext(void 0),EC=()=>{const t=k.useContext(A9);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},lct=({children:t})=>{const[e,n]=k.useState(()=>{if(typeof window<"u"){const i=window.localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});k.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return f.jsx(A9.Provider,{value:{theme:e,toggleTheme:r},children:t})},cct=()=>{const{user:t}=bt(),[e,n]=k.useState(Pe.Dashboard),r=()=>{const i=(t==null?void 0:t.role)==="owner",s=(t==null?void 0:t.role)==="manager"||i,a=[Pe.PitchGenerator,Pe.Pitches,Pe.PitchPractice,Pe.CompetitorAnalysis,Pe.Goals,Pe.Clients,Pe.CompetitorNotes];if(i&&a.includes(e))return f.jsx(_y,{setCurrentPage:n});if((e===Pe.Clients||e===Pe.Goals)&&(i||(t==null?void 0:t.role)==="manager"))return i?f.jsx(_y,{setCurrentPage:n}):f.jsx(_a,{});switch(e){case Pe.Dashboard:return i?f.jsx(_y,{setCurrentPage:n}):f.jsx(_a,{});case Pe.PitchGenerator:return f.jsx(W8e,{});case Pe.Pitches:return f.jsx(Olt,{});case Pe.PitchPractice:return f.jsx($lt,{});case Pe.Clients:return f.jsx(J8e,{});case Pe.CompetitorAnalysis:return f.jsx(Nlt,{});case Pe.CompetitorNotes:return f.jsx(Flt,{});case Pe.Goals:return f.jsx(jlt,{});case Pe.Settings:return f.jsx(Vlt,{});case Pe.Organization:return i?f.jsx(CV,{}):f.jsx(_a,{});case Pe.MijnPriveTeam:return i?f.jsx(CV,{}):(t==null?void 0:t.role)==="manager"?f.jsx(Ylt,{}):t!=null&&t.role&&["salesperson","leader","team-leader"].includes(t.role)?f.jsx(oct,{}):f.jsx(_a,{});case Pe.MijnFiliaalTeam:return t!=null&&t.role&&["salesperson","leader","team-leader","manager","owner"].includes(t.role)?f.jsx(Wlt,{}):f.jsx(_a,{});case Pe.Profile:return f.jsx(Ult,{});case Pe.TeamKnowledgeBase:case Pe.OrganizationNews:return f.jsx(Blt,{});case Pe.Planning:return s?f.jsx(Jlt,{}):f.jsx(_a,{});case Pe.PackageManagement:return s?f.jsx(Xlt,{}):f.jsx(_a,{});case Pe.Billing:return i?f.jsx(ict,{}):f.jsx(_a,{});case Pe.SalesAnalytics:return i?f.jsx(sct,{}):f.jsx(_a,{});default:return i?f.jsx(_y,{setCurrentPage:n}):f.jsx(_a,{})}};return f.jsx(z8e,{currentPage:e,setCurrentPage:n,children:r()})},uct=()=>{const{user:t,loading:e}=bt(),[n,r]=k.useState(window.location.hash||"#/");if(k.useEffect(()=>{const i=()=>{r(window.location.hash||"#/")};return window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]),e)return f.jsx("div",{className:"flex items-center justify-center h-screen bg-brand-background",children:f.jsxs("svg",{className:"animate-spin h-8 w-8 text-brand-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});if(t)return t.forcePasswordChange?f.jsx(Klt,{}):f.jsx(cct,{});switch(n){case"#/register":return f.jsx(Hlt,{});case"#/login":return f.jsx(qlt,{});case"#/privacy":return f.jsx(Zlt,{});case"#/services":return f.jsx(ect,{});case"#/terms":return f.jsx(tct,{});case"#/contact":return f.jsx(nct,{});case"#/about":return f.jsx(rct,{});default:return f.jsx(Glt,{})}},dct=()=>f.jsx(lct,{children:f.jsx(Mee,{children:f.jsx(CVe,{children:f.jsx(uct,{})})})}),k9=document.getElementById("root");if(!k9)throw new Error("Could not find root element to mount to");const fct=_H.createRoot(k9);fct.render(f.jsx(PV.StrictMode,{children:f.jsx(dct,{})}));
